{
  "active": true,
  "activeVersion": {
    "updatedAt": "2026-01-10T12:09:54.050Z",
    "createdAt": "2026-01-10T12:09:49.983Z",
    "versionId": "fb6febdd-bc68-46a4-8f32-55552e5f2829",
    "workflowId": "dw6dfsrfsej9e4v5",
    "nodes": [
      {
        "parameters": {
          "chatId": "249503190",
          "text": "={{ $json.execution.error.message }}",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          -912,
          3424
        ],
        "id": "57929fed-e838-41a1-9b90-2b5d54897ab4",
        "name": "Send a text message",
        "webhookId": "a4b08208-4484-4843-8f51-ecaeabec47f2",
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "content": "## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n\n### RSS –ª–µ–Ω—Ç—ã (news_rss_channels)\n- news_rss_id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n- news_rss_url - —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–µ–Ω—Ç—É\n- news_rss_short - –∏–∑ –∫–∞–∫–æ–≥–æ –ø–æ–ª—è, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–æ–¥–æ–π RSS Read –±—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –¥–∞–π–∂–µ—Å—Ç–∞ (.penci-entry-content)\n- news_rss_title - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∞–π—Ç–∞ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥–µ—Ç –∫–∞–Ω–∞–ª, —Å \".\"\n- news_rss_content - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏ , —Å \".\"\n- news_ rss_ image - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è , —Å \".\"\n- news_rss_created_at - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è\n- news_rss_disable - True –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å\n\n### –ù–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (news_summary)\n- news_summary_id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n- news_summary_link - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º—É –Ω–æ–≤–æ—Å—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)\n- news_summary_text - –Ω–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π\n- news_summary_title - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–æ–≤–æ—Å—Ç–∏ (link )\n- news_summary_content - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏\n- news_summary_image  - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n- news_summary_date_digest - –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ\n- news_summary_digest - (BOOL) –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç–∞—Ç—å—é –¥–∞–π–¥–∂–µ—Å—Ç–∞\n- news_summary_date_published - –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏\n- news_summary_published - (BOOL) —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ç—å—è\n- news_summary_created_at - –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –≤ —Ç–∞–±–ª–∏—Ü—É\n- news_summary_disable - –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –°—Ç–∞–≤–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ —Å—Ç–∞—Ç—å—è —É–∂–µ –≤—ã—à–ª–∞ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ –∏ –±—ã–ª–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞.\n\n### –°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ (publication).\n- publication_id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n- publication_title - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n- publication_text - —Ç–µ–∫—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n- publication_image - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n- publication_date - –¥–∞—Ç–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–Ω–µ –ø—É—Å—Ç–æ–µ)\n- publication_original - —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–æ–≤–æ—Å—Ç–∏\n- publication_date_complete - —Ä–µ–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—É—Å—Ç–∞—è)\n",
          "height": 1088,
          "width": 448
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1232,
          2320
        ],
        "typeVersion": 1,
        "id": "d4230d1f-e16d-4983-a420-62f21a05439c",
        "name": "Sticky Note4",
        "disabled": true
      },
      {
        "parameters": {
          "path": "s/news_authorize",
          "responseMode": "responseNode",
          "options": {}
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2.1,
        "position": [
          32,
          1648
        ],
        "id": "585b067f-a839-4be8-89fc-2766ab109afb",
        "name": "Webhook",
        "webhookId": "f1c6bc81-e009-40d4-a746-41220389f1b8"
      },
      {
        "parameters": {
          "content": "## –ó–∞–ø—Ä–æ—Å –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.\n–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –≤ –Ω–æ–¥–µ Webhook:  \n`avdivo/news_authorize`\navdivo - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Å—Ö–µ–º–∞ –≤ –ë–î\n\n### –í –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω–æ–¥–µ HTML:\n–í –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –Ω–µ—Ç), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∞–º.",
          "height": 368,
          "width": 1056
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -16,
          1440
        ],
        "typeVersion": 1,
        "id": "65dd1c53-67de-41df-9d33-cfe6f3b81730",
        "name": "Sticky Note5"
      },
      {
        "parameters": {
          "language": "python",
          "pythonCode": "# –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\n\n# –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å n8n\nbase_url = input[\"app_base_url\"]\n\n# –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞: webhook –∏–ª–∏ webhook-test\nmode = \"webhook\"\nif input[\"app_mode\"] == \"test\":\n  mode += \"-test\"\n\n# –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nlogin = input[\"user_login\"]\n\n# –í—ã—á–∏—Å–ª—è–µ–º url –≤–µ–±—Ö—É–∫–∞ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç/–ø—Ä–æ–¥), –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nwebhook_url = f\"{base_url}{mode}/{login}/get_list\"\n\n\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <!-- –ú–µ—Ç–∞-—Ç–µ–≥ –¥–ª—è —É—á–µ—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</title>\n    \n    <style>\n        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */\n        body {\n            font-family: sans-serif;\n            background-color: #f4f4f4;\n            color: #333;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n        }\n        .container {\n            width: 300px;\n            padding: 30px;\n            background-color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        input[type=\"text\"], input[type=\"password\"] {\n            width: 100%;\n            padding: 10px;\n            margin-bottom: 15px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-sizing: border-box; /* –í–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —à–∏—Ä–∏–Ω—ã */\n        }\n        input[type=\"submit\"] {\n            width: 100%;\n            padding: 10px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        input[type=\"submit\"]:hover {\n            background-color: #0056b3;\n        }\n\n        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */\n        @media (prefers-color-scheme: dark) {\n            body {\n                background-color: #121212;\n                color: #e0e0e0;\n            }\n            .container {\n                background-color: #1e1e1e;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n            }\n            input[type=\"text\"], input[type=\"password\"] {\n                background-color: #333;\n                color: #e0e0e0;\n                border-color: #555;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>–í—Ö–æ–¥</h1>\n        <!-- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ action —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à –≤—Ç–æ—Ä–æ–π –≤–µ–±—Ö—É–∫ POST –≤ n8n -->\n        <form action=\\\"\"\"\" + webhook_url + \"\"\"\\\" method=\"post\">\n            <label for=\"username\">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>\n            <input type=\"text\" id=\"username\" name=\"username\" required>\n            \n            <label for=\"password\">–ü–∞—Ä–æ–ª—å:</label>\n            <input type=\"password\" id=\"password\" name=\"password\" required>\n            \n            <input type=\"submit\" value=\"–í–æ–π—Ç–∏\">\n        </form>\n    </div>\n    <script>\n        document.addEventListener('DOMContentLoaded', function() {\n            // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL-–∞–¥—Ä–µ—Å–∞\n            const urlParams = new URLSearchParams(window.location.search);\n            // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ 'error'\n            const errorMessage = urlParams.get('error');\n\n            // –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä 'error' —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç\n            if (errorMessage) {\n                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç <p> –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ\n                const errorElement = document.createElement('p');\n                \n                // –°–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–±–µ–ª—ã –∫–∞–∫ %20), –ø–æ—ç—Ç–æ–º—É –¥–µ–∫–æ–¥–∏—Ä—É–µ–º –µ–≥–æ\n                errorElement.textContent = decodeURIComponent(errorMessage);\n                \n                // –°—Ç–∏–ª–∏–∑—É–µ–º —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –∫—Ä–∞—Å–Ω—ã–º\n                errorElement.style.color = 'red';\n                errorElement.style.marginBottom = '15px'; // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É\n\n                // –ù–∞—Ö–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ <h1> –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ–≥–æ\n                const h1 = document.querySelector('h1');\n                if (h1) {\n                    h1.insertAdjacentElement('afterend', errorElement);\n                }\n            }\n        });\n    </script>\n</body>\n</html>\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          608,
          1648
        ],
        "id": "53914c45-9c0b-49d4-8cb9-3848d361ec0e",
        "name": "HTML"
      },
      {
        "parameters": {
          "httpMethod": "POST",
          "path": "s/get_list",
          "responseMode": "responseNode",
          "options": {}
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2.1,
        "position": [
          32,
          2112
        ],
        "id": "dc72067f-0f98-42b1-8571-140b728ecb98",
        "name": "Webhook1",
        "webhookId": "f1c6bc81-e009-40d4-a746-41220389f1b8"
      },
      {
        "parameters": {
          "content": "## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π, –≤—ã–ø–æ–ª–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫—É –ø–∞—Ä–æ–ª—è.\n–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –≤ –Ω–æ–¥–µ Webhook:  \n`avdivo/get_list`\navdivo - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Å—Ö–µ–º–∞ –≤ –ë–î\n\n### –í –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω–æ–¥–∞—Ö HTML:\n–í –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –Ω–µ—Ç), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∞–º.\n–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É get_list, –µ—Å–ª–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–µ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–≤–æ–¥–∏—Ç —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è.",
          "height": 512,
          "width": 2080
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -16,
          1856
        ],
        "typeVersion": 1,
        "id": "62f59a09-d327-4e1f-b64f-cf7f95f6f9ca",
        "name": "Sticky Note6"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "# –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\nparam = input[\"param\"]\n\n# –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å n8n\n\nbase_url = param[\"base_url\"]\n\n# –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞: webhook –∏–ª–∏ webhook-test\nmode = \"webhook\"\nif param[\"mode\"] == \"test\":\n  mode += \"-test\"\n\n# –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nlogin = param[\"scheme_name\"]\n\n# –í—ã—á–∏—Å–ª—è–µ–º url –≤–µ–±—Ö—É–∫–∞ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç/–ø—Ä–æ–¥), –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nwebhook_url = f\"{base_url}{mode}/{login}/assign_publications\"\n\n# –¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\ntoken = param[\"token\"]\n\n# –°–ø–∏—Å–æ–∫ HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ç—å—è–º–∏\nbody_list = input.get(\"body_list\", \"–ù–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.\")\n\n# –í Python Node\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</title>\n    \n        <style>\n        /* --- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ (–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞) --- */\n        body {\n            font-family: sans-serif;\n            background-color: #f4f4f4;\n            color: #333;\n            margin: 20px;\n            line-height: 1.6;\n        }\n        .container {\n            max-width: 800px;\n            margin: auto;\n            padding: 30px;\n            background-color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        .article-section {\n            padding-bottom: 20px;\n            margin-bottom: 20px;\n            border-bottom: 2px solid #eee;\n        }\n        .article-section:last-child {\n            border-bottom: none;\n            margin-bottom: 0;\n        }\n        h1, h2 {\n            color: #000;\n        }\n        .article-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 10px; /* Adjust as needed */\n        }\n        .read-more-link {\n            font-size: 1.8em; /* Adjust icon size */\n            text-decoration: none;\n            color: #007bff; /* Icon color */\n            position: relative;\n            display: inline-block;\n            margin-left: 10px;\n        }\n        .read-more-link:hover {\n            color: #0056b3; /* Darker color on hover */\n        }\n        .read-more-link::after {\n            content: '–ü—Ä–æ—á–∏—Ç–∞—Ç—å';\n            position: absolute;\n            right: 0;\n            top: 100%;\n            background-color: rgba(0, 0, 0, 0.8);\n            color: #fff;\n            padding: 5px 8px;\n            border-radius: 4px;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: opacity 0.2s, visibility 0.2s;\n            font-size: 0.8em;\n            z-index: 10;\n        }\n        .read-more-link:hover::after {\n            opacity: 1;\n            visibility: visible;\n        }\n                    textarea {\n                        width: 100%;\n                        padding: 10px;\n                        margin-bottom: 10px;\n                        border: 1px solid #ccc;\n                        border-radius: 4px;\n                        box-sizing: border-box;\n                        min-height: 150px;\n                        font-size: 17px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */\n                    }\n                    input[type=\"datetime-local\"] {\n                        width: 200px; /* –°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */\n                        padding: 8px;\n                        border: 1px solid #ccc;\n                        border-radius: 4px;\n                        background-color: #fff; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */\n                        color: #333; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */\n                        color-scheme: light;\n                    }\n        /* Custom Checkbox Styles */\n        label {\n            display: inline-flex;\n            align-items: center;\n            position: relative;\n            padding-left: 25px; /* Space for custom checkbox */\n            cursor: pointer;\n            margin-right: 15px; /* Keep original margin */\n        }\n\n        label input[type=\"checkbox\"] {\n            position: absolute;\n            opacity: 0;\n            width: 16px; /* Match custom checkbox size */\n            height: 16px;\n            cursor: pointer;\n            z-index: 1; /* Ensure it's clickable */\n            left: 0; /* Position correctly */\n            top: 50%;\n            transform: translateY(-50%);\n        }\n\n        label span::before {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 50%;\n            transform: translateY(-50%);\n            width: 16px;\n            height: 16px;\n            border: 2px solid #007bff; /* Blue border */\n            border-radius: 3px;\n            background-color: #fff;\n            transition: all 0.2s ease;\n        }\n\n        label input[type=\"checkbox\"]:checked + span::before {\n            background-color: #007bff; /* Blue background when checked */\n            border-color: #007bff;\n            content: '‚úî'; /* Checkmark */\n            color: #fff;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-size: 12px;\n            line-height: 1;\n        }\n        .controls {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            flex-wrap: wrap;\n        }\n        input[type=\"datetime-local\"] {\n            margin-right: 5px;\n            vertical-align: middle;\n        }\n\n        .submit-btn {\n            width: 100%;\n            padding: 10px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 18px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */\n            margin-top: 20px;\n        }\n        .submit-btn:hover {\n            background-color: #0056b3;\n        }\n\n\n        /* --- –°—Ç–∏–ª–∏ –¢–µ–º–Ω–æ–π —Ç–µ–º—ã --- */\n        @media (prefers-color-scheme: dark) {\n            body {\n                background-color: #121212;\n                color: #e0e0e0;\n            }\n            .container {\n                background-color: #1e1e1e;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n            }\n            h1, h2 {\n                color: #fff;\n            }\n            .article-section {\n                border-bottom: 2px solid #333;\n            }\n            textarea {\n                background-color: #333;\n                color: #e0e0e0;\n                border-color: #555;\n            }\n            input[type=\"datetime-local\"] {\n                background-color: #1e1e1e; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */\n                color: #e0e0e0; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */\n                border-color: #555;\n                color-scheme: dark;\n            }\n            label span::before {\n                border: 2px solid #007bff; /* Blue border */\n                background-color: #333; /* Dark background */\n            }\n            label input[type=\"checkbox\"]:checked + span::before {\n                background-color: #007bff; /* Blue background when checked */\n                border-color: #007bff;\n                color: #fff;\n            }\n        }\n        @media (max-width: 768px) {\n            .datetime-label {\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n            }\n        }\n    </style>\n    \n</head>\n<body>\n    <div class=\"container\">\n        <h1>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</h1>\n        \n        <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ POST-–∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –¥—Ä—É–≥–æ–π –≤–µ–±—Ö—É–∫ n8n -->\n        \"\"\" + f'<form action=\"{webhook_url}\" method=\"POST\"><input type=\"hidden\" name=\"auth_token\" value=\"{token}\">' + body_list + \"\"\"\n\n            <button type=\"submit\" class=\"submit-btn\">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>\n        </form>\n    </div>\n</body>\n</html>\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1632,
          2208
        ],
        "id": "fe742f2a-e00c-429b-a2f2-c0d5bf4aae82",
        "name": "HTML1",
        "alwaysOutputData": true
      },
      {
        "parameters": {
          "content": "## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–±–æ—Ç–µ\n- –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ –≤–æ—Ä–∫—Ñ–ª–æ—É –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n- –ù–∞–∑–≤–∞–Ω–∏–µ –≤–æ—Ä–∫—Ñ–ª–æ—É –¥–æ–ª–∂–Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ _login. –≠—Ç–æ  –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ —Ç–∞–∫–∂–µ —Å—Ö–µ–º–∞ –¥–ª—è –Ω–µ–≥–æ –≤ –ë–î.\n- –í –≤—ç–±—Ö—É–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ  Path, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —ç—Ç–æ–≥–æ –ª–æ–≥–∏–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: login/news_authorize\n- –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—Ç, –±–∞–∑–æ–≤—ã–π url, —Ç–∞–π–º–∑–æ–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n\n",
          "height": 400,
          "width": 448,
          "color": 3
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1232,
          1888
        ],
        "typeVersion": 1,
        "id": "8cc40680-2131-4d23-9bd1-68c83b6d66dc",
        "name": "Sticky Note8"
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.errorTrigger",
        "typeVersion": 1,
        "position": [
          -1184,
          3424
        ],
        "id": "3451f699-7e30-4747-ac43-41ff1da2a1ba",
        "name": "Error Trigger"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "# –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞\nbase_url = _items[0][\"json\"][\"base_url\"]\n\n# –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞: webhook –∏–ª–∏ webhook-test\nmode = \"webhook\"\nif _items[0][\"json\"][\"mode\"] == \"test\":\n  mode += \"-test\"\n\n# –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_input.first().json.scheme_name\nlogin = _items[0][\"json\"][\"scheme_name\"]\n\n# –í—ã—á–∏—Å–ª—è–µ–º url –≤–µ–±—Ö—É–∫–∞ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç/–ø—Ä–æ–¥), –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nwebhook_url = f\"{base_url}{mode}/{login}/get_list\"\n\n\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <!-- –ú–µ—Ç–∞-—Ç–µ–≥ –¥–ª—è —É—á–µ—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</title>\n    \n    <style>\n        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */\n        body {\n            font-family: sans-serif;\n            background-color: #f4f4f4;\n            color: #333;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n        }\n        .container {\n            width: 300px;\n            padding: 30px;\n            background-color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        input[type=\"text\"], input[type=\"password\"] {\n            width: 100%;\n            padding: 10px;\n            margin-bottom: 15px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-sizing: border-box; /* –í–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —à–∏—Ä–∏–Ω—ã */\n        }\n        input[type=\"submit\"] {\n            width: 100%;\n            padding: 10px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        input[type=\"submit\"]:hover {\n            background-color: #0056b3;\n        }\n\n        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */\n        @media (prefers-color-scheme: dark) {\n            body {\n                background-color: #121212;\n                color: #e0e0e0;\n            }\n            .container {\n                background-color: #1e1e1e;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n            }\n            input[type=\"text\"], input[type=\"password\"] {\n                background-color: #333;\n                color: #e0e0e0;\n                border-color: #555;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>–í—Ö–æ–¥</h1>\n        <p style=\"color: red; margin-bottom: 15px;\">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</p>\n        <!-- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ action —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à –≤—Ç–æ—Ä–æ–π –≤–µ–±—Ö—É–∫ POST –≤ n8n -->\n        <form action=\\\"\"\"\" + webhook_url + \"\"\"\\\" method=\"post\">\n            <label for=\"username\">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>\n            <input type=\"text\" id=\"username\" name=\"username\" required>\n            \n            <label for=\"password\">–ü–∞—Ä–æ–ª—å:</label>\n            <input type=\"password\" id=\"password\" name=\"password\" required>\n            \n            <input type=\"submit\" value=\"–í–æ–π—Ç–∏\">\n        </form>\n    </div>\n\n</body>\n</html>\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1024,
          2208
        ],
        "id": "eefb5f53-e14a-4abd-8af1-69115a269d93",
        "name": "HTML3"
      },
      {
        "parameters": {
          "respondWith": "text",
          "responseBody": "={{ $json.body }}",
          "options": {
            "responseHeaders": {
              "entries": [
                {
                  "name": "Content-Type",
                  "value": "text/html"
                }
              ]
            }
          }
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.4,
        "position": [
          1216,
          2208
        ],
        "id": "e146bd51-e5c2-4c5f-aa16-db5bc78c0174",
        "name": "–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã3",
        "executeOnce": false
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "6f6353cc-7a5a-4ec4-bbbe-9723f0d013da",
                "leftValue": "={{ $json.app_password }}",
                "rightValue": "={{ $('Webhook1').item.json.body.password }}",
                "operator": {
                  "type": "string",
                  "operation": "equals",
                  "name": "filter.operator.equals"
                }
              },
              {
                "id": "db3b52db-0bba-4580-bf61-3754f87dcf44",
                "leftValue": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').item.json.scheme_name }}",
                "rightValue": "={{ $('Webhook1').item.json.body.username }}",
                "operator": {
                  "type": "string",
                  "operation": "equals"
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          608,
          2112
        ],
        "id": "e2a00846-7b5f-4024-bd40-3656674e4319",
        "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è"
      },
      {
        "parameters": {
          "respondWith": "text",
          "responseBody": "={{ $json.body }}",
          "options": {
            "responseHeaders": {
              "entries": [
                {
                  "name": "Content-Type",
                  "value": "text/html"
                }
              ]
            }
          }
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.4,
        "position": [
          1872,
          2128
        ],
        "id": "682f5cb3-d046-4536-926e-b9302f0d668e",
        "name": "–í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π",
        "executeOnce": false
      },
      {
        "parameters": {
          "respondWith": "text",
          "responseBody": "={{ $json.body }}",
          "options": {
            "responseHeaders": {
              "entries": [
                {
                  "name": "Content-Type",
                  "value": "text/html"
                }
              ]
            }
          }
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.4,
        "position": [
          800,
          1648
        ],
        "id": "b24a6d75-24b8-4f7a-aa0a-1666b565fad8",
        "name": "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",
        "executeOnce": false
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "import uuid\n\n# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID –≤–µ—Ä—Å–∏–∏ 4 (—Å–ª—É—á–∞–π–Ω—ã–π)\nuuid_token = str(uuid.uuid4())\nreturn [{\"json\": {\"token\": uuid_token}}]"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          832,
          2032
        ],
        "id": "a4016e74-8452-451e-85e1-330c0f26e556",
        "name": "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞"
      },
      {
        "parameters": {
          "operation": "set",
          "key": "=token_news_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').item.json.scheme_name }}",
          "value": "={{ $json.token }}",
          "expire": true,
          "ttl": 43200
        },
        "type": "n8n-nodes-base.redis",
        "typeVersion": 1,
        "position": [
          1024,
          2032
        ],
        "id": "05fb0122-07b6-434e-abeb-89f6407e74e2",
        "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
        "credentials": {
          "redis": {
            "id": "3yufaVYIxUGdqEs5",
            "name": "Redis account"
          }
        },
        "notes": "–ó–∞–ø–∏—Å—å –≤ redis —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–æ–≤–æ—Å—Ç–µ–π. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. \n–¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 12 —á–∞—Å–æ–≤.\n–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ–π –∫–ª—é—á."
      },
      {
        "parameters": {
          "operation": "select",
          "schema": {
            "__rl": true,
            "value": "={{ $items(\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3\").first().json[\"scheme_name\"] }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "news_summary",
            "mode": "list",
            "cachedResultName": "news_summary"
          },
          "returnAll": true,
          "where": {
            "values": [
              {
                "column": "news_summary_disable",
                "value": "False"
              }
            ]
          },
          "sort": {
            "values": [
              {
                "column": "news_summary_created_at",
                "direction": "DESC"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          1232,
          2032
        ],
        "id": "9ebbb5d7-83ab-4a46-94a6-7b4d6bc002ad",
        "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –∏–∑ –ë–î",
        "executeOnce": false,
        "alwaysOutputData": true,
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "onError": "continueErrorOutput"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "from datetime import datetime, timezone, timedelta\n\n\n# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\n\n# –ü–æ–ª—É—á–∞–µ–º —Ç—Ä–µ–±—É–µ–º—ã–π —á—Å–æ–≤–æ–π –ø–æ—è—Å\ntime_zone = input[\"timezone\"]\n\nbody_list = \"\"\nfor i, item in enumerate(input[\"articles\"]):\n\n  # –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–∏ –≤ –ë–î\n  id = item[\"news_summary_id\"]\n  \n  # –ü–µ—Ä–µ–≤–æ–¥ –¥–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç—å–∏ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\n  # —Å—Ç—Ä–æ–∫–∞ –∏–∑ JSON\n  date_str = item[\"news_summary_created_at\"]\n  # –ø–∞—Ä—Å–∏–º ISO-–¥–∞—Ç—É –∫–∞–∫ UTC\n  dt_utc = datetime.fromisoformat(date_str.replace(\"Z\", \"+00:00\"))\n  # –ü–µ—Ä–µ–≤–æ–¥–∏–º —Å—Ä–∞–∑—É –≤ –Ω—É–∂–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, UTC+3)\n  dt_local = dt_utc.astimezone(timezone(timedelta(hours=time_zone)))\n  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º\n  created_at = dt_local.strftime(\"%d.%m.%Y\")\n\n  # –ï—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –µ–µ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\n  # —Å—Ç—Ä–æ–∫–∞ –∏–∑ JSON\n  date_str = item[\"news_summary_date_published\"]\n  date_published = \"\"\n  if date_str:\n    # –ø–∞—Ä—Å–∏–º ISO-–¥–∞—Ç—É –∫–∞–∫ UTC\n    dt_utc = datetime.fromisoformat(date_str.replace(\"Z\", \"+00:00\"))\n    # –ü–µ—Ä–µ–≤–æ–¥–∏–º —Å—Ä–∞–∑—É –≤ –Ω—É–∂–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, UTC+3)\n    dt_local = dt_utc.astimezone(timezone(timedelta(hours=time_zone)))\n    # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º\n    date_published = dt_local.strftime(\"%Y-%m-%dT%H:%M\")\n  \n  article = f\"\"\"\n    <div class=\"article-section\">\n      <div class=\"article-header\">\n        <h2>{created_at}</h2>({i+1})\n        <a href=\"{item[\"news_summary_link\"]}\" target=\"_blank\" class=\"read-more-link\">üîó</a>\n      </div>\n      <textarea name=\"articles[{id}][text]\" placeholder=\"–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏...\">{item[\"news_summary_text\"]}</textarea>\n        <div class=\"controls\">\n          <div>\n            <label>\n              <input type=\"checkbox\" name=\"articles[{id}][digest]\" value=\"true\" {\"checked disabled\" if item[\"news_summary_date_digest\"] else \"\"}> <span>–î–æ–±–∞–≤–∏—Ç—å –≤ –¥–∞–π–¥–∂–µ—Å—Ç</span>\n            </label>\n            <label class=\"datetime-label\">\n              –í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:\n              <input type=\"datetime-local\" name=\"articles[{id}][time]\" {f'value=\"{date_published}\" disabled' if date_published else \"\"}>\n            </label>\n          </div>\n          <label>\n            <input type=\"checkbox\" name=\"articles[{id}][delete]\" value=\"true\"> <span>–£–¥–∞–ª–∏—Ç—å</span>\n          </label>\n        </div>\n    </div>\n    \n  \"\"\"\n\n  body_list += article\n\n# –ü–µ—Ä–µ–¥–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∞–ª—å—à–µ\ndel(input[\"articles\"])\n\nreturn {\"json\": {\"body_list\": body_list, \"param\": input}}\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1632,
          2032
        ],
        "id": "ae41b66a-f1b8-4648-bc69-54afe19ff670",
        "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ HTML",
        "alwaysOutputData": true,
        "onError": "continueErrorOutput",
        "notes": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —á–∞—Å—Ç–∏ html –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–µ–≥–æ —Ñ–æ—Ä–º—É —Å–æ —Å–ø–∏—Å–∫–æ–º —Å—Ç–∞—Ç–µ–π"
      },
      {
        "parameters": {
          "content": "## –ü—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–µ–π\n- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É —Å–æ —Å—Ç–∞—Ç—å—è–º–∏\n- –≤–Ω–æ—Å–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î.\n–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –≤ –Ω–æ–¥–µ Webhook:  \n`avdivo/assign_publications`\navdivo - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Å—Ö–µ–º–∞ –≤ –ë–î\n\n### –í –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω–æ–¥–∞—Ö HTML:\n–í –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –Ω–µ—Ç), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∞–º.\n–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É get_list, –µ—Å–ª–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–µ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–≤–æ–¥–∏—Ç —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è.",
          "height": 624,
          "width": 2080
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -16,
          2416
        ],
        "typeVersion": 1,
        "id": "e2f792f1-1e0c-4c33-bbf6-767427f875ba",
        "name": "Sticky Note7"
      },
      {
        "parameters": {
          "httpMethod": "POST",
          "path": "s/assign_publications",
          "responseMode": "responseNode",
          "options": {}
        },
        "type": "n8n-nodes-base.webhook",
        "typeVersion": 2.1,
        "position": [
          48,
          2880
        ],
        "id": "ea4e3521-17cf-4452-84d7-5343d301c54e",
        "name": "Webhook2",
        "webhookId": "f1c6bc81-e009-40d4-a746-41220389f1b8"
      },
      {
        "parameters": {
          "operation": "get",
          "propertyName": "auth_token",
          "key": "=token_news_{{ $json.scheme_name }}",
          "options": {}
        },
        "type": "n8n-nodes-base.redis",
        "typeVersion": 1,
        "position": [
          528,
          2672
        ],
        "id": "5a97daa8-bfd8-4818-aa06-2507e7996db8",
        "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
        "credentials": {
          "redis": {
            "id": "3yufaVYIxUGdqEs5",
            "name": "Redis account"
          }
        },
        "notes": "–ó–∞–ø–∏—Å—å –≤ redis —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–æ–≤–æ—Å—Ç–µ–π. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. \n–¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 12 —á–∞—Å–æ–≤.\n–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ–π –∫–ª—é—á."
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "6f6353cc-7a5a-4ec4-bbbe-9723f0d013da",
                "leftValue": "={{ $json.auth_token }}",
                "rightValue": "={{ $json.body.auth_token }}",
                "operator": {
                  "type": "string",
                  "operation": "equals",
                  "name": "filter.operator.equals"
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          1024,
          2848
        ],
        "id": "03b8c0c7-dd8e-478e-8b26-621ca54a3963",
        "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "import re\nfrom datetime import datetime, timedelta, timezone\n\n\n# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\n\n# –ü–æ–ª—É—á–∞–µ–º —Ç—Ä–µ–±—É–µ–º—ã–π —á—Å–æ–≤–æ–π –ø–æ—è—Å\ntime_zone = input[\"app_timezone\"]\n\ninput = input[\"body\"]\ninput.pop(\"auth_token\")  # –£–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞ \n\n# –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã\n# –°—Ç—Ä–æ–∏–º —Å–ª–æ–≤–∞—Ä—å –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î\nupdate_dict = {}\nfor field, value in input.items():\n  # –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–≤—ã—Ö –∏ –≤—Ç–æ—Ä—ã—Ö —Å–∫–æ–±–æ–∫. –ü—Ä–∏–º–µ—Ä: articles[285][text]\n  # {id: {name_field: volume}}\n  pattern = r\"articles\\[(\\d+)\\]\\[(\\w+)\\]\"\n  match = re.match(pattern, field)\n  if match:\n      id = match.group(1)\n      param = match.group(2)\n  else:\n    continue\n\n  # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ–º–æ–≥–æ –ø–æ–ª—è –¥–ª—è –ë–î\n  if param == \"text\":\n    # –ü–æ–ª–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –µ—Å–ª–∏ –æ–Ω–æ –ø—É—Å—Ç–æ–µ\n    if not value:\n      continue\n    param = \"news_summary_text\"\n    \n  if param == \"digest\":\n    # –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∑–Ω–∞—á–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –¥–∞–π–¥–∂–µ—Å—Ç, –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞—Ç—É\n    value = datetime.now().strftime(\"%Y-%m-%d %H:%M\")\n    param = \"news_summary_date_digest\"\n    \n  if param == \"time\":\n    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É –¥–ª—è Postgres –∏ –ø—Ä–∏–≤–æ–¥–∏–º –∫ —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É UTC\n    if not value:\n      continue\n      \n    value = value.replace(\"T\", \" \")  # ‚Üí \"2025-12-11 22:32\"\n    # –ø–∞—Ä—Å–∏–º –±–µ–∑ —Ç–∞–π–º–∑–æ–Ω—ã\n    local_dt = datetime.strptime(value, \"%Y-%m-%d %H:%M\")\n    # –¥–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ –≤—Ä–µ–º—è –≤ +3\n    local_dt = local_dt.replace(tzinfo=timezone(timedelta(hours=time_zone)))\n    # –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ UTC\n    value = local_dt.astimezone(timezone.utc).strftime(\"%Y-%m-%d %H:%M\")\n    \n    param = \"news_summary_date_published\"\n    \n  if param == \"delete\":\n    param = \"news_summary_disable\"\n    \n  # –µ—Å–ª–∏ id –µ—â—ë –Ω–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ ‚Äî —Å–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å\n  if id not in update_dict:\n      update_dict[id] = {}\n  # –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä—É name: volume\n  update_dict[id][param] = value\n\n# –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\nupdate_list = []\nfor id, fields in update_dict.items():\n  fields[\"news_summary_id\"] = id\n  update_list.append({\"json\": fields})\n  \nreturn update_list\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1248,
          2848
        ],
        "id": "adb65a2c-bb85-4ae2-97d4-866d0da670c3",
        "name": "–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º—ã",
        "notesInFlow": true,
        "notes": "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∏–º—è –µ–≥–æ —Å—Ö–µ–º—ã –≤ –ë–î –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≤–æ—Ä–∫—Ñ–ª–æ—É. –ï—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è (–≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –Ω–µ—Ç _) –≤—ã–≤–µ–¥–µ—Ç –æ—à–∏–±–∫—É. \n–†–∞–∑–±–∏—Ä–∞–µ—Ç –ø–æ–ª—è —Å—Ç–∞—Ç–µ–π –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–∏–µ –¥–æ–ª–∂–Ω—ã –º–µ–Ω—è—Ç—å—Å—è, —Å–æ–∑–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) –∏ –≥–æ—Ç–æ–≤–∏—Ç –º–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏."
      },
      {
        "parameters": {
          "operation": "update",
          "schema": {
            "__rl": true,
            "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4').item.json.scheme_name }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "news_summary",
            "mode": "list",
            "cachedResultName": "news_summary"
          },
          "columns": {
            "mappingMode": "autoMapInputData",
            "value": {
              "news_summary_disable": false
            },
            "matchingColumns": [
              "news_summary_id"
            ],
            "schema": [
              {
                "id": "news_summary_id",
                "displayName": "news_summary_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "news_summary_link",
                "displayName": "news_summary_link",
                "required": true,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_text",
                "displayName": "news_summary_text",
                "required": true,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_title",
                "displayName": "news_summary_title",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_content",
                "displayName": "news_summary_content",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_image",
                "displayName": "news_summary_image",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_date_digest",
                "displayName": "news_summary_date_digest",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_date_published",
                "displayName": "news_summary_date_published",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_created_at",
                "displayName": "news_summary_created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true
              },
              {
                "id": "news_summary_disable",
                "displayName": "news_summary_disable",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "boolean",
                "canBeUsedToMatch": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          1456,
          2848
        ],
        "id": "7383b81d-8ee7-4ad2-aa31-8a3f63a5365d",
        "name": "Update rows in a table",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        }
      },
      {
        "parameters": {
          "content": "## –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã\n1. –í–µ—Ç–∫–∞ –ß—Ç–µ–Ω–∏–µ RSS –ª–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —Ä–∞–∑ –≤ 2 —á–∞—Å–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ –ù–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (news_summary). RSS –ª–µ–Ω—Ç—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –≤ —Ä—É—á–Ω—É—é –≤ —Ç–∞–±–ª–∏—Ü—É RSS –ª–µ–Ω—Ç—ã (news_rss_channels).\n2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–¥–æ–±–Ω–æ–π `https://n8n.avdivo.ru/webhook/avdivo/news_authorize`, –≥–¥–µ avdivo - —ç—Ç–æ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É `https://n8n.avdivo.ru/webhook/avdivo/get_list` –≤ –≤–µ—Ç–∫—É –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –≥–¥–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞. \n3. –ü—É–Ω–∫—Ç 2 –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–º–µ–Ω–µ–Ω –∞–≥–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. \n4. –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤–µ—Ç–∫–æ–π –ü—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–µ–π `https://n8n.avdivo.ru/webhook/avdivo/assign_publications`. \n5. –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–µ—Ç–∫–∞ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π. –û–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ, —Å–æ–±–∏—Ä–∞—è –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—è –ø–æ –æ–¥–Ω–æ–π –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –≤–Ω–æ—Å—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É —Å –ø–ª–∞–Ω–æ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–π publication –∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ —Ç–∞–±–ª–∏—Ü–µ news_summary.\n6. –†–∞–∑ –≤ 15 –º–∏–Ω—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –≤–µ—Ç–∫–æ–π –ü—É–±–ª–∏–∫–∞—Ü–∏—è. –°—Ç–∞—Ç—å–∏, —á—å–µ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ—à–ª–æ –∏–ª–∏ –Ω–∞—Å—Ç—É–ø–∏–ª–æ, –Ω–æ –æ–Ω–∏ –µ—â–µ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (—á—Ç–æ –≤—ã—è—Å–Ω—è–µ—Ç—Å—è –ø–æ —Ç–∞–±–ª–∏—Ü–µ publication) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –¢–ì, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ—Ç–º–µ—á–∞—é—Ç—Å—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –±–æ–ª–µ–µ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è.\n",
          "height": 688,
          "width": 448,
          "color": 4
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -1232,
          1184
        ],
        "typeVersion": 1,
        "id": "ff37a1f7-fc75-412e-bdd0-ee8481f3d7b2",
        "name": "Sticky Note9"
      },
      {
        "parameters": {
          "operation": "select",
          "schema": {
            "__rl": true,
            "value": "={{ $json.scheme_name }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "news_summary",
            "mode": "list",
            "cachedResultName": "news_summary"
          },
          "returnAll": true,
          "where": {
            "values": [
              {
                "column": "news_summary_date_digest",
                "condition": "IS NOT NULL"
              },
              {
                "column": "news_summary_digest",
                "value": "FALSE"
              },
              {
                "column": "news_summary_disable",
                "value": "FALSE"
              }
            ]
          },
          "sort": {
            "values": [
              {
                "column": "news_summary_created_at",
                "direction": "DESC"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          992,
          3184
        ],
        "id": "85c0bff9-bd27-4c71-8f7b-7d2099ea3c0e",
        "name": "–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "notes": "–í—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ (–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π), –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –¥–∞–π–¥–∂–µ—Å—Ç, –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏ –∏–º–µ—é—Ç –¥–∞—Ç—É –≤ –ø–æ–ª–µ –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –≠—Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ."
      },
      {
        "parameters": {
          "language": "python",
          "pythonCode": "import random\n\n\n# –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ —Ç–µ–∫—Å—Ç–æ–≤)\ndef sql_escape(value: str) -> str:\n    return value.replace(\"'\", \"''\").replace(\"\\\\\", \"\\\\\\\\\")\n  \nif not len(_items):\n  raise Exception(\"–ù–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞.\")\n  \nmarkers = [\"üì∞\",\"‚ö°\",\"üö®\",\"‚≠ê\",\"üìå\",\"üîî\",\"üî•\",\"üöÄ\",\"üéØ\",\"üåç\",\"üí°\",\"üõ°Ô∏è\",\"ü§ñ\",\"üß™\",\"üé≠\",\"üèÜ\",\"üì£\",\"üåÄ\",\"üí•\",\"‚úÖ\",\"‚ùó\",\"üîé\",\"üìÖ\",\"‚úàÔ∏è\",\"üí¨\",\"üìä\",\"üß≠\"]\n\nmarker = random.choice(markers)\n\ntitle = \"–ù–æ–≤–æ—Å—Ç–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π\"\ndigest = \"\"\nids = []  # –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–æ–º—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏\nfor item in _items:\n  fields = item[\"json\"]\n  text = sql_escape(fields['news_summary_text']) # –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ\n  digest += f\"{marker} {text}\\n\\n\"\n  ids.append(fields['news_summary_id'])\n  \nreturn [{\"json\": {\"publication_title\": title, \"publication_text\": digest, \"publication_date\": _items[0][\"json\"][\"news_summary_date_digest\"], \"ids_complite\": ids}}]"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1200,
          3184
        ],
        "id": "4e6addc1-cfb2-4bac-9ae4-9a6eaab262ff",
        "name": "–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–∞",
        "onError": "continueErrorOutput",
        "notes": "–§–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å—é —Å –ø–æ–¥–±–æ—Ä–∫–æ–π –∫–æ—Ä–æ—Ç–∫–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HTML. –î–ª—è –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–µ—Ä–µ–º –¥–∞—Ç—É –ª—é–±–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö. –ï—â–µ –ø–µ—Ä–µ–¥–∞–µ–º id –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≤ –¥–∞–π–¥–∂–µ—Å—Ç –Ω–æ–≤–æ—Å—Ç–µ–π. –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –≤ —Ç–µ–∫—Å—Ç–∞—Ö."
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "BEGIN;\n\nINSERT INTO {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.publication \n  (publication_title, publication_text, publication_date)\nVALUES \n  (\n    '{{ $json.publication_title }}',\n    '{{ $json.publication_text }}',\n    '{{ $json.publication_date }}'\n  );\n\nUPDATE {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.news_summary\nSET news_summary_digest = TRUE\nWHERE news_summary_id IN ({{ $json.ids_complite.join(\",\") }});\n\nCOMMIT;\n",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          1408,
          3184
        ],
        "id": "2077db4f-adfa-4e26-8e80-a7e1d4c62f48",
        "name": "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        }
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "n8n-nodes-base.splitInBatches",
        "typeVersion": 3,
        "position": [
          80,
          4352
        ],
        "id": "2106449f-ccce-4c36-8f49-cd6a59c94290",
        "name": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1"
      },
      {
        "parameters": {
          "operation": "select",
          "schema": {
            "__rl": true,
            "value": "={{ $json.scheme_name }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "news_summary",
            "mode": "list",
            "cachedResultName": "news_summary"
          },
          "returnAll": true,
          "where": {
            "values": [
              {
                "column": "news_summary_date_published",
                "condition": "IS NOT NULL"
              },
              {
                "column": "news_summary_published",
                "value": "FALSE"
              },
              {
                "column": "news_summary_disable",
                "value": "FALSE"
              }
            ]
          },
          "sort": {
            "values": [
              {
                "column": "news_summary_created_at",
                "direction": "DESC"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          992,
          3376
        ],
        "id": "19796eb4-878d-4b55-8453-eac477179bf2",
        "name": "–í—ã–±–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "notes": "–í—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ (–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π), –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –¥–∞–π–¥–∂–µ—Å—Ç, –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏ –∏–º–µ—é—Ç –¥–∞—Ç—É –≤ –ø–æ–ª–µ –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –≠—Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ."
      },
      {
        "parameters": {
          "url": "={{ $json.news_summary_link }}",
          "options": {}
        },
        "id": "6d250dd4-f943-40d7-a70d-45bda140eac1",
        "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1200,
          3376
        ],
        "typeVersion": 4.2,
        "retryOnFail": true,
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "operation": "extractHtmlContent",
          "extractionValues": {
            "values": [
              {
                "key": "title",
                "cssSelector": "={{ $json.news_summary_title }}"
              }
            ]
          },
          "options": {}
        },
        "id": "a6a1ff0e-08e4-4f5b-a7c4-797fcc7c906d",
        "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
        "type": "n8n-nodes-base.html",
        "position": [
          256,
          3792
        ],
        "typeVersion": 1.2
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "BEGIN;\n\n-- 1. –°–æ–∑–¥–∞–µ–º —Å—Ö–µ–º—É, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE SCHEMA IF NOT EXISTS {{ $json.scheme_name }};\n\n-- 2. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Å–ø–∏—Å–∫–∞ rss –∫–∞–Ω–∞–ª–æ–≤ —Å—Ö–µ–º–µ, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE TABLE IF NOT EXISTS {{ $json.scheme_name }}.news_rss_channels (\n    news_rss_id SERIAL PRIMARY KEY,                                -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n    news_rss_url TEXT NOT NULL UNIQUE,                             -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–µ–Ω—Ç—É\n    news_rss_short VARCHAR(100) NOT NULL DEFAULT 'contentSnippet', -- –ø–æ–ª–µ –∏–∑ RSS Read –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞\n    news_rss_title VARCHAR(255),                                   -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è\n    news_rss_content VARCHAR(255),                                 -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è —Å—Ç–∞—Ç—å–∏\n    news_rss_image VARCHAR(255),                                   -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n    news_rss_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,       -- –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è\n    news_rss_disable BOOLEAN NOT NULL DEFAULT FALSE                -- True = –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å\n);\n\n-- 3. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Å—Ö–µ–º–µ, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE TABLE IF NOT EXISTS {{ $json.scheme_name }}.news_summary (\n    news_summary_id SERIAL PRIMARY KEY,                            -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n    news_summary_link TEXT NOT NULL UNIQUE,                        -- —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º—É –Ω–æ–≤–æ—Å—Ç—å\n    news_summary_text VARCHAR(500) NOT NULL,                       -- –Ω–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (–∞–Ω–æ–Ω—Å)\n    news_summary_title VARCHAR(255),                               -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è\n    news_summary_content VARCHAR(255),                             -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏\n    news_summary_image VARCHAR(255),                               -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n    news_summary_date_digest TIMESTAMP,                            -- –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ\n    news_summary_digest BOOLEAN DEFAULT FALSE,                     -- –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç–∞—Ç—å—é –¥–∞–π–¥–∂–µ—Å—Ç–∞\n    news_summary_date_published TIMESTAMP,                         -- –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏\n    news_summary_published BOOLEAN DEFAULT FALSE,                  -- —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ç—å—è\n    news_summary_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,   -- –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏\n    news_summary_disable BOOLEAN DEFAULT FALSE                     -- –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n);\n\n-- 4. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE TABLE IF NOT EXISTS {{ $json.scheme_name }}.publication (\n    publication_id SERIAL PRIMARY KEY,                             -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_title TEXT,                                        -- –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_text TEXT,                                         -- —Ç–µ–∫—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_image TEXT,                                        -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n    publication_date TIMESTAMP NOT NULL,                           -- –¥–∞—Ç–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–Ω–µ –ø—É—Å—Ç–æ–µ)\n    publication_original TEXT,                                     -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–æ–≤–æ—Å—Ç–∏\n    publication_date_complete TIMESTAMP,                           -- —Ä–µ–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP     -- –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏\n);\n\nCOMMIT;\n",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          512,
          112
        ],
        "id": "36784ad6-85cb-4a30-b1e1-27861def224e",
        "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î",
        "retryOnFail": true,
        "executeOnce": false,
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "notes": "–°–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ä–∫—Ñ–ª–æ—É."
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "seconds",
                "secondsInterval": 5
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.2,
        "position": [
          64,
          112
        ],
        "id": "7936a016-d283-4810-8564-19467ab7972d",
        "name": "Schedule Trigger"
      },
      {
        "parameters": {
          "content": "## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n–ó–∞–ø—É—Å—Ç–∏—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –°—Ö–µ–º—É –∏ –¢–∞–±–ª–∏—Ü—ã –≤ –ë–î",
          "height": 320,
          "width": 736
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          0,
          0
        ],
        "typeVersion": 1,
        "id": "a20b3093-abd7-4b32-b80c-27131a22fe31",
        "name": "Sticky Note1"
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.manualTrigger",
        "typeVersion": 1,
        "position": [
          -1232,
          4016
        ],
        "id": "cf378e9d-01c2-447c-a254-ac664f5cd1da",
        "name": "When clicking ‚ÄòExecute workflow‚Äô"
      },
      {
        "parameters": {
          "options": {}
        },
        "type": "n8n-nodes-base.splitInBatches",
        "typeVersion": 3,
        "position": [
          704,
          688
        ],
        "id": "96542945-4b6a-4861-a77e-c672eb98d348",
        "name": "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã"
      },
      {
        "parameters": {
          "url": "={{ $json.news_rss_url }}",
          "options": {}
        },
        "type": "n8n-nodes-base.rssFeedRead",
        "typeVersion": 1.2,
        "position": [
          96,
          976
        ],
        "id": "f56d9dc4-ef60-4e95-899a-36556366809d",
        "name": "–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã",
        "retryOnFail": true
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "=–ü–µ—Ä–µ–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç.\n–í–µ—Ä–Ω–∏ –Ω–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π:\n- –ü–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ –†–£–°–°–ö–ò–ô —è–∑—ã–∫!\n- –ë–µ–∑ –∞–±–∑–∞—Ü–µ–≤.\n- –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π, –ø–æ—è—Å–Ω–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞.\n–ù–µ –ø—Ä–∏–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.\n\n–¢–µ–∫—Å—Ç:\n {{ $json.output }}",
          "batching": {}
        },
        "type": "@n8n/n8n-nodes-langchain.chainLlm",
        "typeVersion": 1.7,
        "position": [
          1296,
          688
        ],
        "id": "14dd954f-ffd1-433c-88dd-afe2d8b70652",
        "name": "Basic LLM Chain1",
        "retryOnFail": false,
        "onError": "continueErrorOutput",
        "notes": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç–∞—Ç—å–∏"
      },
      {
        "parameters": {
          "content": "https://www.technologyreview.com/feed/\nhttps://www.wired.com/feed/tag/ai/latest/rss\nhttps://www.artificialintelligence-news.com/feed/rss/\nhttps://www.theguardian.com/technology/artificialintelligenceai/rss\nhttps://futurism.com/categories/ai-artificial-intelligence/feed - –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
          "height": 192,
          "width": 528
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1584,
          272
        ],
        "typeVersion": 1,
        "id": "4ea7a62a-32e4-4996-bf27-8a0a7eb12586",
        "name": "Sticky Note2"
      },
      {
        "parameters": {
          "operation": "select",
          "schema": {
            "__rl": true,
            "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1').first().json.scheme_name }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "news_rss_channels",
            "mode": "list",
            "cachedResultName": "news_rss_channels"
          },
          "returnAll": true,
          "where": {
            "values": [
              {
                "column": "news_rss_disable",
                "value": "False"
              }
            ]
          },
          "sort": {
            "values": [
              {
                "column": "news_rss_id"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          480,
          688
        ],
        "id": "ca969bc6-5c2a-4491-ab7c-54ca7dad8e8a",
        "name": "RSS –∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "notes": "–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –ë–î:\n- —Å—Å—ã–ª–∫—É –Ω–∞ RSS –ª–µ–Ω—Ç—ã\n- –∏–∑ –∫–∞–∫–æ–≥–æ –ø–æ–ª—è –ª–µ–Ω—Ç—ã —á–∏—Ç–∞—Ç—å –∞–Ω–æ–Ω—Å –Ω–æ–≤–æ—Å—Ç–∏\n- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—å–∏\n- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏—è\n- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "9a55c0d3-045a-4a67-ba39-529fdc9354ca",
                "name": "link",
                "value": "={{ $json.link }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          1488,
          960
        ],
        "id": "0a4e9527-7b76-4c9d-aac3-50c9e1eeaafa",
        "name": "link",
        "notes": "–ü–µ—Ä–µ–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å"
      },
      {
        "parameters": {
          "model": "mistralai/mistral-small-24b-instruct-2501",
          "options": {}
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
        "typeVersion": 1,
        "position": [
          1296,
          864
        ],
        "id": "94beb465-88ce-423f-94d7-a3b9bffe770e",
        "name": "OpenRouter Chat Model",
        "credentials": {
          "openRouterApi": {
            "id": "c5DK3KMrdVXRCOa2",
            "name": "News _avdivo"
          }
        }
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "49955f75-fae7-41ac-a7b9-57760d566e3e",
                "leftValue": "={{ $json.error }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "notExists",
                  "singleValue": true
                }
              },
              {
                "id": "d3b2586a-61ea-494b-9ab5-ef227d697b02",
                "leftValue": "={{ $json.output }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "exists",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          2080,
          784
        ],
        "id": "49f0135f-8589-4e9b-9cbb-1bc6ca64f9bc",
        "name": "If"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "numberInputs": 3,
          "options": {
            "includeUnpaired": true
          }
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          1904,
          768
        ],
        "id": "0d674bff-f1fc-47cb-b932-8bdc06c55eda",
        "name": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
        "notes": "–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç–∞—Ç—å—é –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –æ—à–∏–±–∫—É –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö –≤ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è \"{{ $items(\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1\").first().json[\"scheme_name\"] }}\" –µ—Å—Ç—å –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –ß—Ç–µ–Ω–∏–∏ RSS –ª–µ–Ω—Ç. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –º–æ–¥–µ–ª–∏.",
          "additionalFields": {
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          2288,
          880
        ],
        "id": "b25ef257-f027-4208-a0d5-71036b383c42",
        "name": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ",
        "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
        "retryOnFail": false,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "schema": {
            "__rl": true,
            "value": "={{ $items(\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1\").first().json[\"scheme_name\"] }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "news_summary",
            "mode": "list",
            "cachedResultName": "news_summary"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "news_summary_link": "={{ $json.link }}",
              "news_summary_text": "={{ $json.output }}",
              "news_summary_title": "={{ $('–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã').first().json.news_rss_title }}",
              "news_summary_content": "={{ $('–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã').first().json.news_rss_content }}",
              "news_summary_image": "={{ $('–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã').first().json.news_rss_image }}",
              "news_summary_disable": false
            },
            "matchingColumns": [
              "news_summary_link"
            ],
            "schema": [
              {
                "id": "news_summary_id",
                "displayName": "news_summary_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "news_summary_link",
                "displayName": "news_summary_link",
                "required": true,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "news_summary_text",
                "displayName": "news_summary_text",
                "required": true,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "news_summary_title",
                "displayName": "news_summary_title",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "news_summary_content",
                "displayName": "news_summary_content",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "news_summary_image",
                "displayName": "news_summary_image",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "news_summary_date_digest",
                "displayName": "news_summary_date_digest",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "news_summary_date_published",
                "displayName": "news_summary_date_published",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "news_summary_created_at",
                "displayName": "news_summary_created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "news_summary_disable",
                "displayName": "news_summary_disable",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "boolean",
                "canBeUsedToMatch": true,
                "removed": false
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {
            "skipOnConflict": true
          }
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          2288,
          688
        ],
        "id": "e6262ce3-e3c9-4393-b052-f78c8b0cc30a",
        "name": "–ó–∞–ø–∏—Å—å –∞–Ω–æ–Ω—Å–æ–≤ –≤ –ë–î",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        }
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "import re\n\n\ndef fix_markdown(string):\n  \"\"\"\n  –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è Telegram Markdown V2 —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.\n  \"\"\"\n  return re.sub(r\"([][*()~`>#+\\-=|{}.!_])\", r\"\\\\\\1\", string)\n\n# –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º —Å–∏–º–≤–æ–ª—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –¢–ì, –æ–±—Ä–µ–∑–∞–µ–º –¥–æ 4000 —Å–∏–º–≤–æ–ª–æ–≤\nresults = []  # –°–æ–±–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–µ–π\nfor item in _items:\n  result = \"\"  # –°–æ–±–∏—Ä–∞–µ—Ç –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é\n  # input_text = fix_markdown(item.get(\"json\", {}).get(\"text\", \"\")[0:4000])\n  input_text = item.get(\"json\", {}).get(\"text\", \"\")[0:600].replace(\"\\\\\", \"\")  # –£–¥–∞–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω—ã–µ —Å–ª—ç—à–∏ –∏ –æ–±—Ä–µ–∑–∞–µ—Ç.\n  results.append({\"json\": {\"output\": input_text}})\n\nreturn results\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1712,
          688
        ],
        "id": "052452bc-90e3-48fb-bab6-b2f926c6e3d1",
        "name": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤",
        "notes": "–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –≤ markdown –¢–ì —Å–∏–º–≤–æ–ª–æ–≤ –æ—Ç–∫–ª—é—á–µ–Ω–æ"
      },
      {
        "parameters": {
          "content": "## –ß—Ç–µ–Ω–∏–µ RSS –ª–µ–Ω—Ç\n–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π (–ù–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (news_summary))",
          "height": 784,
          "width": 2752
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -16,
          544
        ],
        "typeVersion": 1,
        "id": "cf6e7e3c-1043-43a3-8e3a-c435731edff1",
        "name": "Sticky Note10"
      },
      {
        "parameters": {
          "content": "## –ú–æ–¥–µ–ª–∏\nmistralai/mistral-small-24b-instruct-2501"
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          2192,
          272
        ],
        "typeVersion": 1,
        "id": "2007fc70-0be7-430a-a0a5-6c59dabbab82",
        "name": "Sticky Note12"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          1392,
          3568
        ],
        "id": "5bc0b778-939f-4bbf-b20e-781d0b8e91cd",
        "name": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "1ac1bfdd-cd55-4598-9ffd-f559b47d1091",
                "leftValue": "={{ $json.error }}",
                "rightValue": "",
                "operator": {
                  "type": "object",
                  "operation": "notExists",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          1600,
          3568
        ],
        "id": "6c4bcd34-dd17-45ea-971a-2db391c520c6",
        "name": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π"
      },
      {
        "parameters": {
          "operation": "extractHtmlContent",
          "extractionValues": {
            "values": [
              {
                "key": "publication_image",
                "cssSelector": "={{ $json.news_summary_image }}",
                "returnValue": "attribute",
                "attribute": "src"
              }
            ]
          },
          "options": {}
        },
        "id": "2266c428-fef5-45c3-8763-0cb80c26f524",
        "name": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
        "type": "n8n-nodes-base.html",
        "position": [
          2032,
          4272
        ],
        "typeVersion": 1.2
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "6311476f-8395-4a3d-bc21-8ea38f0eceb1",
                "name": "publication_date",
                "value": "={{ $json.news_summary_date_published }}",
                "type": "string"
              },
              {
                "id": "f3828f34-ffa2-4001-8039-597bafaec58e",
                "name": "publication_original",
                "value": "={{ $json.news_summary_link }}",
                "type": "string"
              },
              {
                "id": "ed9de2bc-3f74-43a2-84f7-036d9169c908",
                "name": "news_summary_id",
                "value": "={{ $json.news_summary_id }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          2208,
          4368
        ],
        "id": "c607bd26-c218-4265-9ac1-c38159c0f10f",
        "name": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"
      },
      {
        "parameters": {
          "model": "mistralai/mistral-small-24b-instruct-2501",
          "options": {
            "timeout": 60000
          }
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
        "typeVersion": 1,
        "position": [
          688,
          4064
        ],
        "id": "ebd63b6b-7e91-4166-892c-04478d0bbd68",
        "name": "OpenRouter Chat Model3",
        "credentials": {
          "openRouterApi": {
            "id": "c5DK3KMrdVXRCOa2",
            "name": "News _avdivo"
          }
        }
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "=–¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä - –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫.\n–ü–µ—Ä–µ–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫. \n–ù–µ –ø—Ä–∏–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫—É.\n\n–¢–µ–∫—Å—Ç:\n{{ $json.title }}",
          "batching": {}
        },
        "type": "@n8n/n8n-nodes-langchain.chainLlm",
        "typeVersion": 1.7,
        "position": [
          688,
          3920
        ],
        "id": "8c3671c1-40a2-4fea-9319-0321660b8e3a",
        "name": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è",
        "retryOnFail": true,
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "model": "mistralai/mistral-small-24b-instruct-2501",
          "options": {
            "timeout": 60000
          }
        },
        "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
        "typeVersion": 1,
        "position": [
          1600,
          4176
        ],
        "id": "4a535ee3-e257-4a0d-9efa-cf2d369b45ee",
        "name": "OpenRouter Chat Model4",
        "credentials": {
          "openRouterApi": {
            "id": "c5DK3KMrdVXRCOa2",
            "name": "News _avdivo"
          }
        }
      },
      {
        "parameters": {
          "promptType": "define",
          "text": "=–¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä - –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫. –¢–≤–æ—è —Å—Ç–∞—Ç—å—è —Å—Ä–∞–∑—É –∏–¥–µ—Ç –≤ –ø–µ—á–∞—Ç—å.\n- –í—ã–ø–æ–ª–Ω–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π.\n- –°–æ–∫—Ä–∞—Ç–∏  –∏ –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç, –æ—Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ —Å—É—Ç—å\n- –°–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –ø–æ–Ω—è—Ç–Ω—ã–º, —á–∏—Ç–∞–µ–º—ã–º –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –¥–ª—è –æ–±—ã–≤–∞—Ç–µ–ª—è\n- –î–ª–∏–Ω–∞ —Å—Ç–∞—Ç—å–∏ –Ω–µ –±–æ–ª–µ–µ {{ $json.text_len }} —Å–∏–º–≤–æ–ª–æ–≤.\n- –î–æ–±–∞–≤—å —Å–º–∞–π–ª–∏–∫–∏.\n- –£–¥–∞–ª–∏ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –∏ –¥—Ä—É–≥–∏–µ —Ç–µ–∫—Å—Ç—ã –∏ —Å–∏–º–≤–æ–ª—ã –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Å—Ç–∞—Ç—å–µ.\n- –ù–µ –ø—Ä–∏–º–µ–Ω—è–π MD —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ –Ω—É–∂–Ω–æ *) - —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç —Å –∞–±–∑–∞—Ü–∞–º–∏.\n- –î–æ–±–∞–≤—å –≤ –∫–æ–Ω—Ü–µ —Ç–µ–∫—Å—Ç–∞ 2 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ö—ç—à—Ç—ç–≥–∞ –æ—Ç—Å—Ç—É–ø–∏–≤ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ \\n\\n\n–¢–µ–∫—Å—Ç:\n{{ $('–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏').first().json.text }}",
          "batching": {}
        },
        "type": "@n8n/n8n-nodes-langchain.chainLlm",
        "typeVersion": 1.7,
        "position": [
          1536,
          4032
        ],
        "id": "e6c3dd31-12c9-42a3-8a9d-411933ebc129",
        "name": "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞",
        "retryOnFail": true,
        "maxTries": 3,
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "operation": "extractHtmlContent",
          "extractionValues": {
            "values": [
              {
                "key": "text",
                "cssSelector": "={{ $json.news_summary_content }}"
              }
            ]
          },
          "options": {}
        },
        "id": "19305a37-8784-4f14-b6a0-9e15bff18acf",
        "name": "–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏",
        "type": "n8n-nodes-base.html",
        "position": [
          608,
          4208
        ],
        "typeVersion": 1.2
      },
      {
        "parameters": {},
        "type": "n8n-nodes-base.noOp",
        "typeVersion": 1,
        "position": [
          1392,
          4032
        ],
        "id": "b7a6927b-23b3-443b-bbb8-5de2ca3b7d14",
        "name": "pass"
      },
      {
        "parameters": {
          "content": "## –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞\n–õ–∏–º–∏—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å—Ç–∞—Ç—å–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–¥–∞–µ—Ç—Å—è –Ω–æ–¥–∞–º–∏: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞, –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏.  –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ë–î.\n–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —É–¥–≤–æ–µ–Ω–Ω—ã–º –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–º –ª–∏–º–∏—Ç–æ–º, –º–∏–Ω—É—Å –¥–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–ª–∏–º–∏—Ç –∑–∞–¥–∞–µ—Ç—Å—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –º–æ–¥–µ–ª–∏, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç —á–µ—Ç–∫–æ –µ–≥–æ —Å–æ–±–ª—é–¥–∞—Ç—å, –æ–Ω –∑–∞–¥–∞–µ—Ç—Å—è –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–µ–Ω—å—à–µ –≤ 2.5 —Ä–∞–∑–∞, –≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —ç—Ç–æ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å). \n–ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –æ–∫–∞–∂–µ—Ç—Å—è –±–æ–ª—å—à–µ, –ª–∏–º–∏—Ç (—É–∫–∞–∑—ã–≤–∞–µ–º—ã–π –º–æ–¥–µ–ª–∏) —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–∞ 100 —Å–∏–º–≤–æ–ª–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç—Å—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ.",
          "height": 240,
          "width": 592
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          2864,
          4064
        ],
        "typeVersion": 1,
        "id": "2b203353-652c-43f9-89b8-20ea2b0832c2",
        "name": "Sticky Note11"
      },
      {
        "parameters": {
          "operation": "get",
          "propertyName": "text_len",
          "key": "=token_news_text_limit_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}",
          "options": {}
        },
        "type": "n8n-nodes-base.redis",
        "typeVersion": 1,
        "position": [
          928,
          4208
        ],
        "id": "445a3234-2f63-44a3-9110-765e99ecad16",
        "name": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
        "credentials": {
          "redis": {
            "id": "3yufaVYIxUGdqEs5",
            "name": "Redis account"
          }
        }
      },
      {
        "parameters": {
          "operation": "set",
          "key": "=token_news_text_limit_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}",
          "value": "=400",
          "expire": true,
          "ttl": 43200
        },
        "type": "n8n-nodes-base.redis",
        "typeVersion": 1,
        "position": [
          768,
          4208
        ],
        "id": "e92825d8-1dae-4e8f-8a85-6f3c682648cc",
        "name": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
        "credentials": {
          "redis": {
            "id": "3yufaVYIxUGdqEs5",
            "name": "Redis account"
          }
        },
        "notes": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM"
      },
      {
        "parameters": {
          "operation": "set",
          "key": "=token_news_text_limit_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}",
          "value": "=",
          "expire": true,
          "ttl": 43200
        },
        "type": "n8n-nodes-base.redis",
        "typeVersion": 1,
        "position": [
          2176,
          4032
        ],
        "id": "e1beb9c4-ba29-4a45-ac3c-75d001360291",
        "name": "–û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
        "credentials": {
          "redis": {
            "id": "3yufaVYIxUGdqEs5",
            "name": "Redis account"
          }
        },
        "notes": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM"
      },
      {
        "parameters": {
          "rules": {
            "values": [
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 2
                  },
                  "conditions": [
                    {
                      "leftValue": "={{ $json.status }}",
                      "rightValue": "error",
                      "operator": {
                        "type": "string",
                        "operation": "equals"
                      },
                      "id": "6ae0c751-d478-48eb-bb15-5b139466a3a2"
                    }
                  ],
                  "combinator": "and"
                }
              },
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 2
                  },
                  "conditions": [
                    {
                      "id": "b960a723-44dc-4b75-9063-5428046fcc0b",
                      "leftValue": "={{ $json.status }}",
                      "rightValue": "ok",
                      "operator": {
                        "type": "string",
                        "operation": "equals",
                        "name": "filter.operator.equals"
                      }
                    }
                  ],
                  "combinator": "and"
                }
              },
              {
                "conditions": {
                  "options": {
                    "caseSensitive": true,
                    "leftValue": "",
                    "typeValidation": "strict",
                    "version": 2
                  },
                  "conditions": [
                    {
                      "id": "e2dff7a3-3094-4ade-b11e-dd44614b4ec3",
                      "leftValue": "={{ $json.status }}",
                      "rightValue": "repeat",
                      "operator": {
                        "type": "string",
                        "operation": "equals",
                        "name": "filter.operator.equals"
                      }
                    }
                  ],
                  "combinator": "and"
                }
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.switch",
        "typeVersion": 3.3,
        "position": [
          2352,
          3936
        ],
        "id": "a2acfb29-9a6b-4ba2-ae1d-4089c6e5226d",
        "name": "–†–æ—É—Ç–µ—Ä"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "numberInputs": 4,
          "options": {
            "includeUnpaired": true
          }
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          3024,
          3792
        ],
        "id": "42b6b9b8-16d2-4fde-88a8-71a5432e3ff8",
        "name": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "# –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞)\ndef sql_escape(value: str) -> str:\n    return value.replace(\"'\", \"''\").replace(\"\\\\\", \"\\\\\\\\\")\n\n\n# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ\ninput = _items[0][\"json\"]\n\ntext_len = 0\n# –î–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (—Å –∑–∞–ø–∞—Å–æ–º –Ω–∞ —Ç—ç–≥–∏ –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)\ntitle_len = len(input.get(\"title\", \"\")) + 20\n# –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π–ª–∏–º–∏—Ç –Ω–∞ –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞\ntext_limit = int(input[\"text_len\"] * 2.5) - title_len\n# –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç\ntext_limit_now = input[\"text_limit_now\"]\n\n# –ï—Å–ª–∏ –Ω–µ –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É —É–∑–Ω–∞–µ–º –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞\nif not input[\"error\"]:\n  text = input.get(\"text\", \"\")\n  # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã\n  text = sql_escape(text)\n  text_len = len(text)\n\n# –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∏ status=Ok\nif text_len > 10 and text_len <= text_limit:\n  return [{\"json\": {\"text\": text, \"status\": \"ok\", \"text_len\": text_limit_now}}]\n\n# –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –ª—é–±–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ–±–ª–µ–º\n# –°—á–µ—Ç—á–∏–∫–æ–º —Å–ª—É–∂–∏—Ç —Ç–µ–∫—É—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞\n# –ï—Å–ª–∏ –æ–Ω–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ–µ - —ç—Ç–æ —É–∂–µ —Å—Ç—Ä–∞–Ω–Ω–æ\nif text_limit_now < 0:\n  # –°—á–µ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç\n  return [{\"json\": {\"status\": \"error\", \"text_len\": text_limit_now}}]\n  \n# –ï—Å–ª–∏ –ª–∏–º–∏—Ç –µ—â–µ –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω –ø–æ–≤—Ç–æ—Ä—è–µ–º –ø–æ–ø—ã—Ç–∫—É –ø–µ—Ä–µ–≤–æ–¥–∞\ntext_limit_now -= 100\nreturn [{\"json\": {\"status\": \"repeat\", \"text_len\": text_limit_now}}]\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          2000,
          4032
        ],
        "id": "34f0dcbe-2362-42c1-b5b6-74012ae9cdf6",
        "name": "–ö–æ–Ω—Ç—Ä–æ–ª—å LLM",
        "notes": "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –º–æ–¥–µ–ª–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞. –î–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É —Ä–æ—É—Ç–µ—Ä—É —á—Ç–æ –¥–∞–ª—à–µ –¥–µ–ª–∞—Ç—å. –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã."
      },
      {
        "parameters": {
          "language": "python",
          "pythonCode": "# –ö–æ–Ω—Ç—Ä–æ–ª—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏\n\ninput = _items[0][\"json\"]\n# –ù–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏\ntry:\n  publication_text = input[\"text\"]\nexcept: \n  # –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\n  raise Exception(f\"–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞. –°—Ç–∞—Ç—è –ø—Ä–æ–ø—É—â–µ–Ω–∞: \\n{input[\"publication_original\"]}\")\n\n\nreturn [\n  {\n    \"json\": {\n      \"publication_title\": input.get(\"title\", \"\"),\n      \"publication_text\": publication_text,\n      \"publication_image\": input.get(\"publication_image\", \"\"),\n      \"publication_date\": input[\"publication_date\"],\n      \"publication_original\": input[\"publication_original\"],\n      \"news_summary_id\": input[\"news_summary_id\"]\n    }\n  }\n]"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          3008,
          4368
        ],
        "id": "6dac46ff-a706-4c54-a085-5937a4d4e2b1",
        "name": "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏",
        "onError": "continueErrorOutput",
        "notes": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª–µ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤. –ï—Å–ª–∏ –Ω–µ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineAll",
          "options": {
            "fuzzyCompare": true
          }
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          1216,
          4032
        ],
        "id": "58753b59-9915-47c2-a619-ba1747917e16",
        "name": "Merge"
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "BEGIN;\n\nINSERT INTO {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.publication \n  (publication_title, publication_text, publication_image, publication_date, publication_original)\nVALUES \n  ('{{$json.publication_title}}', '{{$json.publication_text}}', '{{$json.publication_image}}', '{{$json.publication_date}}', '{{$json.publication_original}}');\n\nUPDATE {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.news_summary\nSET news_summary_published = TRUE\nWHERE news_summary_id = {{$json.news_summary_id}};\n\nCOMMIT;\n",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          3440,
          4432
        ],
        "id": "46fc4bff-0b14-4684-8dc5-677cbde6e6af",
        "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "onError": "continueRegularOutput",
        "notes": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ publication –∏ –æ—Ç–º–µ—Ç–∫–∞, —á—Ç–æ –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü–µ news_summary. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏."
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=Workflow: {{ $workflow.name }}\nNode:     –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î\n\n–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞.\n---",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          3824,
          4416
        ],
        "id": "45324bfc-d4fa-4780-952e-5943d0189d2e",
        "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î",
        "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "1ac1bfdd-cd55-4598-9ffd-f559b47d1091",
                "leftValue": "={{ $json.success }}",
                "rightValue": "",
                "operator": {
                  "type": "boolean",
                  "operation": "notExists",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          3616,
          4432
        ],
        "id": "965e97b2-e8b1-4eb8-b8fa-1b75b4efd1a0",
        "name": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=Workflow: {{ $workflow.name }}\nNode:     –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏\n\n{{ $json.error }}\n---",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          3200,
          4464
        ],
        "id": "c476ec79-da19-4722-a02f-8bbeb23a606c",
        "name": "–û—Ç—á–µ—Ç –æ –æ—à–∏–±–∫–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç–∞—Ç–µ–π",
        "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=Workflow: {{ $workflow.name }}\nNode:     –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞\n\n–ú–æ–¥–µ–ª—å –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∞ —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏.\n---",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          2512,
          3856
        ],
        "id": "592a6d1b-2fd3-494f-ac24-5e769ffbc31f",
        "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞",
        "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=Workflow: {{ $workflow.name }}\nNode:     –ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π\n\n–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏:\n{{ $json.news_summary_link }}\n---",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1824,
          3584
        ],
        "id": "8cbf079f-d810-4335-81ee-73694b94d3fc",
        "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π",
        "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
        "notesInFlow": false,
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=Workflow: {{ $workflow.name }}\nNode:     –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é\n\n–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞.\n---",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1808,
          3168
        ],
        "id": "42c6d830-d151-4067-a30b-6ffc82001949",
        "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1",
        "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 2
            },
            "conditions": [
              {
                "id": "1ac1bfdd-cd55-4598-9ffd-f559b47d1091",
                "leftValue": "={{ $json.success }}",
                "rightValue": "",
                "operator": {
                  "type": "boolean",
                  "operation": "notExists",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          1600,
          3184
        ],
        "id": "20596239-dbf2-4541-bcbb-281fecca2805",
        "name": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1"
      },
      {
        "parameters": {
          "content": "## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π\n–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –∏ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ publication.",
          "height": 1600,
          "width": 3872
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          -32,
          3152
        ],
        "typeVersion": 1,
        "id": "59ea941b-2135-4715-b9a5-cc4b9404936f",
        "name": "Sticky Note13"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "# –ì–æ—Ç–æ–≤–∏–º —Å–ø–∏—Å–æ–∫ url\nurls = []\nfor item in _items:\n  try:\n    urls.append(f\"'{item[\"json\"][\"link\"]}'\")\n  except:\n    pass\nreturn [{\"json\": {\"urls\": urls}}]\n    "
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          288,
          976
        ],
        "id": "59cb1fe2-e17b-4928-bb73-3b0f1d5c94a3",
        "name": "–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ç—å–∏",
        "notes": "–°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ url –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "SELECT *\nFROM {{ $json.scheme_name }}.publication\nWHERE publication_date <= NOW()\n  AND publication_date_complete IS NULL;\n",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          432,
          4912
        ],
        "id": "7acbf28e-5fdf-41c1-9e33-eccb250f3210",
        "name": "–°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        }
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          1008,
          4912
        ],
        "id": "d3a43107-1525-40fa-ae71-2689103103c3",
        "name": "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1"
      },
      {
        "parameters": {
          "language": "python",
          "pythonCode": "# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç–µ–π –∫ –ø–µ—á–∞—Ç–∏\ntexts = []\nfor item in _items:\n  input = item[\"json\"]\n  text = f\"<b>{input.get(\"publication_title\", \"\")}</b>\\n\\n{input.get(\"publication_text\", \"\")}\"\n  texts.append({\"json\": {\"article\": text, \"publication_id\": input[\"publication_id\"]}})\n  \nreturn texts"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          720,
          4832
        ],
        "id": "0240406d-107f-480f-923a-1aaab2b2681a",
        "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
      },
      {
        "parameters": {
          "url": "={{ $json.publication_image }}",
          "options": {
            "response": {
              "response": {
                "responseFormat": "file",
                "outputPropertyName": "bin_image"
              }
            }
          }
        },
        "type": "n8n-nodes-base.httpRequest",
        "typeVersion": 4.3,
        "position": [
          720,
          5008
        ],
        "id": "03ebb951-8af5-4c5f-8379-7844a423a199",
        "name": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
        "retryOnFail": true,
        "alwaysOutputData": true,
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "operation": "sendPhoto",
          "chatId": "249503190",
          "binaryData": true,
          "binaryPropertyName": "bin_image",
          "additionalFields": {
            "caption": "={{ $json.article }}",
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1632,
          4816
        ],
        "id": "e811b0bf-7881-4640-827d-d70b7e14ac32",
        "name": "–°—Ç–∞—Ç—å–∏ —Å —Ñ–æ—Ç–æ",
        "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "Zdb8jAhQS8k9FG9p",
            "name": "AlexLena_bot"
          }
        },
        "onError": "continueErrorOutput"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "loose",
              "version": 2
            },
            "conditions": [
              {
                "id": "3ab2fef8-fa12-431b-90a0-40ed37316ba9",
                "leftValue": "={{ $json.error }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "notExists",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "looseTypeValidation": true,
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.2,
        "position": [
          1200,
          4912
        ],
        "id": "430a5d4e-717d-4efe-a09f-471ec8140371",
        "name": "–ò—â–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ—Ç–æ"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "={{ $json.article }}",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1632,
          5008
        ],
        "id": "a5b89bc4-457d-4e4d-81d4-1d90cafc7de2",
        "name": "–°—Ç–∞—Ç—å–∏ –±–µ–∑ —Ñ–æ—Ç–æ",
        "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "Zdb8jAhQS8k9FG9p",
            "name": "AlexLena_bot"
          }
        },
        "onError": "continueErrorOutput"
      },
      {
        "parameters": {
          "chatId": "249503190",
          "text": "=Workflow: {{ $workflow.name }}\nNode:     –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π\n\n–û—à–∏–±–∫–∞ –≤—ã–≤–æ–¥–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º.\n–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ publication: {{ $json.publication_id }}\n–û—à–∏–±–∫–∞: {{ $json.error }}\n---",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1856,
          4912
        ],
        "id": "8c864c2b-587f-4582-9864-756b44a334ce",
        "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∞",
        "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "sQA5ZULLYOe0BY8p",
            "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "operation": "update",
          "schema": {
            "__rl": true,
            "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6').first().json.scheme_name }}",
            "mode": "name"
          },
          "table": {
            "__rl": true,
            "value": "publication",
            "mode": "list",
            "cachedResultName": "publication"
          },
          "columns": {
            "mappingMode": "defineBelow",
            "value": {
              "publication_id": "={{ $json.publication_id }}",
              "publication_date_complete": "={{ $now.toUTC().format(\"yyyy-MM-dd HH:mm\") }}"
            },
            "matchingColumns": [
              "publication_id"
            ],
            "schema": [
              {
                "id": "publication_id",
                "displayName": "publication_id",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "number",
                "canBeUsedToMatch": true,
                "removed": false
              },
              {
                "id": "publication_title",
                "displayName": "publication_title",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "publication_text",
                "displayName": "publication_text",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "publication_image",
                "displayName": "publication_image",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "publication_date",
                "displayName": "publication_date",
                "required": true,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "publication_original",
                "displayName": "publication_original",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "string",
                "canBeUsedToMatch": true,
                "removed": true
              },
              {
                "id": "publication_date_complete",
                "displayName": "publication_date_complete",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true
              },
              {
                "id": "publication_created_at",
                "displayName": "publication_created_at",
                "required": false,
                "defaultMatch": false,
                "display": true,
                "type": "dateTime",
                "canBeUsedToMatch": true,
                "removed": true
              }
            ],
            "attemptToConvertTypes": false,
            "convertFieldsToString": false
          },
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          1488,
          4912
        ],
        "id": "949e0e19-b7bc-4534-b111-ca966f0b549c",
        "name": "–ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ",
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        }
      },
      {
        "parameters": {
          "language": "python",
          "pythonCode": "# –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–∫—Å—Ç–∞)\n\ndef sql_escape(value: str) -> str:\n    return value.replace(\"'\", \"''\").replace(\"\\\\\", \"\\\\\\\\\")\n\ntitle = sql_escape(_items[0][\"json\"][\"text\"])\n\nreturn [{\"json\": {\"title\": title}}]"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1056,
          3776
        ],
        "id": "05660c14-b962-4d20-a5b1-3e9126e11436",
        "name": "–ö–æ–Ω—Ç—Ä–æ–ª—å"
      },
      {
        "parameters": {
          "operation": "sendPhoto",
          "chatId": "326830581",
          "binaryData": true,
          "binaryPropertyName": "bin_image",
          "additionalFields": {
            "caption": "={{ $json.article }}",
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1344,
          4720
        ],
        "id": "3f462f11-fda3-4bcd-882a-337c9e37f837",
        "name": "–î–ª—è –õ–µ–Ω—ã",
        "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "Zdb8jAhQS8k9FG9p",
            "name": "AlexLena_bot"
          }
        },
        "onError": "continueErrorOutput"
      },
      {
        "parameters": {
          "chatId": "326830581",
          "text": "={{ $json.article }}",
          "additionalFields": {
            "appendAttribution": false,
            "parse_mode": "HTML"
          }
        },
        "type": "n8n-nodes-base.telegram",
        "typeVersion": 1.2,
        "position": [
          1344,
          5104
        ],
        "id": "914728ff-ad61-442a-9168-f01fb5a70679",
        "name": "–¢–æ–∂–µ –¥–ª—è –ª–µ–Ω—ã",
        "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
        "retryOnFail": true,
        "credentials": {
          "telegramApi": {
            "id": "Zdb8jAhQS8k9FG9p",
            "name": "AlexLena_bot"
          }
        },
        "onError": "continueErrorOutput"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          304,
          112
        ],
        "id": "45b5da20-d9c3-443a-97b3-f0110f07f2f8",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          288,
          688
        ],
        "id": "724d7c29-c909-49fa-bc60-a3ea1efa48a1",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          224,
          1648
        ],
        "id": "6cfa9e51-0e6e-4966-865a-1979744342dc",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 2"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          224,
          2112
        ],
        "id": "2721718f-c2e1-4098-bca2-9a3c584c066f",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          352,
          2736
        ],
        "id": "8211c7b3-c300-4a38-bfac-6c710c2356e1",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          784,
          3280
        ],
        "id": "406ced7b-582b-40b7-8dde-a407cce97453",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5"
      },
      {
        "parameters": {
          "operation": "extractHtmlContent",
          "extractionValues": {
            "values": [
              {
                "key": "text",
                "cssSelector": ".attachment-post-thumbnail",
                "returnValue": "attribute",
                "attribute": "src"
              }
            ]
          },
          "options": {}
        },
        "id": "ee02ff3c-955e-45cd-88e5-d0c34c1783f6",
        "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞",
        "type": "n8n-nodes-base.html",
        "position": [
          1344,
          304
        ],
        "typeVersion": 1.2
      },
      {
        "parameters": {
          "url": "=https://techcrunch.com/2026/01/08/openai-to-acquire-the-team-behind-executive-coaching-ai-tool-convogo/",
          "options": {}
        },
        "id": "7d6c8df8-024a-40c2-98fc-8a109e8b3ed9",
        "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π1",
        "type": "n8n-nodes-base.httpRequest",
        "position": [
          1152,
          304
        ],
        "typeVersion": 4.2,
        "retryOnFail": true,
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "content": "## –ü–æ–∏—Å–∫ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ css —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –≤ —Å—Ç–∞—Ç—å—è—Ö\n- –û–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É Extract HTML Content –Ω–æ–¥—ã: –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ–∫—Å—Ç–∞:  Return Value —É–∫–∞–∑–∞—Ç—å - Text, –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - Attribute –∏ —É–∫–∞–∑–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç src.\n- –í –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã news_rss_channels –ë–î, –≥–¥–µ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ã c —Ç–æ—á–∫–æ–π –ø–µ—Ä–µ–¥ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º.\n- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –Ω–æ–¥—ã, –≤ –ø–µ—Ä–≤–æ–π —É–∫–∞–∑–∞—Ç—å url —Å—Ç–∞—Ç—å–∏, –≤–æ –≤—Ç–æ—Ä–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.",
          "height": 240,
          "width": 512
        },
        "type": "n8n-nodes-base.stickyNote",
        "position": [
          1072,
          32
        ],
        "typeVersion": 1,
        "id": "7b7be6cf-5101-4e2d-a794-526694bf089b",
        "name": "Sticky Note14"
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "SELECT\n    news_summary_link\nFROM\n    {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1').first().json.scheme_name }}.news_summary\nWHERE\n    news_summary_link IN ({{ $json.urls.join(\",\") }});",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          496,
          976
        ],
        "id": "a3f220cb-f10f-4663-9d9c-a66c0661c05a",
        "name": "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î",
        "alwaysOutputData": true,
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "notes": "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "# –í—Å–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ –ª–µ–Ω—Ç—ã\nall_articles = _('–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã').all()\n\n# –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î\nexisting_links = [item.json[\"news_summary_link\"] for item in items if item.json.get(\"news_summary_link\")]\n\n# –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ (–∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç)\nout_list = []\nfor article in all_articles:\n  if article.json.link not in existing_links:\n    out_list.append(article)\nreturn out_list"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          704,
          1168
        ],
        "id": "f2c7a362-bbac-4e89-9522-b589fcab9542",
        "name": "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î py"
      },
      {
        "parameters": {
          "jsCode": "// –í—Å–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ –ª–µ–Ω—Ç—ã\nconst all_articles = $('–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã').all()\n\n// –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î\nconst existing_links = $input.all()\n  .map(item => item.json.news_summary_link)\n  .filter(link => link); // —É–±–∏—Ä–∞–µ–º undefined/null/–ø—É—Å—Ç—ã–µ\n\n// –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ (–∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç)\nconst out_list = all_articles.filter(article => \n  !existing_links.includes(article.json.link)\n);\n\n// –ï—Å–ª–∏ —Å—Ç–∞—Ç–µ–π –Ω–µ—Ç ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É \nif (out_list.length === 0) { \n  throw new Error('–ù–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç'); \n}\n\nreturn out_list;"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          704,
          976
        ],
        "id": "5ffa541b-6166-467d-85df-50ce08690c4a",
        "name": "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î",
        "onError": "continueErrorOutput",
        "notes": "\n–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏  —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –ë–î\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î"
      },
      {
        "parameters": {
          "language": "python",
          "pythonCode": "# –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—è –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∞–Ω–æ–Ω—Å –Ω–æ–≤–æ—Å—Ç–∏\nnews_rss_short = _(\"–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã\").first().json[\"news_rss_short\"]\n\nresults = []  # –°–æ–±–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–µ–π\nfor item in items:\n  json = item.json\n  title = json.get(\"title\", \"\")\n  text = json.get(news_rss_short, \"\")[0:500]\n  result = f\"{title} \\n {text}\"\n  results.append({\"json\": {\"output\": result}})\n\nreturn results\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1040,
          496
        ],
        "id": "8472dc6d-17e2-4359-8437-2fb0b255c38b",
        "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ py",
        "notes": "–°–ª–∏–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–π –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤"
      },
      {
        "parameters": {
          "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—è –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∞–Ω–æ–Ω—Å –Ω–æ–≤–æ—Å—Ç–∏\nconst news_rss_short = $(\"–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã\").first().json.news_rss_short;\n\n// –°–æ–±–∏—Ä–∞–µ–º –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–µ–π\nconst results = $input.all().map(item => {\n  const json = item.json;\n  const title = json[\"title\"] || \"\";\n  const text = json[news_rss_short] ? json[news_rss_short].substring(0, 500) : \"\";\n  const result = `${title}\\n${text}`;\n  return { json: { output: result } };\n});\n\nreturn results;"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1040,
          688
        ],
        "id": "279bbe99-680f-48bb-aff9-e21683110d40",
        "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
        "notes": "–°–ª–∏–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–π –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "0241a5c8-47dd-49b1-9375-27d4708c5ef2",
                "name": "–ø–æ–ª–µ 1",
                "value": 1,
                "type": "number"
              },
              {
                "id": "5d1e212d-4d9c-4010-b1c5-62a298b26643",
                "name": "–ø–æ–ª–µ 2",
                "value": 2,
                "type": "number"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          -608,
          4032
        ],
        "id": "3941ee93-ee77-4304-909b-068081165e83",
        "name": "Edit Fields"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "0241a5c8-47dd-49b1-9375-27d4708c5ef2",
                "name": "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
                "value": "–ü–µ—Ä–≤—ã–π",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          -1008,
          4016
        ],
        "id": "c22bc325-30f6-4b9f-b681-3bda34259e9f",
        "name": "Edit Fields1"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "0241a5c8-47dd-49b1-9375-27d4708c5ef2",
                "name": "—Ç–æ–∫–µ–Ω",
                "value": "—Ç–æ–∫–µ–Ω",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          -816,
          3888
        ],
        "id": "06a94474-2810-4fdb-a831-d47a5dbf5766",
        "name": "Edit Fields2"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "ba73c295-b9af-4a1c-863e-91c95b5d81f6",
                "name": "array",
                "value": "={{ $json }}",
                "type": "object"
              },
              {
                "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
                "name": "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
                "value": "={{ $('Edit Fields1').item.json[\"–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"] }}",
                "type": "string"
              },
              {
                "id": "d992dbf8-20eb-41eb-938e-856c9fb7f396",
                "name": "—Ç–æ–∫–µ–Ω",
                "value": "={{ $('Edit Fields2').item.json[\"—Ç–æ–∫–µ–Ω\"] }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          -1120,
          4368
        ],
        "id": "7f25417f-96a3-4920-bdcc-6bbc8ea459c1",
        "name": "Edit Fields3"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "import json\n\n\nout = []\ns = _items[0][\"json\"][\"array\"]\n\nreturn [{\"json\": {\"out\": s}}]"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          -864,
          4368
        ],
        "id": "a049185e-357d-4022-8dba-20891ecccefe",
        "name": "Code in Python (Native)"
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "SELECT *\nFROM public.app\nWHERE app_name = 'news'\n  AND app_user_id = (\n    SELECT user_id\n    FROM public.\"user\"\n    WHERE user_login = '{{ $json.scheme_name }}'\n  );\n",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          416,
          2112
        ],
        "id": "66ef0b66-f31a-464b-b54f-f186ce96dcc2",
        "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
        "alwaysOutputData": true,
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "89acf017-4d93-4968-a8e0-320a1e7e9c98",
                "name": "base_url",
                "value": "={{ $json.app_base_url }}",
                "type": "string"
              },
              {
                "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
                "name": "scheme_name",
                "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').first().json.scheme_name }}",
                "type": "string"
              },
              {
                "id": "627bd1be-71f4-429e-a724-8992923793a1",
                "name": "mode",
                "value": "={{ $json.app_mode }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          832,
          2208
        ],
        "id": "07a370e1-cf36-4f68-900f-92cc07f35ca1",
        "name": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä",
        "notes": "–ó–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "ad7eb20e-63d9-43b8-9510-4d6fae25f0ed",
                "name": "articles",
                "value": "={{ $input.all().map(item => item.json) }}",
                "type": "array"
              },
              {
                "id": "89acf017-4d93-4968-a8e0-320a1e7e9c98",
                "name": "base_url",
                "value": "={{ $('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è').first().json.app_base_url }}",
                "type": "string"
              },
              {
                "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
                "name": "scheme_name",
                "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').first().json.scheme_name }}",
                "type": "string"
              },
              {
                "id": "627bd1be-71f4-429e-a724-8992923793a1",
                "name": "mode",
                "value": "={{ $('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è').first().json.app_mode }}",
                "type": "string"
              },
              {
                "id": "4f27325a-9b2c-482c-b688-9f2083991557",
                "name": "timezone",
                "value": "={{ $('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è').first().json.app_timezone }}",
                "type": "number"
              },
              {
                "id": "d26d84e1-f2af-48f6-b153-4de5a147d4f0",
                "name": "token",
                "value": "={{ $('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞').first().json.token }}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          1440,
          2032
        ],
        "id": "fc72a11e-7f29-4f1e-9dae-0fa3a7ffd9ec",
        "name": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä 1",
        "executeOnce": true,
        "notes": "–ó–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞"
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "SELECT *\nFROM public.app\nWHERE app_name = 'news'\n  AND app_user_id = (\n    SELECT user_id\n    FROM public.\"user\"\n    WHERE user_login = '{{ $json.scheme_name }}'\n  );\n",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          528,
          2800
        ],
        "id": "f53294d4-ba96-4325-b0c4-0d8b166778c7",
        "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1",
        "alwaysOutputData": true,
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "language": "pythonNative",
          "pythonCode": "# –í Python Node\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</title>\n  <style>\n    body {\n      margin: 0;\n      height: 100vh;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-family: system-ui, sans-serif;\n    }\n\n    h1 {\n      font-size: 3em;\n    }\n\n    /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */\n    @media (prefers-color-scheme: light) {\n      body { background-color: #ffffff; }\n      h1 { color: #222222; }\n    }\n\n    /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */\n    @media (prefers-color-scheme: dark) {\n      body { background-color: #111111; }\n      h1 { color: #eeeeee; }\n    }\n  </style>\n</head>\n<body>\n  <h1>–ì–æ—Ç–æ–≤–æ</h1>\n</body>\n</html>\n\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          1648,
          2848
        ],
        "id": "bbd00c6f-56b1-48c2-9605-f6a1b96495f6",
        "name": "HTML2",
        "alwaysOutputData": true
      },
      {
        "parameters": {
          "respondWith": "text",
          "responseBody": "={{ $json.body }}",
          "options": {
            "responseHeaders": {
              "entries": [
                {
                  "name": "Content-Type",
                  "value": "text/html"
                }
              ]
            }
          }
        },
        "type": "n8n-nodes-base.respondToWebhook",
        "typeVersion": 1.4,
        "position": [
          1840,
          2848
        ],
        "id": "3b8c4a60-c330-42aa-bc52-01472e384005",
        "name": "–ì–æ—Ç–æ–≤–æ",
        "executeOnce": false
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "89acf017-4d93-4968-a8e0-320a1e7e9c98",
                "name": "title",
                "value": "={{ $('Merge').item.json.title }}",
                "type": "string"
              },
              {
                "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
                "name": "text_len",
                "value": "={{ $('–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏').item.json.text_len }}",
                "type": "number"
              },
              {
                "id": "627bd1be-71f4-429e-a724-8992923793a1",
                "name": "text_limit_now",
                "value": "={{ $('pass').item.json.text_len }}",
                "type": "number"
              },
              {
                "id": "4f27325a-9b2c-482c-b688-9f2083991557",
                "name": "text",
                "value": "={{ $json.text || \"\"}}",
                "type": "string"
              },
              {
                "id": "5dcca407-331a-452a-bb5c-f0be6aa97102",
                "name": "error",
                "value": "={{ $json.error || \"\"}}",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          1840,
          4032
        ],
        "id": "65a12fb3-b7f6-4011-89db-a5bf67b8fbe2",
        "name": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä ",
        "executeOnce": true,
        "notes": "–ó–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞"
      },
      {
        "parameters": {
          "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
        },
        "type": "n8n-nodes-base.code",
        "typeVersion": 2,
        "position": [
          240,
          4912
        ],
        "id": "74d61ecd-35eb-4c8b-aa28-268cd4da8c3c",
        "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6"
      },
      {
        "parameters": {
          "operation": "executeQuery",
          "query": "SELECT a.*, u.user_login \nFROM public.app AS a \nJOIN public.\"user\" AS u \n  ON a.app_user_id = u.user_id \nWHERE a.app_name = 'news' \n  AND u.user_login = '{{ $json.scheme_name }}'",
          "options": {}
        },
        "type": "n8n-nodes-base.postgres",
        "typeVersion": 2.6,
        "position": [
          416,
          1648
        ],
        "id": "f5abd169-f47a-49ea-972e-55d6a540f932",
        "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2",
        "alwaysOutputData": true,
        "credentials": {
          "postgres": {
            "id": "MfAbjD5qwZeFYS7N",
            "name": "–ë–î Supabase"
          }
        },
        "onError": "continueRegularOutput"
      },
      {
        "parameters": {
          "mode": "combine",
          "combineBy": "combineByPosition",
          "numberInputs": 3,
          "options": {}
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          816,
          2832
        ],
        "id": "ac603d74-d719-4b66-b016-522e7e73487a",
        "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω"
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "hours",
                "hoursInterval": 4
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.2,
        "position": [
          48,
          688
        ],
        "id": "0eb11793-d114-4ea0-bfac-6cb263e8900b",
        "name": "–ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞"
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "minutes",
                "minutesInterval": 15
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.2,
        "position": [
          64,
          4912
        ],
        "id": "a378bfea-a1ba-4c2c-ad08-4f9dc14b69d2",
        "name": "–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç"
      },
      {
        "parameters": {
          "operation": "update",
          "documentURL": "1V5Kup7MoOLhacSAl1odtps9IoFrk25FYw0b1SsCErJo",
          "actionsUi": {
            "actionFields": [
              {
                "action": "insert",
                "text": "=–ù–∞–∑–≤–∞–Ω–∏–µ:\n{{ $json.title }}\n\n–¢–µ–∫—Å—Ç:\n{{ $json.text }}\n\n–û—à–∏–±–∫–∞:\n{{ $json.error }}\n\n{{ $now.format('dd.MM.yyyy HH.mm.ss') }}\n\n---------------------------------------------------------------------------------------------\n\n\n"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.googleDocs",
        "typeVersion": 2,
        "position": [
          1648,
          3872
        ],
        "id": "0c660cfd-3518-4ce6-9a96-5602f624d1f9",
        "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤",
        "credentials": {
          "googleDocsOAuth2Api": {
            "id": "L624Ii6auyun1gBa",
            "name": "Google Docs account"
          }
        }
      },
      {
        "parameters": {
          "operation": "update",
          "documentURL": "1V5Kup7MoOLhacSAl1odtps9IoFrk25FYw0b1SsCErJo",
          "actionsUi": {
            "actionFields": [
              {
                "action": "insert",
                "text": "=–ù–∞–∑–≤–∞–Ω–∏–µ:\n{{ $json.title }}\n\n–¢–µ–∫—Å—Ç:\n{{ $json.text }}\n\n–û—à–∏–±–∫–∞:\n{{ $json.error }}\n\n{{ $now.format('dd.MM.yyyy HH.mm.ss') }}\n\n---------------------------------------------------------------------------------------------\n\n\n"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.googleDocs",
        "typeVersion": 2,
        "position": [
          1920,
          3856
        ],
        "id": "45345c19-91c4-4483-8e77-792ada2eff2a",
        "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤1",
        "credentials": {
          "googleDocsOAuth2Api": {
            "id": "L624Ii6auyun1gBa",
            "name": "Google Docs account"
          }
        }
      },
      {
        "parameters": {
          "numberInputs": 3
        },
        "type": "n8n-nodes-base.merge",
        "typeVersion": 3.2,
        "position": [
          2528,
          1056
        ],
        "id": "d4bcfac7-1c47-4186-96fb-ebdcb33a3c54",
        "name": "Merge1",
        "alwaysOutputData": false,
        "executeOnce": false
      },
      {
        "parameters": {
          "rule": {
            "interval": [
              {
                "field": "hours"
              }
            ]
          }
        },
        "type": "n8n-nodes-base.scheduleTrigger",
        "typeVersion": 1.2,
        "position": [
          560,
          3280
        ],
        "id": "f674158b-ed08-42f2-b5ce-47cfb6565019",
        "name": "–ö–∞–∂–¥—ã–µ 1 —á–∞—Å–∞"
      },
      {
        "parameters": {
          "conditions": {
            "options": {
              "caseSensitive": true,
              "leftValue": "",
              "typeValidation": "strict",
              "version": 3
            },
            "conditions": [
              {
                "id": "fa088fe3-4545-4442-8e86-1dfe2e33b8c0",
                "leftValue": "={{ $json.title }}",
                "rightValue": "",
                "operator": {
                  "type": "string",
                  "operation": "empty",
                  "singleValue": true
                }
              }
            ],
            "combinator": "and"
          },
          "options": {}
        },
        "type": "n8n-nodes-base.if",
        "typeVersion": 2.3,
        "position": [
          400,
          3792
        ],
        "id": "cbc74f40-d841-4031-b516-17a65b1faf11",
        "name": "–ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫"
      },
      {
        "parameters": {
          "assignments": {
            "assignments": [
              {
                "id": "e39a0f71-79e2-431d-9a95-136e7e3704b9",
                "name": "text",
                "value": "=",
                "type": "string"
              }
            ]
          },
          "options": {}
        },
        "type": "n8n-nodes-base.set",
        "typeVersion": 3.4,
        "position": [
          752,
          3776
        ],
        "id": "eaa4ed2a-b702-47a3-8850-921bc7ecb5ac",
        "name": "text = \"\""
      }
    ],
    "connections": {
      "Webhook": {
        "main": [
          [
            {
              "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTML": {
        "main": [
          [
            {
              "node": "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook1": {
        "main": [
          [
            {
              "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTML1": {
        "main": [
          [
            {
              "node": "–í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Error Trigger": {
        "main": [
          [
            {
              "node": "Send a text message",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "HTML3": {
        "main": [
          [
            {
              "node": "–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è": {
        "main": [
          [
            {
              "node": "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞": {
        "main": [
          [
            {
              "node": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞": {
        "main": [
          [
            {
              "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –∏–∑ –ë–î",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –∏–∑ –ë–î": {
        "main": [
          [
            {
              "node": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä 1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ HTML": {
        "main": [
          [
            {
              "node": "HTML1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Webhook2": {
        "main": [
          [
            {
              "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω",
              "type": "main",
              "index": 2
            },
            {
              "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞": {
        "main": [
          [
            {
              "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞": {
        "main": [
          [
            {
              "node": "–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º—ã",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º—ã": {
        "main": [
          [
            {
              "node": "Update rows in a table",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Update rows in a table": {
        "main": [
          [
            {
              "node": "HTML2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞": {
        "main": [
          [
            {
              "node": "–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–∞": {
        "main": [
          [
            {
              "node": "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é": {
        "main": [
          [
            {
              "node": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1": {
        "main": [
          [],
          [
            {
              "node": "–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
              "type": "main",
              "index": 0
            },
            {
              "node": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–í—ã–±–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏": {
        "main": [
          [
            {
              "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π",
              "type": "main",
              "index": 0
            },
            {
              "node": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π": {
        "main": [
          [
            {
              "node": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã": {
        "main": [
          [],
          [
            {
              "node": "–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã": {
        "main": [
          [
            {
              "node": "–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Basic LLM Chain1": {
        "main": [
          [
            {
              "node": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "RSS –∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã": {
        "main": [
          [
            {
              "node": "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "link": {
        "main": [
          [
            {
              "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
              "type": "main",
              "index": 2
            }
          ]
        ]
      },
      "OpenRouter Chat Model": {
        "ai_languageModel": [
          [
            {
              "node": "Basic LLM Chain1",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "If": {
        "main": [
          [
            {
              "node": "–ó–∞–ø–∏—Å—å –∞–Ω–æ–Ω—Å–æ–≤ –≤ –ë–î",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏": {
        "main": [
          [
            {
              "node": "If",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤": {
        "main": [
          [
            {
              "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤": {
        "main": [
          [
            {
              "node": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π": {
        "main": [
          [
            {
              "node": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ": {
        "main": [
          [
            {
              "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 2
            }
          ]
        ]
      },
      "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ": {
        "main": [
          [
            {
              "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 3
            }
          ]
        ]
      },
      "OpenRouter Chat Model3": {
        "ai_languageModel": [
          [
            {
              "node": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "OpenRouter Chat Model4": {
        "ai_languageModel": [
          [
            {
              "node": "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞",
              "type": "ai_languageModel",
              "index": 0
            }
          ]
        ]
      },
      "–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞": {
        "main": [
          [
            {
              "node": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä ",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "pass": {
        "main": [
          [
            {
              "node": "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "Merge",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–†–æ—É—Ç–µ—Ä",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–†–æ—É—Ç–µ—Ä": {
        "main": [
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 1
            }
          ],
          [
            {
              "node": "pass",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è": {
        "main": [
          [
            {
              "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ö–æ–Ω—Ç—Ä–æ–ª—å LLM": {
        "main": [
          [
            {
              "node": "–û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge": {
        "main": [
          [
            {
              "node": "pass",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ –æ—à–∏–±–∫–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç–∞—Ç–µ–π",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î": {
        "main": [
          [
            {
              "node": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1",
              "type": "main",
              "index": 0
            },
            {
              "node": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î": {
        "main": [
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1": {
        "main": [
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ç—å–∏": {
        "main": [
          [
            {
              "node": "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏": {
        "main": [
          [
            {
              "node": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1": {
        "main": [
          [
            {
              "node": "–ò—â–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ—Ç–æ",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏": {
        "main": [
          [
            {
              "node": "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π": {
        "main": [
          [
            {
              "node": "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "–ò—â–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ—Ç–æ": {
        "main": [
          [
            {
              "node": "–°—Ç–∞—Ç—å–∏ —Å —Ñ–æ—Ç–æ",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ",
              "type": "main",
              "index": 0
            },
            {
              "node": "–î–ª—è –õ–µ–Ω—ã",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–°—Ç–∞—Ç—å–∏ –±–µ–∑ —Ñ–æ—Ç–æ",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ",
              "type": "main",
              "index": 0
            },
            {
              "node": "–¢–æ–∂–µ –¥–ª—è –ª–µ–Ω—ã",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°—Ç–∞—Ç—å–∏ —Å —Ñ–æ—Ç–æ": {
        "main": [
          [],
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°—Ç–∞—Ç—å–∏ –±–µ–∑ —Ñ–æ—Ç–æ": {
        "main": [
          [],
          [
            {
              "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ö–æ–Ω—Ç—Ä–æ–ª—å": {
        "main": [
          [
            {
              "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
              "type": "main",
              "index": 0
            },
            {
              "node": "Merge",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞": {
        "main": [
          [
            {
              "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1": {
        "main": [
          [
            {
              "node": "RSS –∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 2": {
        "main": [
          [
            {
              "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3": {
        "main": [
          [
            {
              "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4": {
        "main": [
          [
            {
              "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5": {
        "main": [
          [
            {
              "node": "–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
              "type": "main",
              "index": 0
            },
            {
              "node": "–í—ã–±–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π1": {
        "main": [
          [
            {
              "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î": {
        "main": [
          [
            {
              "node": "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î py": {
        "main": [
          []
        ]
      },
      "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î": {
        "main": [
          [
            {
              "node": "link",
              "type": "main",
              "index": 0
            },
            {
              "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 2
            }
          ]
        ]
      },
      "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ py": {
        "main": [
          []
        ]
      },
      "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞": {
        "main": [
          [
            {
              "node": "Basic LLM Chain1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ": {
        "main": [
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "When clicking ‚ÄòExecute workflow‚Äô": {
        "main": [
          [
            {
              "node": "Edit Fields1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields1": {
        "main": [
          [
            {
              "node": "Edit Fields2",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields": {
        "main": [
          [
            {
              "node": "Edit Fields3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields2": {
        "main": [
          [
            {
              "node": "Edit Fields",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Edit Fields3": {
        "main": [
          [
            {
              "node": "Code in Python (Native)",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è": {
        "main": [
          [
            {
              "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä": {
        "main": [
          [
            {
              "node": "HTML3",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä 1": {
        "main": [
          [
            {
              "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ HTML",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1": {
        "main": [
          [
            {
              "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω",
              "type": "main",
              "index": 1
            }
          ]
        ]
      },
      "HTML2": {
        "main": [
          [
            {
              "node": "–ì–æ—Ç–æ–≤–æ",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä ": {
        "main": [
          [
            {
              "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å LLM",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6": {
        "main": [
          [
            {
              "node": "–°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2": {
        "main": [
          [
            {
              "node": "HTML",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω": {
        "main": [
          [
            {
              "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞": {
        "main": [
          [
            {
              "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç": {
        "main": [
          [
            {
              "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ó–∞–ø–∏—Å—å –∞–Ω–æ–Ω—Å–æ–≤ –≤ –ë–î": {
        "main": [
          [
            {
              "node": "Merge1",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "Merge1": {
        "main": [
          [
            {
              "node": "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ö–∞–∂–¥—ã–µ 1 —á–∞—Å–∞": {
        "main": [
          [
            {
              "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "–ü—Ä–æ–≤–µ—Ä–∫–∞": {
        "main": [
          []
        ]
      },
      "–ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫": {
        "main": [
          [
            {
              "node": "text = \"\"",
              "type": "main",
              "index": 0
            }
          ],
          [
            {
              "node": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è",
              "type": "main",
              "index": 0
            }
          ]
        ]
      },
      "text = \"\"": {
        "main": [
          [
            {
              "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å",
              "type": "main",
              "index": 0
            }
          ]
        ]
      }
    },
    "authors": "avdivo –ê–ª–µ–∫—Å–µ–π",
    "name": "Version fb6febdd",
    "description": "",
    "autosaved": false
  },
  "activeVersionId": "fb6febdd-bc68-46a4-8f32-55552e5f2829",
  "connections": {
    "Webhook": {
      "main": [
        [
          {
            "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML": {
      "main": [
        [
          {
            "node": "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook1": {
      "main": [
        [
          {
            "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML1": {
      "main": [
        [
          {
            "node": "–í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Error Trigger": {
      "main": [
        [
          {
            "node": "Send a text message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "HTML3": {
      "main": [
        [
          {
            "node": "–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è": {
      "main": [
        [
          {
            "node": "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞": {
      "main": [
        [
          {
            "node": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞": {
      "main": [
        [
          {
            "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –∏–∑ –ë–î",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –∏–∑ –ë–î": {
      "main": [
        [
          {
            "node": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ HTML": {
      "main": [
        [
          {
            "node": "HTML1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Webhook2": {
      "main": [
        [
          {
            "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω",
            "type": "main",
            "index": 2
          },
          {
            "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞": {
      "main": [
        [
          {
            "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞": {
      "main": [
        [
          {
            "node": "–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º—ã": {
      "main": [
        [
          {
            "node": "Update rows in a table",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update rows in a table": {
      "main": [
        [
          {
            "node": "HTML2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞": {
      "main": [
        [
          {
            "node": "–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–∞": {
      "main": [
        [
          {
            "node": "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é": {
      "main": [
        [
          {
            "node": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1": {
      "main": [
        [],
        [
          {
            "node": "–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–í—ã–±–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏": {
      "main": [
        [
          {
            "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π",
            "type": "main",
            "index": 0
          },
          {
            "node": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π": {
      "main": [
        [
          {
            "node": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã": {
      "main": [
        [],
        [
          {
            "node": "–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã": {
      "main": [
        [
          {
            "node": "–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Basic LLM Chain1": {
      "main": [
        [
          {
            "node": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "RSS –∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã": {
      "main": [
        [
          {
            "node": "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "link": {
      "main": [
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "OpenRouter Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "–ó–∞–ø–∏—Å—å –∞–Ω–æ–Ω—Å–æ–≤ –≤ –ë–î",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤": {
      "main": [
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤": {
      "main": [
        [
          {
            "node": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π": {
      "main": [
        [
          {
            "node": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ": {
      "main": [
        [
          {
            "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ": {
      "main": [
        [
          {
            "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 3
          }
        ]
      ]
    },
    "OpenRouter Chat Model3": {
      "ai_languageModel": [
        [
          {
            "node": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "OpenRouter Chat Model4": {
      "ai_languageModel": [
        [
          {
            "node": "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞": {
      "main": [
        [
          {
            "node": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "pass": {
      "main": [
        [
          {
            "node": "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–†–æ—É—Ç–µ—Ä",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–†–æ—É—Ç–µ—Ä": {
      "main": [
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 1
          }
        ],
        [
          {
            "node": "pass",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è": {
      "main": [
        [
          {
            "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ö–æ–Ω—Ç—Ä–æ–ª—å LLM": {
      "main": [
        [
          {
            "node": "–û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "pass",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ –æ—à–∏–±–∫–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç–∞—Ç–µ–π",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î": {
      "main": [
        [
          {
            "node": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1",
            "type": "main",
            "index": 0
          },
          {
            "node": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î": {
      "main": [
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1": {
      "main": [
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ç—å–∏": {
      "main": [
        [
          {
            "node": "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏": {
      "main": [
        [
          {
            "node": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1": {
      "main": [
        [
          {
            "node": "–ò—â–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ—Ç–æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏": {
      "main": [
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π": {
      "main": [
        [
          {
            "node": "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "–ò—â–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ—Ç–æ": {
      "main": [
        [
          {
            "node": "–°—Ç–∞—Ç—å–∏ —Å —Ñ–æ—Ç–æ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–î–ª—è –õ–µ–Ω—ã",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–°—Ç–∞—Ç—å–∏ –±–µ–∑ —Ñ–æ—Ç–æ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ",
            "type": "main",
            "index": 0
          },
          {
            "node": "–¢–æ–∂–µ –¥–ª—è –ª–µ–Ω—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°—Ç–∞—Ç—å–∏ —Å —Ñ–æ—Ç–æ": {
      "main": [
        [],
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°—Ç–∞—Ç—å–∏ –±–µ–∑ —Ñ–æ—Ç–æ": {
      "main": [
        [],
        [
          {
            "node": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ö–æ–Ω—Ç—Ä–æ–ª—å": {
      "main": [
        [
          {
            "node": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞": {
      "main": [
        [
          {
            "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1": {
      "main": [
        [
          {
            "node": "RSS –∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 2": {
      "main": [
        [
          {
            "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3": {
      "main": [
        [
          {
            "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4": {
      "main": [
        [
          {
            "node": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5": {
      "main": [
        [
          {
            "node": "–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
            "type": "main",
            "index": 0
          },
          {
            "node": "–í—ã–±–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π1": {
      "main": [
        [
          {
            "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î": {
      "main": [
        [
          {
            "node": "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î py": {
      "main": [
        []
      ]
    },
    "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î": {
      "main": [
        [
          {
            "node": "link",
            "type": "main",
            "index": 0
          },
          {
            "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 2
          }
        ]
      ]
    },
    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ py": {
      "main": [
        []
      ]
    },
    "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞": {
      "main": [
        [
          {
            "node": "Basic LLM Chain1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "When clicking ‚ÄòExecute workflow‚Äô": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "Edit Fields3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields3": {
      "main": [
        [
          {
            "node": "Code in Python (Native)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è": {
      "main": [
        [
          {
            "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä": {
      "main": [
        [
          {
            "node": "HTML3",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä 1": {
      "main": [
        [
          {
            "node": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1": {
      "main": [
        [
          {
            "node": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "HTML2": {
      "main": [
        [
          {
            "node": "–ì–æ—Ç–æ–≤–æ",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä ": {
      "main": [
        [
          {
            "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å LLM",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6": {
      "main": [
        [
          {
            "node": "–°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2": {
      "main": [
        [
          {
            "node": "HTML",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω": {
      "main": [
        [
          {
            "node": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞": {
      "main": [
        [
          {
            "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç": {
      "main": [
        [
          {
            "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ó–∞–ø–∏—Å—å –∞–Ω–æ–Ω—Å–æ–≤ –≤ –ë–î": {
      "main": [
        [
          {
            "node": "Merge1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge1": {
      "main": [
        [
          {
            "node": "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ö–∞–∂–¥—ã–µ 1 —á–∞—Å–∞": {
      "main": [
        [
          {
            "node": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "–ü—Ä–æ–≤–µ—Ä–∫–∞": {
      "main": [
        []
      ]
    },
    "–ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫": {
      "main": [
        [
          {
            "node": "text = \"\"",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "text = \"\"": {
      "main": [
        [
          {
            "node": "–ö–æ–Ω—Ç—Ä–æ–ª—å",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "createdAt": "2025-12-24T11:03:16.697Z",
  "id": "dw6dfsrfsej9e4v5",
  "isArchived": false,
  "meta": {
    "templateCredsSetupCompleted": true
  },
  "name": "–ß—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –∏–∑ RSS _s",
  "nodes": [
    {
      "parameters": {
        "chatId": "249503190",
        "text": "={{ $json.execution.error.message }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        -912,
        3424
      ],
      "id": "57929fed-e838-41a1-9b90-2b5d54897ab4",
      "name": "Send a text message",
      "webhookId": "a4b08208-4484-4843-8f51-ecaeabec47f2",
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "content": "## –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n\n### RSS –ª–µ–Ω—Ç—ã (news_rss_channels)\n- news_rss_id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n- news_rss_url - —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–µ–Ω—Ç—É\n- news_rss_short - –∏–∑ –∫–∞–∫–æ–≥–æ –ø–æ–ª—è, —Å—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –Ω–æ–¥–æ–π RSS Read –±—Ä–∞—Ç—å —Ç–µ–∫—Å—Ç –¥–ª—è –¥–∞–π–∂–µ—Å—Ç–∞ (.penci-entry-content)\n- news_rss_title - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ —Å–∞–π—Ç–∞ –Ω–∞ –∫–æ—Ç–æ—Ä—ã–π –≤–µ–¥–µ—Ç –∫–∞–Ω–∞–ª, —Å \".\"\n- news_rss_content - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏ , —Å \".\"\n- news_ rss_ image - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è , —Å \".\"\n- news_rss_created_at - –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è\n- news_rss_disable - True –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å\n\n### –ù–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (news_summary)\n- news_summary_id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n- news_summary_link - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º—É –Ω–æ–≤–æ—Å—Ç—å (—É–Ω–∏–∫–∞–ª—å–Ω–æ–µ)\n- news_summary_text - –Ω–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π\n- news_summary_title - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –Ω–æ–≤–æ—Å—Ç–∏ (link )\n- news_summary_content - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏\n- news_summary_image  - css —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n- news_summary_date_digest - –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ\n- news_summary_digest - (BOOL) –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç–∞—Ç—å—é –¥–∞–π–¥–∂–µ—Å—Ç–∞\n- news_summary_date_published - –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏\n- news_summary_published - (BOOL) —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ç—å—è\n- news_summary_created_at - –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏ –≤ —Ç–∞–±–ª–∏—Ü—É\n- news_summary_disable - –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –°—Ç–∞–≤–∏—Ç—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏–ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, –∫–æ–≥–¥–∞ —Å—Ç–∞—Ç—å—è —É–∂–µ –≤—ã—à–ª–∞ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ –∏ –±—ã–ª–∞ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–∞.\n\n### –°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ (publication).\n- publication_id - –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n- publication_title - –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n- publication_text - —Ç–µ–∫—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n- publication_image - —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n- publication_date - –¥–∞—Ç–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–Ω–µ –ø—É—Å—Ç–æ–µ)\n- publication_original - —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–æ–≤–æ—Å—Ç–∏\n- publication_date_complete - —Ä–µ–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –ø—É—Å—Ç–∞—è)\n",
        "height": 1088,
        "width": 448
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        2320
      ],
      "typeVersion": 1,
      "id": "d4230d1f-e16d-4983-a420-62f21a05439c",
      "name": "Sticky Note4",
      "disabled": true
    },
    {
      "parameters": {
        "path": "s/news_authorize",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        32,
        1648
      ],
      "id": "585b067f-a839-4be8-89fc-2766ab109afb",
      "name": "Webhook",
      "webhookId": "f1c6bc81-e009-40d4-a746-41220389f1b8"
    },
    {
      "parameters": {
        "content": "## –ó–∞–ø—Ä–æ—Å –ª–æ–≥–∏–Ω–∞ –∏ –ø–∞—Ä–æ–ª—è\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏.\n–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –≤ –Ω–æ–¥–µ Webhook:  \n`avdivo/news_authorize`\navdivo - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Å—Ö–µ–º–∞ –≤ –ë–î\n\n### –í –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω–æ–¥–µ HTML:\n–í –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –Ω–µ—Ç), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∞–º.",
        "height": 368,
        "width": 1056
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -16,
        1440
      ],
      "typeVersion": 1,
      "id": "65dd1c53-67de-41df-9d33-cfe6f3b81730",
      "name": "Sticky Note5"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\n\n# –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å n8n\nbase_url = input[\"app_base_url\"]\n\n# –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞: webhook –∏–ª–∏ webhook-test\nmode = \"webhook\"\nif input[\"app_mode\"] == \"test\":\n  mode += \"-test\"\n\n# –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nlogin = input[\"user_login\"]\n\n# –í—ã—á–∏—Å–ª—è–µ–º url –≤–µ–±—Ö—É–∫–∞ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç/–ø—Ä–æ–¥), –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nwebhook_url = f\"{base_url}{mode}/{login}/get_list\"\n\n\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <!-- –ú–µ—Ç–∞-—Ç–µ–≥ –¥–ª—è —É—á–µ—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</title>\n    \n    <style>\n        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */\n        body {\n            font-family: sans-serif;\n            background-color: #f4f4f4;\n            color: #333;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n        }\n        .container {\n            width: 300px;\n            padding: 30px;\n            background-color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        input[type=\"text\"], input[type=\"password\"] {\n            width: 100%;\n            padding: 10px;\n            margin-bottom: 15px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-sizing: border-box; /* –í–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —à–∏—Ä–∏–Ω—ã */\n        }\n        input[type=\"submit\"] {\n            width: 100%;\n            padding: 10px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        input[type=\"submit\"]:hover {\n            background-color: #0056b3;\n        }\n\n        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */\n        @media (prefers-color-scheme: dark) {\n            body {\n                background-color: #121212;\n                color: #e0e0e0;\n            }\n            .container {\n                background-color: #1e1e1e;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n            }\n            input[type=\"text\"], input[type=\"password\"] {\n                background-color: #333;\n                color: #e0e0e0;\n                border-color: #555;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>–í—Ö–æ–¥</h1>\n        <!-- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ action —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à –≤—Ç–æ—Ä–æ–π –≤–µ–±—Ö—É–∫ POST –≤ n8n -->\n        <form action=\\\"\"\"\" + webhook_url + \"\"\"\\\" method=\"post\">\n            <label for=\"username\">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>\n            <input type=\"text\" id=\"username\" name=\"username\" required>\n            \n            <label for=\"password\">–ü–∞—Ä–æ–ª—å:</label>\n            <input type=\"password\" id=\"password\" name=\"password\" required>\n            \n            <input type=\"submit\" value=\"–í–æ–π—Ç–∏\">\n        </form>\n    </div>\n    <script>\n        document.addEventListener('DOMContentLoaded', function() {\n            // –ü–æ–ª—É—á–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–∑ URL-–∞–¥—Ä–µ—Å–∞\n            const urlParams = new URLSearchParams(window.location.search);\n            // –ü—ã—Ç–∞–µ–º—Å—è –ø–æ–ª—É—á–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ 'error'\n            const errorMessage = urlParams.get('error');\n\n            // –ï—Å–ª–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä 'error' —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ç–µ–∫—Å—Ç\n            if (errorMessage) {\n                // –°–æ–∑–¥–∞–µ–º –Ω–æ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç <p> –¥–ª—è —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–µ\n                const errorElement = document.createElement('p');\n                \n                // –°–æ–æ–±—â–µ–Ω–∏–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–æ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –ø—Ä–æ–±–µ–ª—ã –∫–∞–∫ %20), –ø–æ—ç—Ç–æ–º—É –¥–µ–∫–æ–¥–∏—Ä—É–µ–º –µ–≥–æ\n                errorElement.textContent = decodeURIComponent(errorMessage);\n                \n                // –°—Ç–∏–ª–∏–∑—É–µ–º —Ç–µ–∫—Å—Ç, —á—Ç–æ–±—ã –æ–Ω –±—ã–ª –∫—Ä–∞—Å–Ω—ã–º\n                errorElement.style.color = 'red';\n                errorElement.style.marginBottom = '15px'; // –î–æ–±–∞–≤–ª—è–µ–º –æ—Ç—Å—Ç—É–ø —Å–Ω–∏–∑—É\n\n                // –ù–∞—Ö–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ <h1> –∏ –≤—Å—Ç–∞–≤–ª—è–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –Ω–µ–≥–æ\n                const h1 = document.querySelector('h1');\n                if (h1) {\n                    h1.insertAdjacentElement('afterend', errorElement);\n                }\n            }\n        });\n    </script>\n</body>\n</html>\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        608,
        1648
      ],
      "id": "53914c45-9c0b-49d4-8cb9-3848d361ec0e",
      "name": "HTML"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "s/get_list",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        32,
        2112
      ],
      "id": "dc72067f-0f98-42b1-8571-140b728ecb98",
      "name": "Webhook1",
      "webhookId": "f1c6bc81-e009-40d4-a746-41220389f1b8"
    },
    {
      "parameters": {
        "content": "## –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å—Ç–∞—Ç–µ–π, –≤—ã–ø–æ–ª–Ω—è—è –ø—Ä–æ–≤–µ—Ä–∫—É –ø–∞—Ä–æ–ª—è.\n–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –≤ –Ω–æ–¥–µ Webhook:  \n`avdivo/get_list`\navdivo - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Å—Ö–µ–º–∞ –≤ –ë–î\n\n### –í –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω–æ–¥–∞—Ö HTML:\n–í –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –Ω–µ—Ç), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∞–º.\n–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É get_list, –µ—Å–ª–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–µ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–≤–æ–¥–∏—Ç —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è.",
        "height": 512,
        "width": 2080
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -16,
        1856
      ],
      "typeVersion": 1,
      "id": "62f59a09-d327-4e1f-b64f-cf7f95f6f9ca",
      "name": "Sticky Note6"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "# –ü–æ–ª—É—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\nparam = input[\"param\"]\n\n# –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å n8n\n\nbase_url = param[\"base_url\"]\n\n# –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞: webhook –∏–ª–∏ webhook-test\nmode = \"webhook\"\nif param[\"mode\"] == \"test\":\n  mode += \"-test\"\n\n# –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nlogin = param[\"scheme_name\"]\n\n# –í—ã—á–∏—Å–ª—è–µ–º url –≤–µ–±—Ö—É–∫–∞ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç/–ø—Ä–æ–¥), –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nwebhook_url = f\"{base_url}{mode}/{login}/assign_publications\"\n\n# –¢–æ–∫–µ–Ω –¥–ª—è –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–¥–ª–∏–Ω–Ω–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö\ntoken = param[\"token\"]\n\n# –°–ø–∏—Å–æ–∫ HTML —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å–æ —Å—Ç–∞—Ç—å—è–º–∏\nbody_list = input.get(\"body_list\", \"–ù–µ—Ç –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏.\")\n\n# –í Python Node\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</title>\n    \n        <style>\n        /* --- –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ (–°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞) --- */\n        body {\n            font-family: sans-serif;\n            background-color: #f4f4f4;\n            color: #333;\n            margin: 20px;\n            line-height: 1.6;\n        }\n        .container {\n            max-width: 800px;\n            margin: auto;\n            padding: 30px;\n            background-color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        .article-section {\n            padding-bottom: 20px;\n            margin-bottom: 20px;\n            border-bottom: 2px solid #eee;\n        }\n        .article-section:last-child {\n            border-bottom: none;\n            margin-bottom: 0;\n        }\n        h1, h2 {\n            color: #000;\n        }\n        .article-header {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            margin-bottom: 10px; /* Adjust as needed */\n        }\n        .read-more-link {\n            font-size: 1.8em; /* Adjust icon size */\n            text-decoration: none;\n            color: #007bff; /* Icon color */\n            position: relative;\n            display: inline-block;\n            margin-left: 10px;\n        }\n        .read-more-link:hover {\n            color: #0056b3; /* Darker color on hover */\n        }\n        .read-more-link::after {\n            content: '–ü—Ä–æ—á–∏—Ç–∞—Ç—å';\n            position: absolute;\n            right: 0;\n            top: 100%;\n            background-color: rgba(0, 0, 0, 0.8);\n            color: #fff;\n            padding: 5px 8px;\n            border-radius: 4px;\n            white-space: nowrap;\n            opacity: 0;\n            visibility: hidden;\n            transition: opacity 0.2s, visibility 0.2s;\n            font-size: 0.8em;\n            z-index: 10;\n        }\n        .read-more-link:hover::after {\n            opacity: 1;\n            visibility: visible;\n        }\n                    textarea {\n                        width: 100%;\n                        padding: 10px;\n                        margin-bottom: 10px;\n                        border: 1px solid #ccc;\n                        border-radius: 4px;\n                        box-sizing: border-box;\n                        min-height: 150px;\n                        font-size: 17px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */\n                    }\n                    input[type=\"datetime-local\"] {\n                        width: 200px; /* –°–æ–∫—Ä–∞—â–µ–Ω–Ω–∞—è —à–∏—Ä–∏–Ω–∞ */\n                        padding: 8px;\n                        border: 1px solid #ccc;\n                        border-radius: 4px;\n                        background-color: #fff; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */\n                        color: #333; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */\n                        color-scheme: light;\n                    }\n        /* Custom Checkbox Styles */\n        label {\n            display: inline-flex;\n            align-items: center;\n            position: relative;\n            padding-left: 25px; /* Space for custom checkbox */\n            cursor: pointer;\n            margin-right: 15px; /* Keep original margin */\n        }\n\n        label input[type=\"checkbox\"] {\n            position: absolute;\n            opacity: 0;\n            width: 16px; /* Match custom checkbox size */\n            height: 16px;\n            cursor: pointer;\n            z-index: 1; /* Ensure it's clickable */\n            left: 0; /* Position correctly */\n            top: 50%;\n            transform: translateY(-50%);\n        }\n\n        label span::before {\n            content: '';\n            position: absolute;\n            left: 0;\n            top: 50%;\n            transform: translateY(-50%);\n            width: 16px;\n            height: 16px;\n            border: 2px solid #007bff; /* Blue border */\n            border-radius: 3px;\n            background-color: #fff;\n            transition: all 0.2s ease;\n        }\n\n        label input[type=\"checkbox\"]:checked + span::before {\n            background-color: #007bff; /* Blue background when checked */\n            border-color: #007bff;\n            content: '‚úî'; /* Checkmark */\n            color: #fff;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            font-size: 12px;\n            line-height: 1;\n        }\n        .controls {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            flex-wrap: wrap;\n        }\n        input[type=\"datetime-local\"] {\n            margin-right: 5px;\n            vertical-align: middle;\n        }\n\n        .submit-btn {\n            width: 100%;\n            padding: 10px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n            font-size: 18px; /* –£–≤–µ–ª–∏—á–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —à—Ä–∏—Ñ—Ç–∞ */\n            margin-top: 20px;\n        }\n        .submit-btn:hover {\n            background-color: #0056b3;\n        }\n\n\n        /* --- –°—Ç–∏–ª–∏ –¢–µ–º–Ω–æ–π —Ç–µ–º—ã --- */\n        @media (prefers-color-scheme: dark) {\n            body {\n                background-color: #121212;\n                color: #e0e0e0;\n            }\n            .container {\n                background-color: #1e1e1e;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n            }\n            h1, h2 {\n                color: #fff;\n            }\n            .article-section {\n                border-bottom: 2px solid #333;\n            }\n            textarea {\n                background-color: #333;\n                color: #e0e0e0;\n                border-color: #555;\n            }\n            input[type=\"datetime-local\"] {\n                background-color: #1e1e1e; /* –¶–≤–µ—Ç —Ñ–æ–Ω–∞ –∫–∞–∫ —É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ */\n                color: #e0e0e0; /* –¶–≤–µ—Ç —Ç–µ–∫—Å—Ç–∞ */\n                border-color: #555;\n                color-scheme: dark;\n            }\n            label span::before {\n                border: 2px solid #007bff; /* Blue border */\n                background-color: #333; /* Dark background */\n            }\n            label input[type=\"checkbox\"]:checked + span::before {\n                background-color: #007bff; /* Blue background when checked */\n                border-color: #007bff;\n                color: #fff;\n            }\n        }\n        @media (max-width: 768px) {\n            .datetime-label {\n                display: flex;\n                flex-wrap: wrap;\n                align-items: center;\n            }\n        }\n    </style>\n    \n</head>\n<body>\n    <div class=\"container\">\n        <h1>–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏</h1>\n        \n        <!-- –§–æ—Ä–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ POST-–∑–∞–ø—Ä–æ—Å–æ–º –Ω–∞ –¥—Ä—É–≥–æ–π –≤–µ–±—Ö—É–∫ n8n -->\n        \"\"\" + f'<form action=\"{webhook_url}\" method=\"POST\"><input type=\"hidden\" name=\"auth_token\" value=\"{token}\">' + body_list + \"\"\"\n\n            <button type=\"submit\" class=\"submit-btn\">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>\n        </form>\n    </div>\n</body>\n</html>\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1632,
        2208
      ],
      "id": "fe742f2a-e00c-429b-a2f2-c0d5bf4aae82",
      "name": "HTML1",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "content": "## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ —Ä–∞–±–æ—Ç–µ\n- –ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω—ã —Ç–∞–±–ª–∏—Ü—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π, —ç—Ç–æ –¥–µ–ª–∞–µ—Ç—Å—è –≤ –≤–æ—Ä–∫—Ñ–ª–æ—É –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n- –ù–∞–∑–≤–∞–Ω–∏–µ –≤–æ—Ä–∫—Ñ–ª–æ—É –¥–æ–ª–∂–Ω–æ –∑–∞–∫–∞–Ω—á–∏–≤–∞—Ç—å—Å—è –Ω–∞ _login. –≠—Ç–æ  –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –∞ —Ç–∞–∫–∂–µ —Å—Ö–µ–º–∞ –¥–ª—è –Ω–µ–≥–æ –≤ –ë–î.\n- –í –≤—ç–±—Ö—É–∫–∞—Ö –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ  Path, –æ–Ω–æ –¥–æ–ª–∂–Ω–æ –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å —ç—Ç–æ–≥–æ –ª–æ–≥–∏–Ω–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä: login/news_authorize\n- –†–µ–∂–∏–º —Ä–∞–±–æ—Ç—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –ø—Ä–æ–¥–∞–∫—Ç, –±–∞–∑–æ–≤—ã–π url, —Ç–∞–π–º–∑–æ–Ω–∞ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è/–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è –≤ —Ä–∞–±–æ—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.\n\n",
        "height": 400,
        "width": 448,
        "color": 3
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        1888
      ],
      "typeVersion": 1,
      "id": "8cc40680-2131-4d23-9bd1-68c83b6d66dc",
      "name": "Sticky Note8"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.errorTrigger",
      "typeVersion": 1,
      "position": [
        -1184,
        3424
      ],
      "id": "3451f699-7e30-4747-ac43-41ff1da2a1ba",
      "name": "Error Trigger"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "# –ë–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞\nbase_url = _items[0][\"json\"][\"base_url\"]\n\n# –†–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞: webhook –∏–ª–∏ webhook-test\nmode = \"webhook\"\nif _items[0][\"json\"][\"mode\"] == \"test\":\n  mode += \"-test\"\n\n# –õ–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è_input.first().json.scheme_name\nlogin = _items[0][\"json\"][\"scheme_name\"]\n\n# –í—ã—á–∏—Å–ª—è–µ–º url –≤–µ–±—Ö—É–∫–∞ –∏–∑ –±–∞–∑–æ–≤–æ–≥–æ –∞–¥—Ä–µ—Å–∞, —Ä–µ–∂–∏–º–∞ –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç/–ø—Ä–æ–¥), –ª–æ–≥–∏–Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\nwebhook_url = f\"{base_url}{mode}/{login}/get_list\"\n\n\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n    <meta charset=\"UTF-8\">\n    <!-- –ú–µ—Ç–∞-—Ç–µ–≥ –¥–ª—è —É—á–µ—Ç–∞ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞—Ö -->\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <title>–°—Ç—Ä–∞–Ω–∏—Ü–∞ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏</title>\n    \n    <style>\n        /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è —Å–≤–µ—Ç–ª–æ–π —Ç–µ–º—ã (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é) */\n        body {\n            font-family: sans-serif;\n            background-color: #f4f4f4;\n            color: #333;\n            display: flex;\n            justify-content: center;\n            align-items: center;\n            height: 100vh;\n            margin: 0;\n        }\n        .container {\n            width: 300px;\n            padding: 30px;\n            background-color: #fff;\n            border-radius: 8px;\n            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);\n        }\n        input[type=\"text\"], input[type=\"password\"] {\n            width: 100%;\n            padding: 10px;\n            margin-bottom: 15px;\n            border: 1px solid #ccc;\n            border-radius: 4px;\n            box-sizing: border-box; /* –í–∞–∂–Ω–æ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–π —à–∏—Ä–∏–Ω—ã */\n        }\n        input[type=\"submit\"] {\n            width: 100%;\n            padding: 10px;\n            background-color: #007bff;\n            color: white;\n            border: none;\n            border-radius: 4px;\n            cursor: pointer;\n        }\n        input[type=\"submit\"]:hover {\n            background-color: #0056b3;\n        }\n\n        /* –ú–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å –¥–ª—è —Ç–µ–º–Ω–æ–π —Ç–µ–º—ã */\n        @media (prefers-color-scheme: dark) {\n            body {\n                background-color: #121212;\n                color: #e0e0e0;\n            }\n            .container {\n                background-color: #1e1e1e;\n                box-shadow: 0 4px 8px rgba(0, 0, 0, 0.5);\n            }\n            input[type=\"text\"], input[type=\"password\"] {\n                background-color: #333;\n                color: #e0e0e0;\n                border-color: #555;\n            }\n        }\n    </style>\n</head>\n<body>\n    <div class=\"container\">\n        <h1>–í—Ö–æ–¥</h1>\n        <p style=\"color: red; margin-bottom: 15px;\">–ù–µ–≤–µ—Ä–Ω—ã–π –ª–æ–≥–∏–Ω –∏–ª–∏ –ø–∞—Ä–æ–ª—å</p>\n        <!-- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ action —É–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ –≤–∞—à –≤—Ç–æ—Ä–æ–π –≤–µ–±—Ö—É–∫ POST –≤ n8n -->\n        <form action=\\\"\"\"\" + webhook_url + \"\"\"\\\" method=\"post\">\n            <label for=\"username\">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:</label>\n            <input type=\"text\" id=\"username\" name=\"username\" required>\n            \n            <label for=\"password\">–ü–∞—Ä–æ–ª—å:</label>\n            <input type=\"password\" id=\"password\" name=\"password\" required>\n            \n            <input type=\"submit\" value=\"–í–æ–π—Ç–∏\">\n        </form>\n    </div>\n\n</body>\n</html>\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1024,
        2208
      ],
      "id": "eefb5f53-e14a-4abd-8af1-69115a269d93",
      "name": "HTML3"
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.body }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1216,
        2208
      ],
      "id": "e146bd51-e5c2-4c5f-aa16-db5bc78c0174",
      "name": "–û—Ç–ø—Ä–∞–≤–∫–∞ —Ñ–æ—Ä–º—ã3",
      "executeOnce": false
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6f6353cc-7a5a-4ec4-bbbe-9723f0d013da",
              "leftValue": "={{ $json.app_password }}",
              "rightValue": "={{ $('Webhook1').item.json.body.password }}",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            },
            {
              "id": "db3b52db-0bba-4580-bf61-3754f87dcf44",
              "leftValue": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').item.json.scheme_name }}",
              "rightValue": "={{ $('Webhook1').item.json.body.username }}",
              "operator": {
                "type": "string",
                "operation": "equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        608,
        2112
      ],
      "id": "e2a00846-7b5f-4024-bd40-3656674e4319",
      "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä–æ–ª—è"
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.body }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1872,
        2128
      ],
      "id": "682f5cb3-d046-4536-926e-b9302f0d668e",
      "name": "–í—ã–≤–æ–¥ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π",
      "executeOnce": false
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.body }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        800,
        1648
      ],
      "id": "b24a6d75-24b8-4f7a-aa0a-1666b565fad8",
      "name": "–ü–µ—Ä–µ—Ö–æ–¥ –∫ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏",
      "executeOnce": false
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "import uuid\n\n# –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç UUID –≤–µ—Ä—Å–∏–∏ 4 (—Å–ª—É—á–∞–π–Ω—ã–π)\nuuid_token = str(uuid.uuid4())\nreturn [{\"json\": {\"token\": uuid_token}}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        832,
        2032
      ],
      "id": "a4016e74-8452-451e-85e1-330c0f26e556",
      "name": "–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "=token_news_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').item.json.scheme_name }}",
        "value": "={{ $json.token }}",
        "expire": true,
        "ttl": 43200
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        1024,
        2032
      ],
      "id": "05fb0122-07b6-434e-abeb-89f6407e74e2",
      "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
      "credentials": {
        "redis": {
          "id": "3yufaVYIxUGdqEs5",
          "name": "Redis account"
        }
      },
      "notes": "–ó–∞–ø–∏—Å—å –≤ redis —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–æ–≤–æ—Å—Ç–µ–π. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. \n–¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 12 —á–∞—Å–æ–≤.\n–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ–π –∫–ª—é—á."
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "value": "={{ $items(\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3\").first().json[\"scheme_name\"] }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "news_summary",
          "mode": "list",
          "cachedResultName": "news_summary"
        },
        "returnAll": true,
        "where": {
          "values": [
            {
              "column": "news_summary_disable",
              "value": "False"
            }
          ]
        },
        "sort": {
          "values": [
            {
              "column": "news_summary_created_at",
              "direction": "DESC"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1232,
        2032
      ],
      "id": "9ebbb5d7-83ab-4a46-94a6-7b4d6bc002ad",
      "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –∏–∑ –ë–î",
      "executeOnce": false,
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "from datetime import datetime, timezone, timedelta\n\n\n# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\n\n# –ü–æ–ª—É—á–∞–µ–º —Ç—Ä–µ–±—É–µ–º—ã–π —á—Å–æ–≤–æ–π –ø–æ—è—Å\ntime_zone = input[\"timezone\"]\n\nbody_list = \"\"\nfor i, item in enumerate(input[\"articles\"]):\n\n  # –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –Ω–æ–≤–æ—Å—Ç–∏ –≤ –ë–î\n  id = item[\"news_summary_id\"]\n  \n  # –ü–µ—Ä–µ–≤–æ–¥ –¥–∞—Ç—ã –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç—å–∏ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\n  # —Å—Ç—Ä–æ–∫–∞ –∏–∑ JSON\n  date_str = item[\"news_summary_created_at\"]\n  # –ø–∞—Ä—Å–∏–º ISO-–¥–∞—Ç—É –∫–∞–∫ UTC\n  dt_utc = datetime.fromisoformat(date_str.replace(\"Z\", \"+00:00\"))\n  # –ü–µ—Ä–µ–≤–æ–¥–∏–º —Å—Ä–∞–∑—É –≤ –Ω—É–∂–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, UTC+3)\n  dt_local = dt_utc.astimezone(timezone(timedelta(hours=time_zone)))\n  # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º\n  created_at = dt_local.strftime(\"%d.%m.%Y\")\n\n  # –ï—Å–ª–∏ –µ—Å—Ç—å –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–≤–µ—Å—Ç–∏ –µ–µ –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\n  # —Å—Ç—Ä–æ–∫–∞ –∏–∑ JSON\n  date_str = item[\"news_summary_date_published\"]\n  date_published = \"\"\n  if date_str:\n    # –ø–∞—Ä—Å–∏–º ISO-–¥–∞—Ç—É –∫–∞–∫ UTC\n    dt_utc = datetime.fromisoformat(date_str.replace(\"Z\", \"+00:00\"))\n    # –ü–µ—Ä–µ–≤–æ–¥–∏–º —Å—Ä–∞–∑—É –≤ –Ω—É–∂–Ω—ã–π —á–∞—Å–æ–≤–æ–π –ø–æ—è—Å (–Ω–∞–ø—Ä–∏–º–µ—Ä, UTC+3)\n    dt_local = dt_utc.astimezone(timezone(timedelta(hours=time_zone)))\n    # —Ñ–æ—Ä–º–∞—Ç–∏—Ä—É–µ–º\n    date_published = dt_local.strftime(\"%Y-%m-%dT%H:%M\")\n  \n  article = f\"\"\"\n    <div class=\"article-section\">\n      <div class=\"article-header\">\n        <h2>{created_at}</h2>({i+1})\n        <a href=\"{item[\"news_summary_link\"]}\" target=\"_blank\" class=\"read-more-link\">üîó</a>\n      </div>\n      <textarea name=\"articles[{id}][text]\" placeholder=\"–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏...\">{item[\"news_summary_text\"]}</textarea>\n        <div class=\"controls\">\n          <div>\n            <label>\n              <input type=\"checkbox\" name=\"articles[{id}][digest]\" value=\"true\" {\"checked disabled\" if item[\"news_summary_date_digest\"] else \"\"}> <span>–î–æ–±–∞–≤–∏—Ç—å –≤ –¥–∞–π–¥–∂–µ—Å—Ç</span>\n            </label>\n            <label class=\"datetime-label\">\n              –í—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:\n              <input type=\"datetime-local\" name=\"articles[{id}][time]\" {f'value=\"{date_published}\" disabled' if date_published else \"\"}>\n            </label>\n          </div>\n          <label>\n            <input type=\"checkbox\" name=\"articles[{id}][delete]\" value=\"true\"> <span>–£–¥–∞–ª–∏—Ç—å</span>\n          </label>\n        </div>\n    </div>\n    \n  \"\"\"\n\n  body_list += article\n\n# –ü–µ—Ä–µ–¥–∞–µ–º –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–∞–ª—å—à–µ\ndel(input[\"articles\"])\n\nreturn {\"json\": {\"body_list\": body_list, \"param\": input}}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1632,
        2032
      ],
      "id": "ae41b66a-f1b8-4648-bc69-54afe19ff670",
      "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Å–ø–∏—Å–∫–∞ —Å—Ç–∞—Ç–µ–π –≤ HTML",
      "alwaysOutputData": true,
      "onError": "continueErrorOutput",
      "notes": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —á–∞—Å—Ç–∏ html –¥–æ–∫—É–º–µ–Ω—Ç–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—â–µ–≥–æ —Ñ–æ—Ä–º—É —Å–æ —Å–ø–∏—Å–∫–æ–º —Å—Ç–∞—Ç–µ–π"
    },
    {
      "parameters": {
        "content": "## –ü—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–µ–π\n- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–Ω—É—é —Ñ–æ—Ä–º—É —Å–æ —Å—Ç–∞—Ç—å—è–º–∏\n- –≤–Ω–æ—Å–∏—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ë–î.\n–î–ª—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ–π —Ä–∞–±–æ—Ç—ã –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø—É—Ç—å –≤ –Ω–æ–¥–µ Webhook:  \n`avdivo/assign_publications`\navdivo - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏ —Å—Ö–µ–º–∞ –≤ –ë–î\n\n### –í –∫–æ–¥–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –Ω–æ–¥–∞—Ö HTML:\n–í –Ω–∞—á–∞–ª–µ –∑–∞–¥–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –±–∞–∑–æ–≤—ã–π –∞–¥—Ä–µ—Å –∏ —Ä–µ–∂–∏–º –∑–∞–ø—É—Å–∫–∞ (—Ç–µ—Å—Ç–æ–≤—ã–π –∏–ª–∏ –Ω–µ—Ç), –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è —Å–∞–º.\n–û—Ç–∫—Ä—ã–≤–∞–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É get_list, –µ—Å–ª–∏ –ª–æ–≥–∏–Ω –∏ –ø–∞—Ä–æ–ª—å –≤–µ—Ä–Ω—ã–µ –∏–ª–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ –≤—ã–≤–æ–¥–∏—Ç —Ñ–æ—Ä–º—É –≤–≤–æ–¥–∞ –ø–∞—Ä–æ–ª—è.",
        "height": 624,
        "width": 2080
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -16,
        2416
      ],
      "typeVersion": 1,
      "id": "e2f792f1-1e0c-4c33-bbf6-767427f875ba",
      "name": "Sticky Note7"
    },
    {
      "parameters": {
        "httpMethod": "POST",
        "path": "s/assign_publications",
        "responseMode": "responseNode",
        "options": {}
      },
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2.1,
      "position": [
        48,
        2880
      ],
      "id": "ea4e3521-17cf-4452-84d7-5343d301c54e",
      "name": "Webhook2",
      "webhookId": "f1c6bc81-e009-40d4-a746-41220389f1b8"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "auth_token",
        "key": "=token_news_{{ $json.scheme_name }}",
        "options": {}
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        528,
        2672
      ],
      "id": "5a97daa8-bfd8-4818-aa06-2507e7996db8",
      "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞",
      "credentials": {
        "redis": {
          "id": "3yufaVYIxUGdqEs5",
          "name": "Redis account"
        }
      },
      "notes": "–ó–∞–ø–∏—Å—å –≤ redis —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞ –∫ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–æ–≤–æ—Å—Ç–µ–π. –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Ñ–æ—Ä–º–∞ –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å —ç—Ç–æ—Ç —Ç–æ–∫–µ–Ω. \n–¢–æ–∫–µ–Ω –¥–µ–π—Å—Ç–≤—É–µ—Ç –ø—Ä–∏–º–µ—Ä–Ω–æ 12 —á–∞—Å–æ–≤.\n–£ –∫–∞–∂–¥–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å–≤–æ–π –∫–ª—é—á."
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "6f6353cc-7a5a-4ec4-bbbe-9723f0d013da",
              "leftValue": "={{ $json.auth_token }}",
              "rightValue": "={{ $json.body.auth_token }}",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1024,
        2848
      ],
      "id": "03b8c0c7-dd8e-478e-8b26-621ca54a3963",
      "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–∫–µ–Ω–∞"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "import re\nfrom datetime import datetime, timedelta, timezone\n\n\n# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\ninput = _items[0][\"json\"]\n\n# –ü–æ–ª—É—á–∞–µ–º —Ç—Ä–µ–±—É–µ–º—ã–π —á—Å–æ–≤–æ–π –ø–æ—è—Å\ntime_zone = input[\"app_timezone\"]\n\ninput = input[\"body\"]\ninput.pop(\"auth_token\")  # –£–¥–∞–ª—è–µ–º —Ç–æ–∫–µ–Ω –∏–∑ –æ—Ç–≤–µ—Ç–∞ \n\n# –ü–µ—Ä–µ–±–∏—Ä–∞–µ–º –ø–æ–ª—è —Ñ–æ—Ä–º—ã\n# –°—Ç—Ä–æ–∏–º —Å–ª–æ–≤–∞—Ä—å –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ë–î\nupdate_dict = {}\nfor field, value in input.items():\n  # –ü–æ–ª—É—á–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ø–µ—Ä–≤—ã—Ö –∏ –≤—Ç–æ—Ä—ã—Ö —Å–∫–æ–±–æ–∫. –ü—Ä–∏–º–µ—Ä: articles[285][text]\n  # {id: {name_field: volume}}\n  pattern = r\"articles\\[(\\d+)\\]\\[(\\w+)\\]\"\n  match = re.match(pattern, field)\n  if match:\n      id = match.group(1)\n      param = match.group(2)\n  else:\n    continue\n\n  # –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è –∏ –∑–Ω–∞—á–µ–Ω–∏—è –æ–±–Ω–æ–≤–ª—è–µ–º–æ–≥–æ –ø–æ–ª—è –¥–ª—è –ë–î\n  if param == \"text\":\n    # –ü–æ–ª–µ —Ç–µ–∫—Å—Ç–∞ –ø—Ä–æ–ø—É—Å–∫–∞–µ–º, –µ—Å–ª–∏ –æ–Ω–æ –ø—É—Å—Ç–æ–µ\n    if not value:\n      continue\n    param = \"news_summary_text\"\n    \n  if param == \"digest\":\n    # –ü—Ä–∏—Å—É—Ç—Å—Ç–≤—É–µ—Ç, –∑–Ω–∞—á–∏—Ç –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ –¥–∞–π–¥–∂–µ—Å—Ç, –Ω—É–∂–Ω–æ –∑–∞–ø–∏—Å–∞—Ç—å –¥–∞—Ç—É\n    value = datetime.now().strftime(\"%Y-%m-%d %H:%M\")\n    param = \"news_summary_date_digest\"\n    \n  if param == \"time\":\n    # –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º –≤ —Å—Ç—Ä–æ–∫—É –¥–ª—è Postgres –∏ –ø—Ä–∏–≤–æ–¥–∏–º –∫ —á–∞—Å–æ–≤–æ–º—É –ø–æ—è—Å—É UTC\n    if not value:\n      continue\n      \n    value = value.replace(\"T\", \" \")  # ‚Üí \"2025-12-11 22:32\"\n    # –ø–∞—Ä—Å–∏–º –±–µ–∑ —Ç–∞–π–º–∑–æ–Ω—ã\n    local_dt = datetime.strptime(value, \"%Y-%m-%d %H:%M\")\n    # –¥–æ–±–∞–≤–ª—è–µ–º –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ç–æ–º, —á—Ç–æ —ç—Ç–æ –≤—Ä–µ–º—è –≤ +3\n    local_dt = local_dt.replace(tzinfo=timezone(timedelta(hours=time_zone)))\n    # –ø–µ—Ä–µ–≤–æ–¥–∏–º –≤ UTC\n    value = local_dt.astimezone(timezone.utc).strftime(\"%Y-%m-%d %H:%M\")\n    \n    param = \"news_summary_date_published\"\n    \n  if param == \"delete\":\n    param = \"news_summary_disable\"\n    \n  # –µ—Å–ª–∏ id –µ—â—ë –Ω–µ—Ç –≤ —Å–ª–æ–≤–∞—Ä–µ ‚Äî —Å–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —Å–ª–æ–≤–∞—Ä—å\n  if id not in update_dict:\n      update_dict[id] = {}\n  # –¥–æ–±–∞–≤–ª—è–µ–º –ø–∞—Ä—É name: volume\n  update_dict[id][param] = value\n\n# –ü–µ—Ä–µ–≤–æ–¥–∏–º –≤ –Ω—É–∂–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç\nupdate_list = []\nfor id, fields in update_dict.items():\n  fields[\"news_summary_id\"] = id\n  update_list.append({\"json\": fields})\n  \nreturn update_list\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1248,
        2848
      ],
      "id": "adb65a2c-bb85-4ae2-97d4-866d0da670c3",
      "name": "–ü–∞—Ä—Å–∏–Ω–≥ –æ—Ç–≤–µ—Ç–∞ —Ñ–æ—Ä–º—ã",
      "notesInFlow": true,
      "notes": "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∏ –∏–º—è –µ–≥–æ —Å—Ö–µ–º—ã –≤ –ë–î –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –≤–æ—Ä–∫—Ñ–ª–æ—É. –ï—Å–ª–∏ –Ω–µ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—Å—è (–≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –Ω–µ—Ç _) –≤—ã–≤–µ–¥–µ—Ç –æ—à–∏–±–∫—É. \n–†–∞–∑–±–∏—Ä–∞–µ—Ç –ø–æ–ª—è —Å—Ç–∞—Ç–µ–π –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–µ –∏–∑ —Ñ–æ—Ä–º—ã, –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–∫–∏–µ –¥–æ–ª–∂–Ω—ã –º–µ–Ω—è—Ç—å—Å—è, —Å–æ–∑–¥–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ) –∏ –≥–æ—Ç–æ–≤–∏—Ç –º–∞—Å—Å–∏–≤ –ø–æ–ª–µ–π –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–ª—è –∫–∞–∂–¥–æ–π —Å—Ç–∞—Ç—å–∏."
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4').item.json.scheme_name }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "news_summary",
          "mode": "list",
          "cachedResultName": "news_summary"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {
            "news_summary_disable": false
          },
          "matchingColumns": [
            "news_summary_id"
          ],
          "schema": [
            {
              "id": "news_summary_id",
              "displayName": "news_summary_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "news_summary_link",
              "displayName": "news_summary_link",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_text",
              "displayName": "news_summary_text",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_title",
              "displayName": "news_summary_title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_content",
              "displayName": "news_summary_content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_image",
              "displayName": "news_summary_image",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_date_digest",
              "displayName": "news_summary_date_digest",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_date_published",
              "displayName": "news_summary_date_published",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_created_at",
              "displayName": "news_summary_created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            },
            {
              "id": "news_summary_disable",
              "displayName": "news_summary_disable",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1456,
        2848
      ],
      "id": "7383b81d-8ee7-4ad2-aa31-8a3f63a5365d",
      "name": "Update rows in a table",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      }
    },
    {
      "parameters": {
        "content": "## –û–±—â–∞—è —Å—Ö–µ–º–∞ —Ä–∞–±–æ—Ç—ã\n1. –í–µ—Ç–∫–∞ –ß—Ç–µ–Ω–∏–µ RSS –ª–µ–Ω—Ç –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é —Ä–∞–∑ –≤ 2 —á–∞—Å–∞ –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç —Å–ø–∏—Å–æ–∫ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ –ù–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (news_summary). RSS –ª–µ–Ω—Ç—ã –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤–Ω–æ—Å—è—Ç—Å—è –≤ —Ä—É—á–Ω—É—é –≤ —Ç–∞–±–ª–∏—Ü—É RSS –ª–µ–Ω—Ç—ã (news_rss_channels).\n2. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –ª—é–±–æ–µ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –ø–æ —Å—Å—ã–ª–∫–µ –ø–æ–¥–æ–±–Ω–æ–π `https://n8n.avdivo.ru/webhook/avdivo/news_authorize`, –≥–¥–µ avdivo - —ç—Ç–æ –ª–æ–≥–∏–Ω –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏ –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –ø–æ –∞–¥—Ä–µ—Å—É `https://n8n.avdivo.ru/webhook/avdivo/get_list` –≤ –≤–µ—Ç–∫—É –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è, –≥–¥–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –∏ –¥–∞–π–¥–∂–µ—Å—Ç–∞. \n3. –ü—É–Ω–∫—Ç 2 –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–Ω–æ—Å—Ç—å—é –∏–ª–∏ —á–∞—Å—Ç–∏—á–Ω–æ –∑–∞–º–µ–Ω–µ–Ω –∞–≥–µ–Ω—Ç–æ–º, –∫–æ—Ç–æ—Ä—ã–π —Å–¥–µ–ª–∞–µ—Ç —ç—Ç–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏. \n4. –ü–æ—Å–ª–µ –≤–Ω–µ—Å–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –¥–∞–Ω–Ω—ã–µ –≤ —Ç–∞–±–ª–∏—Ü–µ –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è –≤–µ—Ç–∫–æ–π –ü—Ä–∞–≤–∫–∞ —Å—Ç–∞—Ç–µ–π `https://n8n.avdivo.ru/webhook/avdivo/assign_publications`. \n5. –ó–∞—Ç–µ–º –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –≤–µ—Ç–∫–∞ –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π. –û–Ω–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–º —Ä–µ–∂–∏–º–µ, —Å–æ–±–∏—Ä–∞—è –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ –∏ –ø–æ–¥–≥–æ—Ç–∞–≤–ª–∏–≤–∞—è –ø–æ –æ–¥–Ω–æ–π –¥–ª—è –∫–∞–∂–¥–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –ü–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –≤–Ω–æ—Å—è—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü—É —Å –ø–ª–∞–Ω–æ–º –ø—É–±–ª–∏–∫–∞—Ü–∏–π publication –∏ –ø–æ–º–µ—á–∞—é—Ç—Å—è –ø–æ—Å–ª–µ —ç—Ç–æ–≥–æ –≤ —Ç–∞–±–ª–∏—Ü–µ news_summary.\n6. –†–∞–∑ –≤ 15 –º–∏–Ω—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–æ–≤–æ—Å—Ç–µ–π –≤–µ—Ç–∫–æ–π –ü—É–±–ª–∏–∫–∞—Ü–∏—è. –°—Ç–∞—Ç—å–∏, —á—å–µ –≤—Ä–µ–º—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø—Ä–æ—à–ª–æ –∏–ª–∏ –Ω–∞—Å—Ç—É–ø–∏–ª–æ, –Ω–æ –æ–Ω–∏ –µ—â–µ –Ω–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω—ã (—á—Ç–æ –≤—ã—è—Å–Ω—è–µ—Ç—Å—è –ø–æ —Ç–∞–±–ª–∏—Ü–µ publication) –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –¢–ì, –ø–æ—Å–ª–µ —á–µ–≥–æ –æ—Ç–º–µ—á–∞—é—Ç—Å—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–º–∏ –∏ –±–æ–ª–µ–µ –Ω–µ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—é—Ç—Å—è.\n",
        "height": 688,
        "width": 448,
        "color": 4
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -1232,
        1184
      ],
      "typeVersion": 1,
      "id": "ff37a1f7-fc75-412e-bdd0-ee8481f3d7b2",
      "name": "Sticky Note9"
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "value": "={{ $json.scheme_name }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "news_summary",
          "mode": "list",
          "cachedResultName": "news_summary"
        },
        "returnAll": true,
        "where": {
          "values": [
            {
              "column": "news_summary_date_digest",
              "condition": "IS NOT NULL"
            },
            {
              "column": "news_summary_digest",
              "value": "FALSE"
            },
            {
              "column": "news_summary_disable",
              "value": "FALSE"
            }
          ]
        },
        "sort": {
          "values": [
            {
              "column": "news_summary_created_at",
              "direction": "DESC"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        992,
        3184
      ],
      "id": "85c0bff9-bd27-4c71-8f7b-7d2099ea3c0e",
      "name": "–ù–æ–≤–æ—Å—Ç–∏ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "notes": "–í—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ (–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π), –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –¥–∞–π–¥–∂–µ—Å—Ç, –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏ –∏–º–µ—é—Ç –¥–∞—Ç—É –≤ –ø–æ–ª–µ –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –≠—Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ."
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "import random\n\n\n# –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –∏ —Ç–µ–∫—Å—Ç–æ–≤)\ndef sql_escape(value: str) -> str:\n    return value.replace(\"'\", \"''\").replace(\"\\\\\", \"\\\\\\\\\")\n  \nif not len(_items):\n  raise Exception(\"–ù–µ—Ç –Ω–æ–≤–æ—Å—Ç–µ–π –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞.\")\n  \nmarkers = [\"üì∞\",\"‚ö°\",\"üö®\",\"‚≠ê\",\"üìå\",\"üîî\",\"üî•\",\"üöÄ\",\"üéØ\",\"üåç\",\"üí°\",\"üõ°Ô∏è\",\"ü§ñ\",\"üß™\",\"üé≠\",\"üèÜ\",\"üì£\",\"üåÄ\",\"üí•\",\"‚úÖ\",\"‚ùó\",\"üîé\",\"üìÖ\",\"‚úàÔ∏è\",\"üí¨\",\"üìä\",\"üß≠\"]\n\nmarker = random.choice(markers)\n\ntitle = \"–ù–æ–≤–æ—Å—Ç–∏ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π\"\ndigest = \"\"\nids = []  # –∑–∞–ø–∏—Å–∏, –∫–æ—Ç–æ—Ä—ã–µ –Ω—É–∂–Ω–æ –ø–æ–º—Ç–∏—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–º–∏\nfor item in _items:\n  fields = item[\"json\"]\n  text = sql_escape(fields['news_summary_text']) # –≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ\n  digest += f\"{marker} {text}\\n\\n\"\n  ids.append(fields['news_summary_id'])\n  \nreturn [{\"json\": {\"publication_title\": title, \"publication_text\": digest, \"publication_date\": _items[0][\"json\"][\"news_summary_date_digest\"], \"ids_complite\": ids}}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1200,
        3184
      ],
      "id": "4e6addc1-cfb2-4bac-9ae4-9a6eaab262ff",
      "name": "–°–æ–∑–¥–∞–Ω–∏–µ –¥–∞–π–¥–∂–µ—Å—Ç–∞",
      "onError": "continueErrorOutput",
      "notes": "–§–æ—Ä–º–∏—Ä—É–µ—Ç —Å—Ç–∞—Ç—å—é —Å –ø–æ–¥–±–æ—Ä–∫–æ–π –∫–æ—Ä–æ—Ç–∫–∏—Ö –Ω–æ–≤–æ—Å—Ç–µ–π —Å —Ä–∞–∑–Ω—ã–º–∏ –º–∞—Ä–∫–µ—Ä–∞–º–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ HTML. –î–ª—è –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –±–µ—Ä–µ–º –¥–∞—Ç—É –ª—é–±–æ–π –Ω–æ–≤–æ—Å—Ç–∏ –∏–∑ –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã—Ö. –ï—â–µ –ø–µ—Ä–µ–¥–∞–µ–º id –≤–∫–ª—é—á–µ–Ω–Ω—ã—Ö –≤ –¥–∞–π–¥–∂–µ—Å—Ç –Ω–æ–≤–æ—Å—Ç–µ–π. –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã –≤ —Ç–µ–∫—Å—Ç–∞—Ö."
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "BEGIN;\n\nINSERT INTO {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.publication \n  (publication_title, publication_text, publication_date)\nVALUES \n  (\n    '{{ $json.publication_title }}',\n    '{{ $json.publication_text }}',\n    '{{ $json.publication_date }}'\n  );\n\nUPDATE {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.news_summary\nSET news_summary_digest = TRUE\nWHERE news_summary_id IN ({{ $json.ids_complite.join(\",\") }});\n\nCOMMIT;\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1408,
        3184
      ],
      "id": "2077db4f-adfa-4e26-8e80-a7e1d4c62f48",
      "name": "–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      }
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        80,
        4352
      ],
      "id": "2106449f-ccce-4c36-8f49-cd6a59c94290",
      "name": "–ü–µ—Ä–µ–±–æ—Ä —Å—Ç–∞—Ç–µ–π –ø–æ –æ–¥–Ω–æ–π1"
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "value": "={{ $json.scheme_name }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "news_summary",
          "mode": "list",
          "cachedResultName": "news_summary"
        },
        "returnAll": true,
        "where": {
          "values": [
            {
              "column": "news_summary_date_published",
              "condition": "IS NOT NULL"
            },
            {
              "column": "news_summary_published",
              "value": "FALSE"
            },
            {
              "column": "news_summary_disable",
              "value": "FALSE"
            }
          ]
        },
        "sort": {
          "values": [
            {
              "column": "news_summary_created_at",
              "direction": "DESC"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        992,
        3376
      ],
      "id": "19796eb4-878d-4b55-8453-eac477179bf2",
      "name": "–í—ã–±–æ—Ä —Å—Ç–∞—Ç–µ–π –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "notes": "–í—ã–±–∏—Ä–∞–µ—Ç –Ω–æ–≤–æ—Å—Ç–∏ (–æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π), –∫–æ—Ç–æ—Ä—ã–µ –µ—â–µ –Ω–µ –±—ã–ª–∏ –≤–∫–ª—é—á–µ–Ω—ã –≤ –¥–∞–π–¥–∂–µ—Å—Ç, –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –∏ –∏–º–µ—é—Ç –¥–∞—Ç—É –≤ –ø–æ–ª–µ –¥–∞—Ç—ã –ø—É–±–ª–∏–∫–∞—Ü–∏–∏. –≠—Ç–æ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–µ–≥–æ–¥–Ω—è—à–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ –∏–ª–∏ –ø—Ä–æ–ø—É—â–µ–Ω–Ω—ã–µ –±–æ–ª–µ–µ —Å—Ç–∞—Ä—ã–µ."
    },
    {
      "parameters": {
        "url": "={{ $json.news_summary_link }}",
        "options": {}
      },
      "id": "6d250dd4-f943-40d7-a70d-45bda140eac1",
      "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1200,
        3376
      ],
      "typeVersion": 4.2,
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "title",
              "cssSelector": "={{ $json.news_summary_title }}"
            }
          ]
        },
        "options": {}
      },
      "id": "a6a1ff0e-08e4-4f5b-a7c4-797fcc7c906d",
      "name": "–ù–∞–∑–≤–∞–Ω–∏–µ —Å—Ç–∞—Ç—å–∏",
      "type": "n8n-nodes-base.html",
      "position": [
        256,
        3792
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "BEGIN;\n\n-- 1. –°–æ–∑–¥–∞–µ–º —Å—Ö–µ–º—É, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE SCHEMA IF NOT EXISTS {{ $json.scheme_name }};\n\n-- 2. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É —Å–ø–∏—Å–∫–∞ rss –∫–∞–Ω–∞–ª–æ–≤ —Å—Ö–µ–º–µ, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE TABLE IF NOT EXISTS {{ $json.scheme_name }}.news_rss_channels (\n    news_rss_id SERIAL PRIMARY KEY,                                -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n    news_rss_url TEXT NOT NULL UNIQUE,                             -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –ª–µ–Ω—Ç—É\n    news_rss_short VARCHAR(100) NOT NULL DEFAULT 'contentSnippet', -- –ø–æ–ª–µ –∏–∑ RSS Read –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞\n    news_rss_title VARCHAR(255),                                   -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –Ω–∞–∑–≤–∞–Ω–∏—è\n    news_rss_content VARCHAR(255),                                 -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è —Å—Ç–∞—Ç—å–∏\n    news_rss_image VARCHAR(255),                                   -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n    news_rss_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,       -- –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è/–∏–∑–º–µ–Ω–µ–Ω–∏—è\n    news_rss_disable BOOLEAN NOT NULL DEFAULT FALSE                -- True = –Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å\n);\n\n-- 3. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ —Å—Ö–µ–º–µ, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE TABLE IF NOT EXISTS {{ $json.scheme_name }}.news_summary (\n    news_summary_id SERIAL PRIMARY KEY,                            -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä\n    news_summary_link TEXT NOT NULL UNIQUE,                        -- —Å—Å—ã–ª–∫–∞ –Ω–∞ —Å–∞–º—É –Ω–æ–≤–æ—Å—Ç—å\n    news_summary_text VARCHAR(500) NOT NULL,                       -- –Ω–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (–∞–Ω–æ–Ω—Å)\n    news_summary_title VARCHAR(255),                               -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –Ω–∞–∑–≤–∞–Ω–∏—è\n    news_summary_content VARCHAR(255),                             -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ —Å—Ç–∞—Ç—å–∏\n    news_summary_image VARCHAR(255),                               -- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –¥–ª—è –ø–æ–∏—Å–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è\n    news_summary_date_digest TIMESTAMP,                            -- –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –≤ –¥–∞–π–¥–∂–µ—Å—Ç–µ\n    news_summary_digest BOOLEAN DEFAULT FALSE,                     -- –¥–æ–±–∞–≤–ª–µ–Ω–æ –≤ —Å—Ç–∞—Ç—å—é –¥–∞–π–¥–∂–µ—Å—Ç–∞\n    news_summary_date_published TIMESTAMP,                         -- –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏\n    news_summary_published BOOLEAN DEFAULT FALSE,                  -- —Å–æ–∑–¥–∞–Ω–∞ —Å—Ç–∞—Ç—å—è\n    news_summary_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,   -- –¥–∞—Ç–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç—å–∏\n    news_summary_disable BOOLEAN DEFAULT FALSE                     -- –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n);\n\n-- 4. –°–æ–∑–¥–∞–µ–º —Ç–∞–±–ª–∏—Ü—É –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç–µ–π, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç\nCREATE TABLE IF NOT EXISTS {{ $json.scheme_name }}.publication (\n    publication_id SERIAL PRIMARY KEY,                             -- –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_title TEXT,                                        -- –Ω–∞–∑–≤–∞–Ω–∏–µ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_text TEXT,                                         -- —Ç–µ–∫—Å—Ç –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_image TEXT,                                        -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ\n    publication_date TIMESTAMP NOT NULL,                           -- –¥–∞—Ç–∞ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ (–Ω–µ –ø—É—Å—Ç–æ–µ)\n    publication_original TEXT,                                     -- —Å—Å—ã–ª–∫–∞ –Ω–∞ –æ—Ä–∏–≥–∏–Ω–∞–ª –Ω–æ–≤–æ—Å—Ç–∏\n    publication_date_complete TIMESTAMP,                           -- —Ä–µ–∞–ª—å–Ω–∞—è –¥–∞—Ç–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n    publication_created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP     -- –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏\n);\n\nCOMMIT;\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        512,
        112
      ],
      "id": "36784ad6-85cb-4a30-b1e1-27861def224e",
      "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ë–î",
      "retryOnFail": true,
      "executeOnce": false,
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "notes": "–°–æ–∑–¥–∞–µ—Ç —Å—Ö–µ–º—É –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è, –µ—Å–ª–∏ –µ–µ –Ω–µ—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç —Ç–∞–±–ª–∏—Ü—ã –≤ –ë–î –¥–ª—è —Ä–∞–±–æ—Ç—ã —Ñ–æ—Ä–∫—Ñ–ª–æ—É."
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "seconds",
              "secondsInterval": 5
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        64,
        112
      ],
      "id": "7936a016-d283-4810-8564-19467ab7972d",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "content": "## –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö\n–ó–∞–ø—É—Å—Ç–∏—Ç—Å—è —á–µ—Ä–µ–∑ 5 —Å–µ–∫—É–Ω–¥ –ø–æ—Å–ª–µ —Å—Ç–∞—Ä—Ç–∞, —á—Ç–æ–±—ã —Å–æ–∑–¥–∞—Ç—å –°—Ö–µ–º—É –∏ –¢–∞–±–ª–∏—Ü—ã –≤ –ë–î",
        "height": 320,
        "width": 736
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        0,
        0
      ],
      "typeVersion": 1,
      "id": "a20b3093-abd7-4b32-b80c-27131a22fe31",
      "name": "Sticky Note1"
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.manualTrigger",
      "typeVersion": 1,
      "position": [
        -1232,
        4016
      ],
      "id": "cf378e9d-01c2-447c-a254-ac664f5cd1da",
      "name": "When clicking ‚ÄòExecute workflow‚Äô"
    },
    {
      "parameters": {
        "options": {}
      },
      "type": "n8n-nodes-base.splitInBatches",
      "typeVersion": 3,
      "position": [
        704,
        688
      ],
      "id": "96542945-4b6a-4861-a77e-c672eb98d348",
      "name": "–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã"
    },
    {
      "parameters": {
        "url": "={{ $json.news_rss_url }}",
        "options": {}
      },
      "type": "n8n-nodes-base.rssFeedRead",
      "typeVersion": 1.2,
      "position": [
        96,
        976
      ],
      "id": "f56d9dc4-ef60-4e95-899a-36556366809d",
      "name": "–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã",
      "retryOnFail": true
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=–ü–µ—Ä–µ–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç.\n–í–µ—Ä–Ω–∏ –Ω–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π:\n- –ü–µ—Ä–µ–≤–µ–¥–∏ –Ω–∞ –†–£–°–°–ö–ò–ô —è–∑—ã–∫!\n- –ë–µ–∑ –∞–±–∑–∞—Ü–µ–≤.\n- –ë–µ–∑ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–π, –ø–æ—è—Å–Ω–µ–Ω–∏–π, —Ç–æ–ª—å–∫–æ –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞.\n–ù–µ –ø—Ä–∏–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ.\n\n–¢–µ–∫—Å—Ç:\n {{ $json.output }}",
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1296,
        688
      ],
      "id": "14dd954f-ffd1-433c-88dd-afe2d8b70652",
      "name": "Basic LLM Chain1",
      "retryOnFail": false,
      "onError": "continueErrorOutput",
      "notes": "–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç–∞—Ç—å–∏"
    },
    {
      "parameters": {
        "content": "https://www.technologyreview.com/feed/\nhttps://www.wired.com/feed/tag/ai/latest/rss\nhttps://www.artificialintelligence-news.com/feed/rss/\nhttps://www.theguardian.com/technology/artificialintelligenceai/rss\nhttps://futurism.com/categories/ai-artificial-intelligence/feed - –æ—Ç–ª–∏—á–Ω–æ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
        "height": 192,
        "width": 528
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1584,
        272
      ],
      "typeVersion": 1,
      "id": "4ea7a62a-32e4-4996-bf27-8a0a7eb12586",
      "name": "Sticky Note2"
    },
    {
      "parameters": {
        "operation": "select",
        "schema": {
          "__rl": true,
          "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1').first().json.scheme_name }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "news_rss_channels",
          "mode": "list",
          "cachedResultName": "news_rss_channels"
        },
        "returnAll": true,
        "where": {
          "values": [
            {
              "column": "news_rss_disable",
              "value": "False"
            }
          ]
        },
        "sort": {
          "values": [
            {
              "column": "news_rss_id"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        480,
        688
      ],
      "id": "ca969bc6-5c2a-4491-ab7c-54ca7dad8e8a",
      "name": "RSS –∏ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "notes": "–ò–∑–≤–ª–µ–∫–∞–µ—Ç –∏–∑ –ë–î:\n- —Å—Å—ã–ª–∫—É –Ω–∞ RSS –ª–µ–Ω—Ç—ã\n- –∏–∑ –∫–∞–∫–æ–≥–æ –ø–æ–ª—è –ª–µ–Ω—Ç—ã —á–∏—Ç–∞—Ç—å –∞–Ω–æ–Ω—Å –Ω–æ–≤–æ—Å—Ç–∏\n- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç—å–∏\n- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –Ω–∞–∑–≤–∞–Ω–∏—è\n- CSS —Å–µ–ª–µ–∫—Ç–æ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "9a55c0d3-045a-4a67-ba39-529fdc9354ca",
              "name": "link",
              "value": "={{ $json.link }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1488,
        960
      ],
      "id": "0a4e9527-7b76-4c9d-aac3-50c9e1eeaafa",
      "name": "link",
      "notes": "–ü–µ—Ä–µ–¥–∞–µ–º –æ—Ç–¥–µ–ª—å–Ω–æ —Å—Å—ã–ª–∫—É –Ω–∞ –Ω–æ–≤–æ—Å—Ç—å"
    },
    {
      "parameters": {
        "model": "mistralai/mistral-small-24b-instruct-2501",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        1296,
        864
      ],
      "id": "94beb465-88ce-423f-94d7-a3b9bffe770e",
      "name": "OpenRouter Chat Model",
      "credentials": {
        "openRouterApi": {
          "id": "c5DK3KMrdVXRCOa2",
          "name": "News _avdivo"
        }
      }
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "49955f75-fae7-41ac-a7b9-57760d566e3e",
              "leftValue": "={{ $json.error }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              }
            },
            {
              "id": "d3b2586a-61ea-494b-9ab5-ef227d697b02",
              "leftValue": "={{ $json.output }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "exists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        2080,
        784
      ],
      "id": "49f0135f-8589-4e9b-9cbb-1bc6ca64f9bc",
      "name": "If"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "numberInputs": 3,
        "options": {
          "includeUnpaired": true
        }
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1904,
        768
      ],
      "id": "0d674bff-f1fc-47cb-b932-8bdc06c55eda",
      "name": "–û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ –∏ —Å—Å—ã–ª–∫–∏",
      "notes": "–ü—Ä–∏–Ω–∏–º–∞–µ—Ç —Å—Å—ã–ª–∫—É –Ω–∞ —Å—Ç–∞—Ç—å—é –∏ –æ–ø–∏—Å–∞–Ω–∏–µ –∏–ª–∏ –æ—à–∏–±–∫—É –∏ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç –∏—Ö –≤ –æ–¥–∏–Ω —ç–ª–µ–º–µ–Ω—Ç"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=–î–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è \"{{ $items(\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1\").first().json[\"scheme_name\"] }}\" –µ—Å—Ç—å –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–µ –º–æ–¥–µ–ª—å—é –¥–∞–Ω–Ω—ã–µ –¥–ª—è –≤—ã–±–æ—Ä–∞ –Ω–æ–≤–æ—Å—Ç–µ–π –≤ –ß—Ç–µ–Ω–∏–∏ RSS –ª–µ–Ω—Ç. –ù—É–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É –º–æ–¥–µ–ª–∏.",
        "additionalFields": {
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2288,
        880
      ],
      "id": "b25ef257-f027-4208-a0d5-71036b383c42",
      "name": "–°–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ",
      "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
      "retryOnFail": false,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "schema": {
          "__rl": true,
          "value": "={{ $items(\"–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1\").first().json[\"scheme_name\"] }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "news_summary",
          "mode": "list",
          "cachedResultName": "news_summary"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "news_summary_link": "={{ $json.link }}",
            "news_summary_text": "={{ $json.output }}",
            "news_summary_title": "={{ $('–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã').first().json.news_rss_title }}",
            "news_summary_content": "={{ $('–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã').first().json.news_rss_content }}",
            "news_summary_image": "={{ $('–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã').first().json.news_rss_image }}",
            "news_summary_disable": false
          },
          "matchingColumns": [
            "news_summary_link"
          ],
          "schema": [
            {
              "id": "news_summary_id",
              "displayName": "news_summary_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "news_summary_link",
              "displayName": "news_summary_link",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "news_summary_text",
              "displayName": "news_summary_text",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "news_summary_title",
              "displayName": "news_summary_title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "news_summary_content",
              "displayName": "news_summary_content",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "news_summary_image",
              "displayName": "news_summary_image",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "news_summary_date_digest",
              "displayName": "news_summary_date_digest",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "news_summary_date_published",
              "displayName": "news_summary_date_published",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "news_summary_created_at",
              "displayName": "news_summary_created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "news_summary_disable",
              "displayName": "news_summary_disable",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "boolean",
              "canBeUsedToMatch": true,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {
          "skipOnConflict": true
        }
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        2288,
        688
      ],
      "id": "e6262ce3-e3c9-4393-b052-f78c8b0cc30a",
      "name": "–ó–∞–ø–∏—Å—å –∞–Ω–æ–Ω—Å–æ–≤ –≤ –ë–î",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      }
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "import re\n\n\ndef fix_markdown(string):\n  \"\"\"\n  –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –≤—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã –¥–ª—è Telegram Markdown V2 —Å –ø–æ–º–æ—â—å—é —Ä–µ–≥—É–ª—è—Ä–Ω–æ–≥–æ –≤—ã—Ä–∞–∂–µ–Ω–∏—è.\n  \"\"\"\n  return re.sub(r\"([][*()~`>#+\\-=|{}.!_])\", r\"\\\\\\1\", string)\n\n# –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º —Å–∏–º–≤–æ–ª—ã –¥–ª—è –≤—ã–≤–æ–¥–∞ –≤ –¢–ì, –æ–±—Ä–µ–∑–∞–µ–º –¥–æ 4000 —Å–∏–º–≤–æ–ª–æ–≤\nresults = []  # –°–æ–±–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–µ–π\nfor item in _items:\n  result = \"\"  # –°–æ–±–∏—Ä–∞–µ—Ç –æ–¥–Ω—É —Å—Ç–∞—Ç—å—é\n  # input_text = fix_markdown(item.get(\"json\", {}).get(\"text\", \"\")[0:4000])\n  input_text = item.get(\"json\", {}).get(\"text\", \"\")[0:600].replace(\"\\\\\", \"\")  # –£–¥–∞–ª—è–µ—Ç –æ–±—Ä–∞—Ç–Ω—ã–µ —Å–ª—ç—à–∏ –∏ –æ–±—Ä–µ–∑–∞–µ—Ç.\n  results.append({\"json\": {\"output\": input_text}})\n\nreturn results\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1712,
        688
      ],
      "id": "052452bc-90e3-48fb-bab6-b2f926c6e3d1",
      "name": "–°–æ–∫—Ä–∞—â–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤",
      "notes": "–≠–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ –¥–æ–ø—É—Å—Ç–∏–º—ã—Ö –≤ markdown –¢–ì —Å–∏–º–≤–æ–ª–æ–≤ –æ—Ç–∫–ª—é—á–µ–Ω–æ"
    },
    {
      "parameters": {
        "content": "## –ß—Ç–µ–Ω–∏–µ RSS –ª–µ–Ω—Ç\n–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–∞–±–ª–∏—Ü—ã –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è –ø—É–±–ª–∏–∫–∞—Ü–∏–π (–ù–æ–≤–æ—Å—Ç—å –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π (news_summary))",
        "height": 784,
        "width": 2752
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -16,
        544
      ],
      "typeVersion": 1,
      "id": "cf6e7e3c-1043-43a3-8e3a-c435731edff1",
      "name": "Sticky Note10"
    },
    {
      "parameters": {
        "content": "## –ú–æ–¥–µ–ª–∏\nmistralai/mistral-small-24b-instruct-2501"
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2192,
        272
      ],
      "typeVersion": 1,
      "id": "2007fc70-0be7-430a-a0a5-6c59dabbab82",
      "name": "Sticky Note12"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1392,
        3568
      ],
      "id": "5bc0b778-939f-4bbf-b20e-781d0b8e91cd",
      "name": "–î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –º–∞—Å—Å–∏–≤"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1ac1bfdd-cd55-4598-9ffd-f559b47d1091",
              "leftValue": "={{ $json.error }}",
              "rightValue": "",
              "operator": {
                "type": "object",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1600,
        3568
      ],
      "id": "6c4bcd34-dd17-45ea-971a-2db391c520c6",
      "name": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "publication_image",
              "cssSelector": "={{ $json.news_summary_image }}",
              "returnValue": "attribute",
              "attribute": "src"
            }
          ]
        },
        "options": {}
      },
      "id": "2266c428-fef5-45c3-8763-0cb80c26f524",
      "name": "–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ",
      "type": "n8n-nodes-base.html",
      "position": [
        2032,
        4272
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "6311476f-8395-4a3d-bc21-8ea38f0eceb1",
              "name": "publication_date",
              "value": "={{ $json.news_summary_date_published }}",
              "type": "string"
            },
            {
              "id": "f3828f34-ffa2-4001-8039-597bafaec58e",
              "name": "publication_original",
              "value": "={{ $json.news_summary_link }}",
              "type": "string"
            },
            {
              "id": "ed9de2bc-3f74-43a2-84f7-036d9169c908",
              "name": "news_summary_id",
              "value": "={{ $json.news_summary_id }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2208,
        4368
      ],
      "id": "c607bd26-c218-4265-9ac1-c38159c0f10f",
      "name": "–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ"
    },
    {
      "parameters": {
        "model": "mistralai/mistral-small-24b-instruct-2501",
        "options": {
          "timeout": 60000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        688,
        4064
      ],
      "id": "ebd63b6b-7e91-4166-892c-04478d0bbd68",
      "name": "OpenRouter Chat Model3",
      "credentials": {
        "openRouterApi": {
          "id": "c5DK3KMrdVXRCOa2",
          "name": "News _avdivo"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=–¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä - –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫.\n–ü–µ—Ä–µ–≤–µ–¥–∏ —Ç–µ–∫—Å—Ç –Ω–∞ —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫. \n–ù–µ –ø—Ä–∏–º–µ–Ω—è–π —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ. –í–µ—Ä–Ω–∏ —Ç–æ–ª—å–∫–æ —Å—Ç—Ä–æ–∫—É.\n\n–¢–µ–∫—Å—Ç:\n{{ $json.title }}",
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        688,
        3920
      ],
      "id": "8c3671c1-40a2-4fea-9319-0321660b8e3a",
      "name": "–ü–µ—Ä–µ–≤–æ–¥ –Ω–∞–∑–≤–∞–Ω–∏—è",
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "model": "mistralai/mistral-small-24b-instruct-2501",
        "options": {
          "timeout": 60000
        }
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatOpenRouter",
      "typeVersion": 1,
      "position": [
        1600,
        4176
      ],
      "id": "4a535ee3-e257-4a0d-9efa-cf2d369b45ee",
      "name": "OpenRouter Chat Model4",
      "credentials": {
        "openRouterApi": {
          "id": "c5DK3KMrdVXRCOa2",
          "name": "News _avdivo"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=–¢—ã —Ä–µ–¥–∞–∫—Ç–æ—Ä - –ø–µ—Ä–µ–≤–æ–¥—á–∏–∫. –¢–≤–æ—è —Å—Ç–∞—Ç—å—è —Å—Ä–∞–∑—É –∏–¥–µ—Ç –≤ –ø–µ—á–∞—Ç—å.\n- –í—ã–ø–æ–ª–Ω–∏ –ø–µ—Ä–µ–≤–æ–¥ –Ω–∞ —Ä—É—Å—Å–∫–∏–π.\n- –°–æ–∫—Ä–∞—Ç–∏  –∏ –ø–µ—Ä–µ—Ñ—Ä–∞–∑–∏—Ä—É–π —Ç–µ–∫—Å—Ç, –æ—Å—Ç–∞–≤—å —Ç–æ–ª—å–∫–æ —Å—É—Ç—å\n- –°–¥–µ–ª–∞–π —Ç–µ–∫—Å—Ç –ø–æ–Ω—è—Ç–Ω—ã–º, —á–∏—Ç–∞–µ–º—ã–º –∏ –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–º –¥–ª—è –æ–±—ã–≤–∞—Ç–µ–ª—è\n- –î–ª–∏–Ω–∞ —Å—Ç–∞—Ç—å–∏ –Ω–µ –±–æ–ª–µ–µ {{ $json.text_len }} —Å–∏–º–≤–æ–ª–æ–≤.\n- –î–æ–±–∞–≤—å —Å–º–∞–π–ª–∏–∫–∏.\n- –£–¥–∞–ª–∏ —Ä–µ–∫–ª–∞–º–Ω—ã–µ –≤—Å—Ç–∞–≤–∫–∏ –∏ –¥—Ä—É–≥–∏–µ —Ç–µ–∫—Å—Ç—ã –∏ —Å–∏–º–≤–æ–ª—ã –Ω–µ –æ—Ç–Ω–æ—Å—è—â–∏–µ—Å—è –∫ —Å—Ç–∞—Ç—å–µ.\n- –ù–µ –ø—Ä–∏–º–µ–Ω—è–π MD —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (–Ω–µ –Ω—É–∂–Ω–æ *) - —á–∏—Å—Ç—ã–π —Ç–µ–∫—Å—Ç —Å –∞–±–∑–∞—Ü–∞–º–∏.\n- –î–æ–±–∞–≤—å –≤ –∫–æ–Ω—Ü–µ —Ç–µ–∫—Å—Ç–∞ 2 –Ω–∞–∏–±–æ–ª–µ–µ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—ã—Ö —Ö—ç—à—Ç—ç–≥–∞ –æ—Ç—Å—Ç—É–ø–∏–≤ –æ—Ç –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ \\n\\n\n–¢–µ–∫—Å—Ç:\n{{ $('–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏').first().json.text }}",
        "batching": {}
      },
      "type": "@n8n/n8n-nodes-langchain.chainLlm",
      "typeVersion": 1.7,
      "position": [
        1536,
        4032
      ],
      "id": "e6c3dd31-12c9-42a3-8a9d-411933ebc129",
      "name": "–ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞",
      "retryOnFail": true,
      "maxTries": 3,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "text",
              "cssSelector": "={{ $json.news_summary_content }}"
            }
          ]
        },
        "options": {}
      },
      "id": "19305a37-8784-4f14-b6a0-9e15bff18acf",
      "name": "–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏",
      "type": "n8n-nodes-base.html",
      "position": [
        608,
        4208
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        1392,
        4032
      ],
      "id": "b7a6927b-23b3-443b-bbb8-5de2ca3b7d14",
      "name": "pass"
    },
    {
      "parameters": {
        "content": "## –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞\n–õ–∏–º–∏—Ç –Ω–∞ —Ä–∞–∑–º–µ—Ä —Å—Ç–∞—Ç—å–∏ –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –∑–∞–¥–∞–µ—Ç—Å—è –Ω–æ–¥–∞–º–∏: –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞, –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏.  –ú–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω–æ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è –∏–∑ –ë–î.\n–ü–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç—Å—è —Å —É–¥–≤–æ–µ–Ω–Ω—ã–º –∏–∑–Ω–∞—á–∞–ª—å–Ω—ã–º –ª–∏–º–∏—Ç–æ–º, –º–∏–Ω—É—Å –¥–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (–ª–∏–º–∏—Ç –∑–∞–¥–∞–µ—Ç—Å—è –≤ –∫–æ–ª–∏—á–µ—Å—Ç–≤–µ —Å–∏–º–≤–æ–ª–æ–≤ –¥–ª—è –º–æ–¥–µ–ª–∏, –Ω–æ –ø–æ—Å–∫–æ–ª—å–∫—É –æ–Ω–∞ –Ω–µ –º–æ–∂–µ—Ç —á–µ—Ç–∫–æ –µ–≥–æ —Å–æ–±–ª—é–¥–∞—Ç—å, –æ–Ω –∑–∞–¥–∞–µ—Ç—Å—è –∏–∑–Ω–∞—á–∞–ª—å–Ω–æ –º–µ–Ω—å—à–µ –≤ 2.5 —Ä–∞–∑–∞, –≤–æ–∑–º–æ–∂–Ω–æ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π —ç—Ç–æ—Ç –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å –Ω—É–∂–Ω–æ –º–µ–Ω—è—Ç—å). \n–ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –æ–∫–∞–∂–µ—Ç—Å—è –±–æ–ª—å—à–µ, –ª–∏–º–∏—Ç (—É–∫–∞–∑—ã–≤–∞–µ–º—ã–π –º–æ–¥–µ–ª–∏) —É–º–µ–Ω—å—à–∞–µ—Ç—Å—è –ø—Ä–∏ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –Ω–∞ 100 —Å–∏–º–≤–æ–ª–æ–≤. –¢–∞–∫–∏–º –æ–±—Ä–∞–∑–æ–º –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç—Å—è –∑–∞—Ü–∏–∫–ª–∏–≤–∞–Ω–∏–µ.",
        "height": 240,
        "width": 592
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        2864,
        4064
      ],
      "typeVersion": 1,
      "id": "2b203353-652c-43f9-89b8-20ea2b0832c2",
      "name": "Sticky Note11"
    },
    {
      "parameters": {
        "operation": "get",
        "propertyName": "text_len",
        "key": "=token_news_text_limit_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}",
        "options": {}
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        928,
        4208
      ],
      "id": "445a3234-2f63-44a3-9110-765e99ecad16",
      "name": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
      "credentials": {
        "redis": {
          "id": "3yufaVYIxUGdqEs5",
          "name": "Redis account"
        }
      }
    },
    {
      "parameters": {
        "operation": "set",
        "key": "=token_news_text_limit_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}",
        "value": "=400",
        "expire": true,
        "ttl": 43200
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        768,
        4208
      ],
      "id": "e92825d8-1dae-4e8f-8a85-6f3c682648cc",
      "name": "–£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
      "credentials": {
        "redis": {
          "id": "3yufaVYIxUGdqEs5",
          "name": "Redis account"
        }
      },
      "notes": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM"
    },
    {
      "parameters": {
        "operation": "set",
        "key": "=token_news_text_limit_{{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}",
        "value": "=",
        "expire": true,
        "ttl": 43200
      },
      "type": "n8n-nodes-base.redis",
      "typeVersion": 1,
      "position": [
        2176,
        4032
      ],
      "id": "e1beb9c4-ba29-4a45-ac3c-75d001360291",
      "name": "–û–±–Ω–æ–≤–ª—è–µ–º –ª–∏–º–∏—Ç —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏",
      "credentials": {
        "redis": {
          "id": "3yufaVYIxUGdqEs5",
          "name": "Redis account"
        }
      },
      "notes": "–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–ª–∏–Ω—ã —Ç–µ–∫—Å—Ç–∞ –¥–ª—è LLM"
    },
    {
      "parameters": {
        "rules": {
          "values": [
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "error",
                    "operator": {
                      "type": "string",
                      "operation": "equals"
                    },
                    "id": "6ae0c751-d478-48eb-bb15-5b139466a3a2"
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "b960a723-44dc-4b75-9063-5428046fcc0b",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "ok",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            },
            {
              "conditions": {
                "options": {
                  "caseSensitive": true,
                  "leftValue": "",
                  "typeValidation": "strict",
                  "version": 2
                },
                "conditions": [
                  {
                    "id": "e2dff7a3-3094-4ade-b11e-dd44614b4ec3",
                    "leftValue": "={{ $json.status }}",
                    "rightValue": "repeat",
                    "operator": {
                      "type": "string",
                      "operation": "equals",
                      "name": "filter.operator.equals"
                    }
                  }
                ],
                "combinator": "and"
              }
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.switch",
      "typeVersion": 3.3,
      "position": [
        2352,
        3936
      ],
      "id": "a2acfb29-9a6b-4ba2-ae1d-4089c6e5226d",
      "name": "–†–æ—É—Ç–µ—Ä"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "numberInputs": 4,
        "options": {
          "includeUnpaired": true
        }
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        3024,
        3792
      ],
      "id": "42b6b9b8-16d2-4fde-88a8-71a5432e3ff8",
      "name": "–°–±–æ—Ä–∫–∞ —Å—Ç–∞—Ç—å–∏"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "# –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞)\ndef sql_escape(value: str) -> str:\n    return value.replace(\"'\", \"''\").replace(\"\\\\\", \"\\\\\\\\\")\n\n\n# –ü–æ–ª—É—á–∞–µ–º –≤—Å–µ –¥–∞–Ω–Ω—ã–µ\ninput = _items[0][\"json\"]\n\ntext_len = 0\n# –î–ª–∏–Ω–∞ –∑–∞–≥–æ–ª–æ–≤–∫–∞ (—Å –∑–∞–ø–∞—Å–æ–º –Ω–∞ —Ç—ç–≥–∏ –∏ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã)\ntitle_len = len(input.get(\"title\", \"\")) + 20\n# –ü–æ–ª—É—á–∞–µ–º –∏—Å—Ö–æ–¥–Ω—ã–π–ª–∏–º–∏—Ç –Ω–∞ –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞\ntext_limit = int(input[\"text_len\"] * 2.5) - title_len\n# –ü–æ–ª—É—á–∞–µ–º —Ç–µ–∫—É—â–∏–π –ª–∏–º–∏—Ç\ntext_limit_now = input[\"text_limit_now\"]\n\n# –ï—Å–ª–∏ –Ω–µ –≤–µ—Ä–Ω—É–ª –æ—à–∏–±–∫—É —É–∑–Ω–∞–µ–º –¥–ª–∏–Ω—É –æ—Ç–≤–µ—Ç–∞\nif not input[\"error\"]:\n  text = input.get(\"text\", \"\")\n  # –≠–∫—Ä–∞–Ω–∏—Ä—É–µ–º –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã\n  text = sql_escape(text)\n  text_len = len(text)\n\n# –ï—Å–ª–∏ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–∞ –≤ –ø–æ—Ä—è–¥–∫–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –µ–≥–æ –∏ status=Ok\nif text_len > 10 and text_len <= text_limit:\n  return [{\"json\": {\"text\": text, \"status\": \"ok\", \"text_len\": text_limit_now}}]\n\n# –ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∞ –ª—é–±–∞—è –ø—Ä–æ–±–ª–µ–º–∞, –ø—Ä–æ–≤–µ—Ä—è–µ–º —Å—á–µ—Ç—á–∏–∫ –ø—Ä–æ–±–ª–µ–º\n# –°—á–µ—Ç—á–∏–∫–æ–º —Å–ª—É–∂–∏—Ç —Ç–µ–∫—É—â–µ–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –Ω–∞ –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞\n# –ï—Å–ª–∏ –æ–Ω–æ —Å–ª–∏—à–∫–æ–º –º–∞–ª–æ–µ - —ç—Ç–æ —É–∂–µ —Å—Ç—Ä–∞–Ω–Ω–æ\nif text_limit_now < 0:\n  # –°—á–µ—Ç—á–∏–∫ –æ—à–∏–±–æ–∫ –ø—Ä–µ–≤—ã—Å–∏–ª –ª–∏–º–∏—Ç\n  return [{\"json\": {\"status\": \"error\", \"text_len\": text_limit_now}}]\n  \n# –ï—Å–ª–∏ –ª–∏–º–∏—Ç –µ—â–µ –Ω–µ –ø—Ä–µ–≤—ã—à–µ–Ω –ø–æ–≤—Ç–æ—Ä—è–µ–º –ø–æ–ø—ã—Ç–∫—É –ø–µ—Ä–µ–≤–æ–¥–∞\ntext_limit_now -= 100\nreturn [{\"json\": {\"status\": \"repeat\", \"text_len\": text_limit_now}}]\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        2000,
        4032
      ],
      "id": "34f0dcbe-2362-42c1-b5b6-74012ae9cdf6",
      "name": "–ö–æ–Ω—Ç—Ä–æ–ª—å LLM",
      "notes": "–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç –æ—à–∏–±–∫–∏ –º–æ–¥–µ–ª–∏, –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –¥–ª–∏–Ω—É —Ç–µ–∫—Å—Ç–∞, –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞. –î–∞–µ—Ç –∫–æ–º–∞–Ω–¥—É —Ä–æ—É—Ç–µ—Ä—É —á—Ç–æ –¥–∞–ª—à–µ –¥–µ–ª–∞—Ç—å. –≠–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª—ã."
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# –ö–æ–Ω—Ç—Ä–æ–ª—å —Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å—Ç–∞—Ç—å–∏\n\ninput = _items[0][\"json\"]\n# –ù–µ –¥–æ–ø—É—Å–∫–∞—é—Ç—Å—è –ø—É—Å—Ç—ã–º–∏\ntry:\n  publication_text = input[\"text\"]\nexcept: \n  # –ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –æ—à–∏–±–∫–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\n  raise Exception(f\"–ù–µ—Ç —Ç–µ–∫—Å—Ç–∞. –°—Ç–∞—Ç—è –ø—Ä–æ–ø—É—â–µ–Ω–∞: \\n{input[\"publication_original\"]}\")\n\n\nreturn [\n  {\n    \"json\": {\n      \"publication_title\": input.get(\"title\", \"\"),\n      \"publication_text\": publication_text,\n      \"publication_image\": input.get(\"publication_image\", \"\"),\n      \"publication_date\": input[\"publication_date\"],\n      \"publication_original\": input[\"publication_original\"],\n      \"news_summary_id\": input[\"news_summary_id\"]\n    }\n  }\n]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        3008,
        4368
      ],
      "id": "6dac46ff-a706-4c54-a085-5937a4d4e2b1",
      "name": "–ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏",
      "onError": "continueErrorOutput",
      "notes": "–ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–ª—é—á–µ–≤—ã—Ö –ø–æ–ª–µ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ —Å–æ–±–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤. –ï—Å–ª–∏ –Ω–µ –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ - –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç–ª–µ–º–µ–Ω—Ç—É"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineAll",
        "options": {
          "fuzzyCompare": true
        }
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1216,
        4032
      ],
      "id": "58753b59-9915-47c2-a619-ba1747917e16",
      "name": "Merge"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "BEGIN;\n\nINSERT INTO {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.publication \n  (publication_title, publication_text, publication_image, publication_date, publication_original)\nVALUES \n  ('{{$json.publication_title}}', '{{$json.publication_text}}', '{{$json.publication_image}}', '{{$json.publication_date}}', '{{$json.publication_original}}');\n\nUPDATE {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5').first().json.scheme_name }}.news_summary\nSET news_summary_published = TRUE\nWHERE news_summary_id = {{$json.news_summary_id}};\n\nCOMMIT;\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        3440,
        4432
      ],
      "id": "46fc4bff-0b14-4684-8dc5-677cbde6e6af",
      "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "onError": "continueRegularOutput",
      "notes": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ —Ç–∞–±–ª–∏—Ü–µ publication –∏ –æ—Ç–º–µ—Ç–∫–∞, —á—Ç–æ –æ–Ω–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –≤ —Ç–∞–±–ª–∏—Ü–µ news_summary. –í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤ —Ä–∞–º–∫–∞—Ö —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏."
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=Workflow: {{ $workflow.name }}\nNode:     –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç–µ–π –≤ –ë–î\n\n–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞.\n---",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3824,
        4416
      ],
      "id": "45324bfc-d4fa-4780-952e-5943d0189d2e",
      "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î",
      "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1ac1bfdd-cd55-4598-9ffd-f559b47d1091",
              "leftValue": "={{ $json.success }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        3616,
        4432
      ],
      "id": "965e97b2-e8b1-4eb8-b8fa-1b75b4efd1a0",
      "name": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=Workflow: {{ $workflow.name }}\nNode:     –ö–æ–Ω—Ç—Ä–æ–ª—å —Å–±–æ—Ä–∫–∏ —Å—Ç–∞—Ç—å–∏\n\n{{ $json.error }}\n---",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        3200,
        4464
      ],
      "id": "c476ec79-da19-4722-a02f-8bbeb23a606c",
      "name": "–û—Ç—á–µ—Ç –æ –æ—à–∏–±–∫–∞—Ö –∫–æ–Ω—Ç—Ä–æ–ª—è —Å—Ç–∞—Ç–µ–π",
      "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=Workflow: {{ $workflow.name }}\nNode:     –ü–µ—Ä–µ–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞\n\n–ú–æ–¥–µ–ª—å –Ω–µ –æ–±—Ä–∞–±–æ—Ç–∞–ª–∞ —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏.\n---",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        2512,
        3856
      ],
      "id": "592a6d1b-2fd3-494f-ac24-5e769ffbc31f",
      "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Ç–µ–∫—Å—Ç–∞",
      "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=Workflow: {{ $workflow.name }}\nNode:     –ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π\n\n–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å —Ç–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏:\n{{ $json.news_summary_link }}\n---",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1824,
        3584
      ],
      "id": "8cbf079f-d810-4335-81ee-73694b94d3fc",
      "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç–∞—Ç–µ–π",
      "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
      "notesInFlow": false,
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=Workflow: {{ $workflow.name }}\nNode:     –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –≤ –ø—É–±–ª–∏–∫–∞—Ü–∏—é\n\n–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞.\n---",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1808,
        3168
      ],
      "id": "42c6d830-d151-4067-a30b-6ffc82001949",
      "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1",
      "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "1ac1bfdd-cd55-4598-9ffd-f559b47d1091",
              "leftValue": "={{ $json.success }}",
              "rightValue": "",
              "operator": {
                "type": "boolean",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1600,
        3184
      ],
      "id": "20596239-dbf2-4541-bcbb-281fecca2805",
      "name": "–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –æ—à–∏–±–æ–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ –ë–î1"
    },
    {
      "parameters": {
        "content": "## –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–π\n–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–π–¥–∂–µ—Å—Ç–∞ –∏ –Ω–æ–≤–æ—Å—Ç–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏\n–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏—Ö –≤ —Ç–∞–±–ª–∏—Ü–µ publication.",
        "height": 1600,
        "width": 3872
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        -32,
        3152
      ],
      "typeVersion": 1,
      "id": "59ea941b-2135-4715-b9a5-cc4b9404936f",
      "name": "Sticky Note13"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "# –ì–æ—Ç–æ–≤–∏–º —Å–ø–∏—Å–æ–∫ url\nurls = []\nfor item in _items:\n  try:\n    urls.append(f\"'{item[\"json\"][\"link\"]}'\")\n  except:\n    pass\nreturn [{\"json\": {\"urls\": urls}}]\n    "
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        288,
        976
      ],
      "id": "59cb1fe2-e17b-4928-bb73-3b0f1d5c94a3",
      "name": "–°–ø–∏—Å–æ–∫ —Å—Å—ã–ª–æ–∫ –Ω–∞ —Å—Ç–∞—Ç—å–∏",
      "notes": "–°–æ–∑–¥–∞–µ–º —Å–ø–∏—Å–æ–∫ url –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –¥–ª—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT *\nFROM {{ $json.scheme_name }}.publication\nWHERE publication_date <= NOW()\n  AND publication_date_complete IS NULL;\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        432,
        4912
      ],
      "id": "7acbf28e-5fdf-41c1-9e33-eccb250f3210",
      "name": "–°—Ç–∞—Ç—å–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1008,
        4912
      ],
      "id": "d3a43107-1525-40fa-ae71-2689103103c3",
      "name": "–û–±—ä–µ–¥–∏–Ω—è–µ–º —Ç–µ–∫—Å—Ç –∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ1"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å—Ç–∞—Ç–µ–π –∫ –ø–µ—á–∞—Ç–∏\ntexts = []\nfor item in _items:\n  input = item[\"json\"]\n  text = f\"<b>{input.get(\"publication_title\", \"\")}</b>\\n\\n{input.get(\"publication_text\", \"\")}\"\n  texts.append({\"json\": {\"article\": text, \"publication_id\": input[\"publication_id\"]}})\n  \nreturn texts"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        720,
        4832
      ],
      "id": "0240406d-107f-480f-923a-1aaab2b2681a",
      "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ —Ç–µ–∫—Å—Ç–∞ –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏"
    },
    {
      "parameters": {
        "url": "={{ $json.publication_image }}",
        "options": {
          "response": {
            "response": {
              "responseFormat": "file",
              "outputPropertyName": "bin_image"
            }
          }
        }
      },
      "type": "n8n-nodes-base.httpRequest",
      "typeVersion": 4.3,
      "position": [
        720,
        5008
      ],
      "id": "03ebb951-8af5-4c5f-8379-7844a423a199",
      "name": "–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π",
      "retryOnFail": true,
      "alwaysOutputData": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "sendPhoto",
        "chatId": "249503190",
        "binaryData": true,
        "binaryPropertyName": "bin_image",
        "additionalFields": {
          "caption": "={{ $json.article }}",
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1632,
        4816
      ],
      "id": "e811b0bf-7881-4640-827d-d70b7e14ac32",
      "name": "–°—Ç–∞—Ç—å–∏ —Å —Ñ–æ—Ç–æ",
      "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "Zdb8jAhQS8k9FG9p",
          "name": "AlexLena_bot"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "loose",
            "version": 2
          },
          "conditions": [
            {
              "id": "3ab2fef8-fa12-431b-90a0-40ed37316ba9",
              "leftValue": "={{ $json.error }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "notExists",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "looseTypeValidation": true,
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1200,
        4912
      ],
      "id": "430a5d4e-717d-4efe-a09f-471ec8140371",
      "name": "–ò—â–µ–º –Ω–æ–≤–æ—Å—Ç–∏ –±–µ–∑ —Ñ–æ—Ç–æ"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "={{ $json.article }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1632,
        5008
      ],
      "id": "a5b89bc4-457d-4e4d-81d4-1d90cafc7de2",
      "name": "–°—Ç–∞—Ç—å–∏ –±–µ–∑ —Ñ–æ—Ç–æ",
      "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "Zdb8jAhQS8k9FG9p",
          "name": "AlexLena_bot"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "chatId": "249503190",
        "text": "=Workflow: {{ $workflow.name }}\nNode:     –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Å—Ç–∞—Ç–µ–π\n\n–û—à–∏–±–∫–∞ –≤—ã–≤–æ–¥–∞ –≤ —Ç–µ–ª–µ–≥—Ä–∞–º–º.\n–ü—É–±–ª–∏–∫–∞—Ü–∏—è –≤ —Ç–∞–±–ª–∏—Ü–µ publication: {{ $json.publication_id }}\n–û—à–∏–±–∫–∞: {{ $json.error }}\n---",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1856,
        4912
      ],
      "id": "8c864c2b-587f-4582-9864-756b44a334ce",
      "name": "–û—Ç—á–µ—Ç –æ–± –æ—à–∏–±–∫–∞—Ö –≤—ã–≤–æ–¥–∞",
      "webhookId": "8c151408-f41a-413a-9aa9-25993f7c567e",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "sQA5ZULLYOe0BY8p",
          "name": "–û—à–∏–±–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "operation": "update",
        "schema": {
          "__rl": true,
          "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6').first().json.scheme_name }}",
          "mode": "name"
        },
        "table": {
          "__rl": true,
          "value": "publication",
          "mode": "list",
          "cachedResultName": "publication"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "publication_id": "={{ $json.publication_id }}",
            "publication_date_complete": "={{ $now.toUTC().format(\"yyyy-MM-dd HH:mm\") }}"
          },
          "matchingColumns": [
            "publication_id"
          ],
          "schema": [
            {
              "id": "publication_id",
              "displayName": "publication_id",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "number",
              "canBeUsedToMatch": true,
              "removed": false
            },
            {
              "id": "publication_title",
              "displayName": "publication_title",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "publication_text",
              "displayName": "publication_text",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "publication_image",
              "displayName": "publication_image",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "publication_date",
              "displayName": "publication_date",
              "required": true,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "publication_original",
              "displayName": "publication_original",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": true,
              "removed": true
            },
            {
              "id": "publication_date_complete",
              "displayName": "publication_date_complete",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true
            },
            {
              "id": "publication_created_at",
              "displayName": "publication_created_at",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "dateTime",
              "canBeUsedToMatch": true,
              "removed": true
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        1488,
        4912
      ],
      "id": "949e0e19-b7bc-4534-b111-ca966f0b549c",
      "name": "–ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ",
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      }
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# –§—É–Ω–∫—Ü–∏—è —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å–∏–º–≤–æ–ª—ã (—Ç–∞–∫–∞—è –∂–µ —Ñ—É–Ω–∫—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –æ–±—Ä–∞–±–æ—Ç–∫–µ —Ç–µ–∫—Å—Ç–∞)\n\ndef sql_escape(value: str) -> str:\n    return value.replace(\"'\", \"''\").replace(\"\\\\\", \"\\\\\\\\\")\n\ntitle = sql_escape(_items[0][\"json\"][\"text\"])\n\nreturn [{\"json\": {\"title\": title}}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1056,
        3776
      ],
      "id": "05660c14-b962-4d20-a5b1-3e9126e11436",
      "name": "–ö–æ–Ω—Ç—Ä–æ–ª—å"
    },
    {
      "parameters": {
        "operation": "sendPhoto",
        "chatId": "326830581",
        "binaryData": true,
        "binaryPropertyName": "bin_image",
        "additionalFields": {
          "caption": "={{ $json.article }}",
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1344,
        4720
      ],
      "id": "3f462f11-fda3-4bcd-882a-337c9e37f837",
      "name": "–î–ª—è –õ–µ–Ω—ã",
      "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "Zdb8jAhQS8k9FG9p",
          "name": "AlexLena_bot"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "chatId": "326830581",
        "text": "={{ $json.article }}",
        "additionalFields": {
          "appendAttribution": false,
          "parse_mode": "HTML"
        }
      },
      "type": "n8n-nodes-base.telegram",
      "typeVersion": 1.2,
      "position": [
        1344,
        5104
      ],
      "id": "914728ff-ad61-442a-9168-f01fb5a70679",
      "name": "–¢–æ–∂–µ –¥–ª—è –ª–µ–Ω—ã",
      "webhookId": "41d6117d-fcbd-43b6-bf18-84eb984c26cb",
      "retryOnFail": true,
      "credentials": {
        "telegramApi": {
          "id": "Zdb8jAhQS8k9FG9p",
          "name": "AlexLena_bot"
        }
      },
      "onError": "continueErrorOutput"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        304,
        112
      ],
      "id": "45b5da20-d9c3-443a-97b3-f0110f07f2f8",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        288,
        688
      ],
      "id": "724d7c29-c909-49fa-bc60-a3ea1efa48a1",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        1648
      ],
      "id": "6cfa9e51-0e6e-4966-865a-1979744342dc",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 2"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        224,
        2112
      ],
      "id": "2721718f-c2e1-4098-bca2-9a3c584c066f",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        352,
        2736
      ],
      "id": "8211c7b3-c300-4a38-bfac-6c710c2356e1",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 4"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        784,
        3280
      ],
      "id": "406ced7b-582b-40b7-8dde-a407cce97453",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 5"
    },
    {
      "parameters": {
        "operation": "extractHtmlContent",
        "extractionValues": {
          "values": [
            {
              "key": "text",
              "cssSelector": ".attachment-post-thumbnail",
              "returnValue": "attribute",
              "attribute": "src"
            }
          ]
        },
        "options": {}
      },
      "id": "ee02ff3c-955e-45cd-88e5-d0c34c1783f6",
      "name": "–ü—Ä–æ–≤–µ—Ä–∫–∞",
      "type": "n8n-nodes-base.html",
      "position": [
        1344,
        304
      ],
      "typeVersion": 1.2
    },
    {
      "parameters": {
        "url": "=https://techcrunch.com/2026/01/08/openai-to-acquire-the-team-behind-executive-coaching-ai-tool-convogo/",
        "options": {}
      },
      "id": "7d6c8df8-024a-40c2-98fc-8a109e8b3ed9",
      "name": "–ü–æ–ª—É—á–µ–Ω–∏–µ HTML —Å—Ç–∞—Ç–µ–π1",
      "type": "n8n-nodes-base.httpRequest",
      "position": [
        1152,
        304
      ],
      "typeVersion": 4.2,
      "retryOnFail": true,
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "content": "## –ü–æ–∏—Å–∫ –∏ –∑–∞–ø–æ–ª–Ω–µ–Ω–∏–µ css —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤ –≤ —Å—Ç–∞—Ç—å—è—Ö\n- –û–±—Ä–∞—Ç–∏—Ç—å –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫—É Extract HTML Content –Ω–æ–¥—ã: –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–µ–∫—Å—Ç–∞:  Return Value —É–∫–∞–∑–∞—Ç—å - Text, –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - Attribute –∏ —É–∫–∞–∑–∞—Ç—å –∞—Ç—Ä–∏–±—É—Ç src.\n- –í –ø—Ä–æ–≥—Ä–∞–º–º–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã –ø–æ–¥—Å—Ç–∞–≤–ª—è—é—Ç—Å—è –∏–∑ —Ç–∞–±–ª–∏—Ü—ã news_rss_channels –ë–î, –≥–¥–µ –æ–Ω–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –∑–∞–ø–∏—Å–∞–Ω—ã c —Ç–æ—á–∫–æ–π –ø–µ—Ä–µ–¥ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º.\n- –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —ç—Ç–∏ –Ω–æ–¥—ã, –≤ –ø–µ—Ä–≤–æ–π —É–∫–∞–∑–∞—Ç—å url —Å—Ç–∞—Ç—å–∏, –≤–æ –≤—Ç–æ—Ä–æ–π —Å–µ–ª–µ–∫—Ç–æ—Ä –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏.",
        "height": 240,
        "width": 512
      },
      "type": "n8n-nodes-base.stickyNote",
      "position": [
        1072,
        32
      ],
      "typeVersion": 1,
      "id": "7b7be6cf-5101-4e2d-a794-526694bf089b",
      "name": "Sticky Note14"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT\n    news_summary_link\nFROM\n    {{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 1').first().json.scheme_name }}.news_summary\nWHERE\n    news_summary_link IN ({{ $json.urls.join(\",\") }});",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        496,
        976
      ],
      "id": "a3f220cb-f10f-4663-9d9c-a66c0661c05a",
      "name": "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "notes": "–ò–∑–≤–ª–µ–∫–∞–µ–º —Å—Å—ã–ª–∫–∏ –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "# –í—Å–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ –ª–µ–Ω—Ç—ã\nall_articles = _('–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã').all()\n\n# –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î\nexisting_links = [item.json[\"news_summary_link\"] for item in items if item.json.get(\"news_summary_link\")]\n\n# –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ (–∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç)\nout_list = []\nfor article in all_articles:\n  if article.json.link not in existing_links:\n    out_list.append(article)\nreturn out_list"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        1168
      ],
      "id": "f2c7a362-bbac-4e89-9522-b589fcab9542",
      "name": "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î py"
    },
    {
      "parameters": {
        "jsCode": "// –í—Å–µ —Å—Ç–∞—Ç—å–∏ –∏–∑ –ª–µ–Ω—Ç—ã\nconst all_articles = $('–ß—Ç–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥–Ω–æ–π RSS –ª–µ–Ω—Ç—ã').all()\n\n// –°—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ —É–∂–µ –µ—Å—Ç—å –≤ –ë–î\nconst existing_links = $input.all()\n  .map(item => item.json.news_summary_link)\n  .filter(link => link); // —É–±–∏—Ä–∞–µ–º undefined/null/–ø—É—Å—Ç—ã–µ\n\n// –û—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ (–∫–æ—Ç–æ—Ä—ã—Ö –µ—â–µ –Ω–µ—Ç)\nconst out_list = all_articles.filter(article => \n  !existing_links.includes(article.json.link)\n);\n\n// –ï—Å–ª–∏ —Å—Ç–∞—Ç–µ–π –Ω–µ—Ç ‚Äî –≥–µ–Ω–µ—Ä–∏—Ä—É–µ–º –æ—à–∏–±–∫—É \nif (out_list.length === 0) { \n  throw new Error('–ù–æ–≤–æ—Å—Ç–µ–π –Ω–µ—Ç'); \n}\n\nreturn out_list;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        704,
        976
      ],
      "id": "5ffa541b-6166-467d-85df-50ce08690c4a",
      "name": "–°—Ç–∞—Ç—å–∏ –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î",
      "onError": "continueErrorOutput",
      "notes": "\n–ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Å–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —Å—Ç–∞—Ç—å–∏ –∏  —Å—Å—ã–ª–∫–∏ –Ω–∞ —Å—Ç–∞—Ç—å–∏, –∫–æ—Ç–æ—Ä—ã–µ –µ—Å—Ç—å –≤ –ë–î\n–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–µ, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ –ë–î"
    },
    {
      "parameters": {
        "language": "python",
        "pythonCode": "# –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—è –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∞–Ω–æ–Ω—Å –Ω–æ–≤–æ—Å—Ç–∏\nnews_rss_short = _(\"–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã\").first().json[\"news_rss_short\"]\n\nresults = []  # –°–æ–±–∏—Ä–∞–µ—Ç –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–µ–π\nfor item in items:\n  json = item.json\n  title = json.get(\"title\", \"\")\n  text = json.get(news_rss_short, \"\")[0:500]\n  result = f\"{title} \\n {text}\"\n  results.append({\"json\": {\"output\": result}})\n\nreturn results\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1040,
        496
      ],
      "id": "8472dc6d-17e2-4359-8437-2fb0b255c38b",
      "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞ py",
      "notes": "–°–ª–∏–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–π –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤"
    },
    {
      "parameters": {
        "jsCode": "// –ü–æ–ª—É—á–∞–µ–º –∏–º—è –ø–æ–ª—è –ø–æ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∞–Ω–æ–Ω—Å –Ω–æ–≤–æ—Å—Ç–∏\nconst news_rss_short = $(\"–ü–µ—Ä–µ–±—Ä–∞—Ç—å RSS –ª–µ–Ω—Ç—ã\").first().json.news_rss_short;\n\n// –°–æ–±–∏—Ä–∞–µ–º –º–∞—Å—Å–∏–≤ —Å—Ç–∞—Ç–µ–π\nconst results = $input.all().map(item => {\n  const json = item.json;\n  const title = json[\"title\"] || \"\";\n  const text = json[news_rss_short] ? json[news_rss_short].substring(0, 500) : \"\";\n  const result = `${title}\\n${text}`;\n  return { json: { output: result } };\n});\n\nreturn results;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1040,
        688
      ],
      "id": "279bbe99-680f-48bb-aff9-e21683110d40",
      "name": "–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –º–∞—Ç–µ—Ä–∏–∞–ª–æ–≤ –¥–ª—è –¥–∞–π–¥–∂–µ—Å—Ç–∞",
      "notes": "–°–ª–∏–≤–∞–µ—Ç –Ω–∞–∑–≤–∞–Ω–∏–µ –∏ —Ç–µ–∫—Å—Ç –æ–±—Ä–µ–∑–∞–Ω–Ω—ã–π –¥–æ 500 —Å–∏–º–≤–æ–ª–æ–≤"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0241a5c8-47dd-49b1-9375-27d4708c5ef2",
              "name": "–ø–æ–ª–µ 1",
              "value": 1,
              "type": "number"
            },
            {
              "id": "5d1e212d-4d9c-4010-b1c5-62a298b26643",
              "name": "–ø–æ–ª–µ 2",
              "value": 2,
              "type": "number"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -608,
        4032
      ],
      "id": "3941ee93-ee77-4304-909b-068081165e83",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0241a5c8-47dd-49b1-9375-27d4708c5ef2",
              "name": "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
              "value": "–ü–µ—Ä–≤—ã–π",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1008,
        4016
      ],
      "id": "c22bc325-30f6-4b9f-b681-3bda34259e9f",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "0241a5c8-47dd-49b1-9375-27d4708c5ef2",
              "name": "—Ç–æ–∫–µ–Ω",
              "value": "—Ç–æ–∫–µ–Ω",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -816,
        3888
      ],
      "id": "06a94474-2810-4fdb-a831-d47a5dbf5766",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "ba73c295-b9af-4a1c-863e-91c95b5d81f6",
              "name": "array",
              "value": "={{ $json }}",
              "type": "object"
            },
            {
              "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
              "name": "–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å",
              "value": "={{ $('Edit Fields1').item.json[\"–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å\"] }}",
              "type": "string"
            },
            {
              "id": "d992dbf8-20eb-41eb-938e-856c9fb7f396",
              "name": "—Ç–æ–∫–µ–Ω",
              "value": "={{ $('Edit Fields2').item.json[\"—Ç–æ–∫–µ–Ω\"] }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        -1120,
        4368
      ],
      "id": "7f25417f-96a3-4920-bdcc-6bbc8ea459c1",
      "name": "Edit Fields3"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "import json\n\n\nout = []\ns = _items[0][\"json\"][\"array\"]\n\nreturn [{\"json\": {\"out\": s}}]"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        -864,
        4368
      ],
      "id": "a049185e-357d-4022-8dba-20891ecccefe",
      "name": "Code in Python (Native)"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT *\nFROM public.app\nWHERE app_name = 'news'\n  AND app_user_id = (\n    SELECT user_id\n    FROM public.\"user\"\n    WHERE user_login = '{{ $json.scheme_name }}'\n  );\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        416,
        2112
      ],
      "id": "66ef0b66-f31a-464b-b54f-f186ce96dcc2",
      "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "89acf017-4d93-4968-a8e0-320a1e7e9c98",
              "name": "base_url",
              "value": "={{ $json.app_base_url }}",
              "type": "string"
            },
            {
              "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
              "name": "scheme_name",
              "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').first().json.scheme_name }}",
              "type": "string"
            },
            {
              "id": "627bd1be-71f4-429e-a724-8992923793a1",
              "name": "mode",
              "value": "={{ $json.app_mode }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        832,
        2208
      ],
      "id": "07a370e1-cf36-4f68-900f-92cc07f35ca1",
      "name": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä",
      "notes": "–ó–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "ad7eb20e-63d9-43b8-9510-4d6fae25f0ed",
              "name": "articles",
              "value": "={{ $input.all().map(item => item.json) }}",
              "type": "array"
            },
            {
              "id": "89acf017-4d93-4968-a8e0-320a1e7e9c98",
              "name": "base_url",
              "value": "={{ $('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è').first().json.app_base_url }}",
              "type": "string"
            },
            {
              "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
              "name": "scheme_name",
              "value": "={{ $('–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 3').first().json.scheme_name }}",
              "type": "string"
            },
            {
              "id": "627bd1be-71f4-429e-a724-8992923793a1",
              "name": "mode",
              "value": "={{ $('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è').first().json.app_mode }}",
              "type": "string"
            },
            {
              "id": "4f27325a-9b2c-482c-b688-9f2083991557",
              "name": "timezone",
              "value": "={{ $('–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è').first().json.app_timezone }}",
              "type": "number"
            },
            {
              "id": "d26d84e1-f2af-48f6-b153-4de5a147d4f0",
              "name": "token",
              "value": "={{ $('–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–∞').first().json.token }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1440,
        2032
      ],
      "id": "fc72a11e-7f29-4f1e-9dae-0fa3a7ffd9ec",
      "name": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä 1",
      "executeOnce": true,
      "notes": "–ó–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT *\nFROM public.app\nWHERE app_name = 'news'\n  AND app_user_id = (\n    SELECT user_id\n    FROM public.\"user\"\n    WHERE user_login = '{{ $json.scheme_name }}'\n  );\n",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        528,
        2800
      ],
      "id": "f53294d4-ba96-4325-b0c4-0d8b166778c7",
      "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 1",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "language": "pythonNative",
        "pythonCode": "# –í Python Node\nhtml = \"\"\"\n\n<!DOCTYPE html>\n<html lang=\"ru\">\n<head>\n  <meta charset=\"UTF-8\">\n  <title>–ó–∞–¥–∞–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ</title>\n  <style>\n    body {\n      margin: 0;\n      height: 100vh;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      font-family: system-ui, sans-serif;\n    }\n\n    h1 {\n      font-size: 3em;\n    }\n\n    /* –°–≤–µ—Ç–ª–∞—è —Ç–µ–º–∞ */\n    @media (prefers-color-scheme: light) {\n      body { background-color: #ffffff; }\n      h1 { color: #222222; }\n    }\n\n    /* –¢—ë–º–Ω–∞—è —Ç–µ–º–∞ */\n    @media (prefers-color-scheme: dark) {\n      body { background-color: #111111; }\n      h1 { color: #eeeeee; }\n    }\n  </style>\n</head>\n<body>\n  <h1>–ì–æ—Ç–æ–≤–æ</h1>\n</body>\n</html>\n\n\n\"\"\"\n\n# –í–µ—Ä–Ω—ë–º –∫–∞–∫ output\nreturn {\n    \"body\": html\n}\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1648,
        2848
      ],
      "id": "bbd00c6f-56b1-48c2-9605-f6a1b96495f6",
      "name": "HTML2",
      "alwaysOutputData": true
    },
    {
      "parameters": {
        "respondWith": "text",
        "responseBody": "={{ $json.body }}",
        "options": {
          "responseHeaders": {
            "entries": [
              {
                "name": "Content-Type",
                "value": "text/html"
              }
            ]
          }
        }
      },
      "type": "n8n-nodes-base.respondToWebhook",
      "typeVersion": 1.4,
      "position": [
        1840,
        2848
      ],
      "id": "3b8c4a60-c330-42aa-bc52-01472e384005",
      "name": "–ì–æ—Ç–æ–≤–æ",
      "executeOnce": false
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "89acf017-4d93-4968-a8e0-320a1e7e9c98",
              "name": "title",
              "value": "={{ $('Merge').item.json.title }}",
              "type": "string"
            },
            {
              "id": "3493cf3e-4973-45e2-a442-cdde3482dbdd",
              "name": "text_len",
              "value": "={{ $('–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ —Å—Ç–∞—Ç—å–∏').item.json.text_len }}",
              "type": "number"
            },
            {
              "id": "627bd1be-71f4-429e-a724-8992923793a1",
              "name": "text_limit_now",
              "value": "={{ $('pass').item.json.text_len }}",
              "type": "number"
            },
            {
              "id": "4f27325a-9b2c-482c-b688-9f2083991557",
              "name": "text",
              "value": "={{ $json.text || \"\"}}",
              "type": "string"
            },
            {
              "id": "5dcca407-331a-452a-bb5c-f0be6aa97102",
              "name": "error",
              "value": "={{ $json.error || \"\"}}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1840,
        4032
      ],
      "id": "65a12fb3-b7f6-4011-89db-a5bf67b8fbe2",
      "name": "–ê–≥—Ä–µ–≥–∞—Ç–æ—Ä ",
      "executeOnce": true,
      "notes": "–ó–∞–¥–∞–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞"
    },
    {
      "parameters": {
        "jsCode": "// –î–æ—Å—Ç—É–ø –∫ –∏–º–µ–Ω–∏ —Ä–∞–±–æ—á–µ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—É—â–µ—Å—Ç–≤–ª—è–µ—Ç—Å—è —á–µ—Ä–µ–∑ _workflow.name\nconst workflow_name = $workflow.name;\n\n// –û–∂–∏–¥–∞–µ–º –∏–º—è —Ç–∏–ø–∞ \"DB_Initializer_Schema_HR\"\n\n// –ï—Å—Ç—å –ª–∏ –≤ –∏–º–µ–Ω–∏ —Å—É—Ñ—Ñ–∏–∫—Å\nconst parsing = workflow_name.split('_');\nif (parsing.length < 2) {\n  throw new Error(\"–ù–µ —É–∫–∞–∑–∞–Ω–∞ —Å—Ö–µ–º–∞ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –Ω–∞–∑–≤–∞–Ω–∏–∏ –ø—Ä–æ—Ü–µ—Å—Å–∞.\");\n}\n\nconst schema_name = parsing[1];\n\nreturn [{ json: { scheme_name: schema_name } }];\n"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        240,
        4912
      ],
      "id": "74d61ecd-35eb-4c8b-aa28-268cd4da8c3c",
      "name": "–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞ 6"
    },
    {
      "parameters": {
        "operation": "executeQuery",
        "query": "SELECT a.*, u.user_login \nFROM public.app AS a \nJOIN public.\"user\" AS u \n  ON a.app_user_id = u.user_id \nWHERE a.app_name = 'news' \n  AND u.user_login = '{{ $json.scheme_name }}'",
        "options": {}
      },
      "type": "n8n-nodes-base.postgres",
      "typeVersion": 2.6,
      "position": [
        416,
        1648
      ],
      "id": "f5abd169-f47a-49ea-972e-55d6a540f932",
      "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è 2",
      "alwaysOutputData": true,
      "credentials": {
        "postgres": {
          "id": "MfAbjD5qwZeFYS7N",
          "name": "–ë–î Supabase"
        }
      },
      "onError": "continueRegularOutput"
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "numberInputs": 3,
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        816,
        2832
      ],
      "id": "ac603d74-d719-4b66-b016-522e7e73487a",
      "name": "–ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ —Ç–æ–∫–µ–Ω"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours",
              "hoursInterval": 4
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        48,
        688
      ],
      "id": "0eb11793-d114-4ea0-bfac-6cb263e8900b",
      "name": "–ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞"
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 15
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        64,
        4912
      ],
      "id": "a378bfea-a1ba-4c2c-ad08-4f9dc14b69d2",
      "name": "–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç"
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "1V5Kup7MoOLhacSAl1odtps9IoFrk25FYw0b1SsCErJo",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "=–ù–∞–∑–≤–∞–Ω–∏–µ:\n{{ $json.title }}\n\n–¢–µ–∫—Å—Ç:\n{{ $json.text }}\n\n–û—à–∏–±–∫–∞:\n{{ $json.error }}\n\n{{ $now.format('dd.MM.yyyy HH.mm.ss') }}\n\n---------------------------------------------------------------------------------------------\n\n\n"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        1648,
        3872
      ],
      "id": "0c660cfd-3518-4ce6-9a96-5602f624d1f9",
      "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "L624Ii6auyun1gBa",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "operation": "update",
        "documentURL": "1V5Kup7MoOLhacSAl1odtps9IoFrk25FYw0b1SsCErJo",
        "actionsUi": {
          "actionFields": [
            {
              "action": "insert",
              "text": "=–ù–∞–∑–≤–∞–Ω–∏–µ:\n{{ $json.title }}\n\n–¢–µ–∫—Å—Ç:\n{{ $json.text }}\n\n–û—à–∏–±–∫–∞:\n{{ $json.error }}\n\n{{ $now.format('dd.MM.yyyy HH.mm.ss') }}\n\n---------------------------------------------------------------------------------------------\n\n\n"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.googleDocs",
      "typeVersion": 2,
      "position": [
        1920,
        3856
      ],
      "id": "45345c19-91c4-4483-8e77-792ada2eff2a",
      "name": "–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ç–µ–∫—Å—Ç–æ–≤1",
      "credentials": {
        "googleDocsOAuth2Api": {
          "id": "L624Ii6auyun1gBa",
          "name": "Google Docs account"
        }
      }
    },
    {
      "parameters": {
        "numberInputs": 3
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        2528,
        1056
      ],
      "id": "d4bcfac7-1c47-4186-96fb-ebdcb33a3c54",
      "name": "Merge1",
      "alwaysOutputData": false,
      "executeOnce": false
    },
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "hours"
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        560,
        3280
      ],
      "id": "f674158b-ed08-42f2-b5ce-47cfb6565019",
      "name": "–ö–∞–∂–¥—ã–µ 1 —á–∞—Å–∞"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 3
          },
          "conditions": [
            {
              "id": "fa088fe3-4545-4442-8e86-1dfe2e33b8c0",
              "leftValue": "={{ $json.title }}",
              "rightValue": "",
              "operator": {
                "type": "string",
                "operation": "empty",
                "singleValue": true
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.3,
      "position": [
        400,
        3792
      ],
      "id": "cbc74f40-d841-4031-b516-17a65b1faf11",
      "name": "–ü—É—Å—Ç–æ–π –∑–∞–≥–æ–ª–æ–≤–æ–∫"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "e39a0f71-79e2-431d-9a95-136e7e3704b9",
              "name": "text",
              "value": "=",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        752,
        3776
      ],
      "id": "eaa4ed2a-b702-47a3-8850-921bc7ecb5ac",
      "name": "text = \"\""
    }
  ],
  "pinData": {},
  "repo_name": "N8N",
  "repo_owner": "avdivo",
  "repo_path": "",
  "settings": {
    "executionOrder": "v1",
    "availableInMCP": false,
    "timeSavedMode": "fixed",
    "saveDataSuccessExecution": "none",
    "saveExecutionProgress": false,
    "callerPolicy": "workflowsFromSameOwner"
  },
  "shared": [
    {
      "updatedAt": "2025-12-24T11:03:16.697Z",
      "createdAt": "2025-12-24T11:03:16.697Z",
      "role": "workflow:owner",
      "workflowId": "dw6dfsrfsej9e4v5",
      "projectId": "GcF8pQl3OQ6WizlQ"
    }
  ],
  "staticData": {
    "node:–ó–∞–º–µ–Ω–∏—Ç—å": {
      "recurrenceRules": [
        2
      ]
    },
    "node:Schedule Trigger": {
      "recurrenceRules": []
    },
    "node:–ó–∞–ø—É—Å–∫ –∫–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç": {
      "recurrenceRules": []
    },
    "node:–ó–∞–º–µ–Ω–∏—Ç—å1": {
      "recurrenceRules": [
        0
      ]
    },
    "node:RSS —Ç—Ä–∏–≥–µ—Ä": {
      "lastItemDate": "2026-01-09T12:00:00.000Z"
    },
    "node:–ö–∞–∂–¥—ã–µ 4 —á–∞—Å–∞": {
      "recurrenceRules": [
        16
      ]
    },
    "node:–ö–∞–∂–¥—ã–µ 2 —á–∞—Å–∞": {
      "recurrenceRules": [
        4
      ]
    },
    "node:–ö–∞–∂–¥—ã–µ 15 –º–∏–Ω—É—Ç": {
      "recurrenceRules": []
    },
    "node:–ö–∞–∂–¥—ã–µ 1 —á–∞—Å–∞": {
      "recurrenceRules": []
    }
  },
  "tags": [],
  "triggerCount": 7,
  "updatedAt": "2026-01-10T12:09:49.979Z",
  "versionId": "fb6febdd-bc68-46a4-8f32-55552e5f2829"
}